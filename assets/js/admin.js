(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{17:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return p}));const s={base:{fontFamily:"'Muli', sans-serif",fontSize:"14px",color:"#333"},invalid:{color:"red"}},o=(t,e)=>{if(e){console.log("stripe_cardform_style",t.stripe_cardform_style),console.info("type",typeof t.stripe_cardform_style);try{console.log("parse attempt",JSON.parse(t.stripe_cardform_style))}catch(t){console.error(t)}}return{biq_pk:t.taxicode_public,biq_api_host:t.biq_api_host,paypal_pk:t.paypal_public,stripe_pk:t.stripe_public,stripe_cardform_style:t.stripe_cardform_style,booking_test_mode:"1"==t.test_mode,quote_type:t.quote_type,recommend_upgrade:"1"==t.recommend_upgrade,complete_page_text:t.complete_page_text}},p={LIVE_API_HOST:"https://api.taxicode.com/",TEST_API_HOST:"https://api.stagingtaxis.co.uk/",PLACES_URI:"places/?term=",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",PGH_CONF:{hidePostalCode:!0},useButtons:!0};e.d=p},251:function(t,e,n){"use strict";n.r(e);var s=n(13);var o=function(t){var e=jQuery;let n=e("#toplevel_page_"+t),s=window.location.href,o=s.substr(s.indexOf("admin.php"));n.on("click","a",(function(){var t=e(this);e("ul.wp-submenu li",n).removeClass("current"),t.hasClass("wp-has-submenu")?e("li.wp-first-item",n).addClass("current"):t.parents("li").addClass("current")})),e("ul.wp-submenu a",n).each((function(t,n){e(n).attr("href")!==o||e(n).parent().addClass("current")}))},p=n(30),i=n(17),a={name:"BIQAdminApp",version:"1.0.1",mixins:[p.a],data:()=>({app_title:"Taxicode Booking Instant Quotes Admin",settings:{biq_api_host:i.b.LIVE_API_HOST,biq_pk:"",paypal_pk:"",stripe_pk:"",stripe_cardform_style:i.a,booking_test_mode:!1,quote_type:"",recommend_upgrade:!1,complete_page_text:""}}),created(){this.getAppSettings()},methods:{appSettingsUpdated:function(t){this.appDebugEnabled&&(console.group("Updating BIQ App Settings"),console.log("BIQ App Settings",{...this.settings}),console.log("New BIQ Settings",t));const e=Object(i.c)(t,this.appDebugEnabled);this.settings=e,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",e),console.log("BIQ App Settings",{...this.settings}),console.groupEnd())}}},r=n(19),l=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"biq-admin-vue-app"}},[n("h1",[t._v(t._s(t.app_title))]),t._v(" "),t.initialised?n("router-view",{attrs:{debugging:t.appDebugEnabled,"app-settings":t.appSettings,appRESTBaseURL:t.appURL},on:{appSettingsUpdated:t.appSettingsUpdated}}):t._e()],1)}),[],!1,null,null,null).exports,d=n(41);s.default.use(d.a);var c=new d.a({routes:[{path:"/",name:"SettingsPage",component:()=>n.e(2).then(n.bind(null,270)),props:{biq_sk:biq_sk,custom_css:custom_css}}]});s.default.config.productionTip=!1,s.default.config.devtools=!1,o("taxicode-app"),window.axios=n(33),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",new s.default({render:t=>t(l,{props:{appURL:biqAppURL,appDebugEnabled:biqAppDebugEnabled}}),el:"#biq-admin-vue-app",router:c})},30:function(t,e,n){"use strict";var s=n(33),o=n.n(s);const p={props:{appURL:{type:String,required:!0,default:"//"},appDebugEnabled:{type:Boolean,default:!1}},data:()=>({initialised:!1,settings:{}}),computed:{appSettings:function(){return{...this.settings}}},methods:{getAppSettings:function(){const t=this,e=this.appURL+"settings-get/";this.appDebugEnabled&&console.group(`Loading App Settings from '${e}'`),o.a.get(e).then(e=>{t.appSettingsUpdated(e.data),t.initialised=!0}).catch(e=>{t.appDebugEnabled&&(console.info("Updated Settings"),console.log(e)),console.error(e)}).finally(()=>{t.appDebugEnabled&&console.groupEnd()})},appSettingsUpdated:function(t){this.appDebugEnabled&&(console.group("Updating App Settings"),console.log("App Settings",{...this.settings}),console.log("New Settings",t));const e={...t};this.settings=e,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",e),console.log("App Settings",{...this.settings}),console.groupEnd())}}};e.a=p}},[[251,1,0]]]);
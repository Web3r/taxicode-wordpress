(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{18:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const s={base:{fontFamily:"'Muli', sans-serif",fontSize:"14px",color:"#333"},invalid:{color:"red"}},o=function(e){this.appDebugEnabled&&(console.group("Updating BIQ App Settings"),console.log("BIQ App Settings",{...this.settings}),console.log("New BIQ Settings",e));const t=((e,t)=>{if(t){console.log("stripe_cardform_style",e.stripe_cardform_style),console.info("type",typeof e.stripe_cardform_style);try{console.log("parse attempt",JSON.parse(e.stripe_cardform_style))}catch(e){console.error(e)}}return{biq_pk:e.taxicode_public,biq_api_host:e.biq_api_host,paypal_pk:e.paypal_public,stripe_pk:e.stripe_public,stripe_cardform_style:e.stripe_cardform_style,booking_test_mode:"1"==e.test_mode,quote_type:e.quote_type,recommend_upgrade:"1"==e.recommend_upgrade,complete_page_text:e.complete_page_text}})(e,this.appDebugEnabled);this.settings=t,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",t),console.log("BIQ App Settings",{...this.settings}),console.groupEnd())},i={LIVE_API_HOST:"https://api.taxicode.com/",TEST_API_HOST:"https://api.stagingtaxis.co.uk/",PLACES_URI:"places/?term=",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",PGH_CONF:{hidePostalCode:!0},useButtons:!0};t.c=i},262:function(e,t,n){"use strict";n.r(t);var s=n(13);var o=function(e){var t=jQuery;let n=t("#toplevel_page_"+e),s=window.location.href,o=s.substr(s.indexOf("admin.php"));n.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",n).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",n).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",n).each((function(e,n){t(n).attr("href")!==o||t(n).parent().addClass("current")}))},i=n(32),p=n(18);var a={name:"BIQAdminApp",version:"1.0.1",props:{adminNonce:{type:String,default:""}},computed:{},methods:{appSettingsUpdated:p.d},mixins:[i.a],data(){return{app_title:"Booking Instant Quotes Admin v1.0.1",admin_nonce:this.adminNonce,settings:{biq_api_host:p.b.LIVE_API_HOST,biq_pk:"",paypal_pk:"",stripe_pk:"",stripe_cardform_style:p.a,booking_test_mode:!1,quote_type:"",recommend_upgrade:!1,complete_page_text:""}}},created(){this.getAppSettings()}},r=n(19),l=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"biq-admin-vue-app"}},[n("h1",[e._v(e._s(e.app_title))]),e._v(" "),e.initialised?n("router-view",{attrs:{"admin-nonce":e.admin_nonce,"app-settings":e.appSettings,appRESTBaseURL:e.appURL,debugging:e.appDebugEnabled},on:{appSettingsUpdated:e.appSettingsUpdated}}):e._e()],1)}),[],!1,null,null,null).exports,d=n(42);s.default.use(d.a),console.log(search_target_permalink);var c=new d.a({routes:[{path:"/",name:"SettingsPage",component:()=>n.e(2).then(n.bind(null,276)),props:{biq_sk:biq_sk,custom_css:custom_css,search_target_permalink:search_target_permalink}}]});s.default.config.productionTip=!1,s.default.config.devtools=!1,o("taxicode-app"),window.axios=n(25),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",new s.default({render:e=>e(l,{props:{adminNonce:admin_nonce,appURL:biqAppURL,appDebugEnabled:biqAppDebugEnabled}}),el:"#biq-admin-vue-app",router:c})},32:function(e,t,n){"use strict";var s=n(25),o=n.n(s);const i={props:{appURL:{type:String,required:!0,default:"//"},appDebugEnabled:{type:Boolean,default:!1}},computed:{appSettings:function(){return{...this.settings}}},methods:{getAppSettings:function(){const e=this,t=this.appURL+"settings/";this.appDebugEnabled&&console.group(`Loading App Settings from '${t}'`),o.a.get(t).then(t=>{e.appSettingsUpdated(t.data),e.initialised=!0}).catch(t=>{e.appDebugEnabled&&(console.info("Updated Settings"),console.log(t)),console.error(t)}).finally(()=>{e.appDebugEnabled&&console.groupEnd()})},appSettingsUpdated:function(e){this.appDebugEnabled&&(console.group("Updating App Settings"),console.log("App Settings",{...this.settings}),console.log("New Settings",e));const t={...e};this.settings=t,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",t),console.log("App Settings",{...this.settings}),console.groupEnd())}},data:()=>({initialised:!1,settings:{}})};t.a=i}},[[262,1,0]]]);
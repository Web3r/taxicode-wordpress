(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{80:function(t,e,s){"use strict";s.r(e);var a=s(15),r={name:"App"},o=s(16),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"vue-backend-app"}},[e("h1",[this._v("Taxicode")]),this._v(" "),e("router-view")],1)}),[],!1,null,null,null).exports,n=s(26),l={name:"Home",data:()=>({msg:"Welcome to Your Vue.js Admin App"})};Object(o.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("span",[this._v(this._s(this.msg))])])}),[],!1,null,"1be020c0",null).exports;class c{constructor(){this.errors={}}has(t){return this.errors.hasOwnProperty(t)}any(){return Object.keys(this.errors).length>0}get(t){if(this.errors[t])return this.errors[t][0]}record(t){this.errors=t}clear(t){t?delete this.errors[t]:this.errors={}}}class p{constructor(t){this.originalData=t;for(let e in t)this[e]=t[e];this.errors=new c}data(){let t={};for(let e in this.originalData)t[e]=this[e];return t}reset(){for(let t in this.originalData)this[t]="";this.errors.clear()}post(t){return this.submit("post",t)}put(t){return this.submit("put",t)}patch(t){return this.submit("patch",t)}delete(t){return this.submit("delete",t)}submit(t,e){return new Promise((s,a)=>{axios[t](e,this.data()).then(t=>{this.onSuccess(t.data),s(t.data)}).catch(t=>{this.onFail(t.response.data),a(t.response.data)})})}onSuccess(t){return null!=typeof this.originalData.preserve_on_submit&&1==this.originalData.preserve_on_submit||this.reset(),t}onFail(t){this.errors.record(t)}}var u=s(18),m=s.n(u),_={name:"Settings",data:()=>({message_class:"",message:"",form:new p({taxicode_public:"",taxicode_private:"",stripe_public:"",stripe_private:"",paypal_public:"",complete_page_text:"",quote_type:"",custom_css:"",test_mode:0,preserve_on_submit:!0})}),created(){this.tcplugin_data_url=tcplugin_data_url,this.tcplugin_update_url=tcplugin_update_url,m.a.get(this.tcplugin_data_url).then(function(t){this.form.taxicode_public=t.data.taxicode_public,this.form.taxicode_private=t.data.taxicode_private,this.form.stripe_public=t.data.stripe_public,this.form.stripe_private=t.data.stripe_private,this.form.paypal_public=t.data.paypal_public,this.form.quote_type=t.data.quote_type,this.form.complete_page_text=t.data.complete_page_text,this.form.custom_css=t.data.custom_css,this.form.test_mode=t.data.test_mode}.bind(this))},methods:{save:function(){console.log(this.form.data()),this.form.post(this.tcplugin_update_url).then(t=>{this.message_class="updated",this.message="Settings Updated"}).catch(t=>{this.message_class="alternate",this.message="Failed to update settings"})}}},d=Object(o.a)(_,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-settings"},[s("h3",[t._v("Payment Settings")]),t._v(" "),s("div",{class:t.message_class},[t._v("\n        "+t._s(t.message)+"\n    ")]),t._v(" "),s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[t._m(0),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.taxicode_public,expression:"form.taxicode_public"}],staticClass:"regular-text",attrs:{name:"taxicode_public",type:"text",id:"taxicode_public"},domProps:{value:t.form.taxicode_public},on:{input:function(e){e.target.composing||t.$set(t.form,"taxicode_public",e.target.value)}}})])]),t._v(" "),s("tr",[t._m(1),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.taxicode_private,expression:"form.taxicode_private"}],staticClass:"regular-text",attrs:{name:"taxicode_private",type:"text",id:"taxicode_private"},domProps:{value:t.form.taxicode_private},on:{input:function(e){e.target.composing||t.$set(t.form,"taxicode_private",e.target.value)}}})])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.stripe_public,expression:"form.stripe_public"}],staticClass:"regular-text",attrs:{name:"stripe_public",type:"text",id:"stripe_public"},domProps:{value:t.form.stripe_public},on:{input:function(e){e.target.composing||t.$set(t.form,"stripe_public",e.target.value)}}})])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.paypal_public,expression:"form.paypal_public"}],staticClass:"regular-text",attrs:{name:"paypal_public",type:"text",id:"paypal_public"},domProps:{value:t.form.paypal_public},on:{input:function(e){e.target.composing||t.$set(t.form,"paypal_public",e.target.value)}}})])])])]),t._v(" "),s("h3",[t._v("Plugin Settings")]),t._v(" "),s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[t._m(4),t._v(" "),s("td",[t._m(5),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.test_mode,expression:"form.test_mode"}],attrs:{type:"radio",name:"test_mode",value:"1"},domProps:{checked:t._q(t.form.test_mode,"1")},on:{change:function(e){return t.$set(t.form,"test_mode","1")}}}),t._v("Making Bookings In Test Mode")]),s("br"),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.test_mode,expression:"form.test_mode"}],attrs:{type:"radio",name:"test_mode",value:"0"},domProps:{checked:t._q(t.form.test_mode,"0")},on:{change:function(e){return t.$set(t.form,"test_mode","0")}}}),t._v("Make Live Bookings")]),s("br")])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td",[t._m(7),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quote_type,expression:"form.quote_type"}],attrs:{type:"radio",name:"quote_type",value:"all"},domProps:{checked:t._q(t.form.quote_type,"all")},on:{change:function(e){return t.$set(t.form,"quote_type","all")}}}),t._v(" All")]),s("br"),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quote_type,expression:"form.quote_type"}],attrs:{type:"radio",name:"quote_type",value:"best"},domProps:{checked:t._q(t.form.quote_type,"best")},on:{change:function(e){return t.$set(t.form,"quote_type","best")}}}),t._v(" Only Best")]),s("br"),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quote_type,expression:"form.quote_type"}],attrs:{type:"radio",name:"quote_type",value:"type_class"},domProps:{checked:t._q(t.form.quote_type,"type_class")},on:{change:function(e){return t.$set(t.form,"quote_type","type_class")}}}),t._v(" Cheapest by type and class")]),s("br")])]),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.complete_page_text,expression:"form.complete_page_text"}],staticClass:"regular-text",attrs:{name:"complete_page_text",id:"complete_page_text"},domProps:{value:t.form.complete_page_text},on:{input:function(e){e.target.composing||t.$set(t.form,"complete_page_text",e.target.value)}}})])])])]),t._v(" "),s("h3",[t._v("Custom CSS")]),t._v(" "),s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[t._m(9),t._v(" "),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.custom_css,expression:"form.custom_css"}],staticClass:"regular-text",attrs:{name:"custom_css",id:"custom_css"},domProps:{value:t.form.custom_css},on:{input:function(e){e.target.composing||t.$set(t.form,"custom_css",e.target.value)}}})])])])]),t._v(" "),s("button",{staticClass:"button button-primary",on:{click:t.save}},[t._v("Save settings")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"taxicode_public"}},[this._v("Taxicode API public key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"taxicode_private"}},[this._v("Taxicode API private key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"stripe_public"}},[this._v("Stripe API public key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"paypal_public"}},[this._v("Paypal Client ID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",[this._v("Test Mode")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",{staticClass:"screen-reader-text"},[e("span",[this._v("Quotes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",[this._v("Quote Display")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",{staticClass:"screen-reader-text"},[e("span",[this._v("Quotes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"complete_page_text"}},[this._v("Complete page text")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",{attrs:{scope:"row"}},[e("label",{attrs:{for:"custom_css"}},[this._v("Custom CSS")])])}],!1,null,"7db51432",null).exports;a.default.use(n.a);var v=new n.a({routes:[{path:"/",name:"Settings",component:d}]});var h=function(t){var e=jQuery;let s=e("#toplevel_page_"+t),a=window.location.href,r=a.substr(a.indexOf("admin.php"));s.on("click","a",(function(){var t=e(this);e("ul.wp-submenu li",s).removeClass("current"),t.hasClass("wp-has-submenu")?e("li.wp-first-item",s).addClass("current"):t.parents("li").addClass("current")})),e("ul.wp-submenu a",s).each((function(t,s){e(s).attr("href")!==r||e(s).parent().addClass("current")}))};window.axios=s(18),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a.default.config.productionTip=!1,new a.default({el:"#vue-admin-app",router:v,render:t=>t(i)}),h("taxicode-app")}},[[80,0,1]]]);
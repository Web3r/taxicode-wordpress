(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{13:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return u})),s.d(t,"g",(function(){return c})),s.d(t,"d",(function(){return p})),s.d(t,"e",(function(){return d})),s.d(t,"f",(function(){return l}));var o=s(17),n=s.n(o);class r extends Error{constructor(e,t,s,o){super(o),Error.captureStackTrace(this,r),this.getURL=this.getURL.bind(this),this.getKey=this.getKey.bind(this),this.getCulprit=this.getCulprit.bind(this),this.getDesc=this.getDesc.bind(this),this.setDesc=this.setDesc.bind(this),this.toString=this.toString.bind(this),this.toJSON=this.toJSON.bind(this),this.name="BIQAPIERR",this.data={},this.URL=e,this.k=t,this.e=s,this.setDesc(`${this.name} - ${this.message}`)}hasData(){return Object.keys(this.data).length>0}getData(){return this.data}addData(e){const t={...this.data,...e};this.data=t}getURL(){return this.URL}getKey(){return this.k}getCulprit(){return this.e}getDesc(){return this.desc}setDesc(e){this.desc=e}toString(){return this.getDesc()}toJSON(){return{name:this.name,message:this.message,desc:this.getDesc(),error:this.getCulprit(),stack:this.stack,URL:this.getURL(),key:this.getKey(),data:this.getData()}}}const i="https://api.taxicode.com/",a="https://api.stagingtaxis.co.uk/",u="auth/",c=(e,t,s,o)=>{o&&(console.log(s,{...t}),console.info(t.toString(),t.toJSON()),console.error(t));const n=t.message||"Unknown";return t.setDesc(`${s} - ${n}`),e(t)},p=(e,t,s)=>new Promise((o,i)=>n.a.get(`${e}&key=${t}`).then(n=>o(d(e,t,n,s))).catch(o=>{s&&(console.log("BIQ API Error",{...o}),console.error(o));const n=o.message||"Unknown";return i(new r(e,t,o,n))})),d=(e,t,s,o)=>{if(o&&console.log("BIQ API response for - "+e,s),"OK"!=s.data.status){const e=s.data[s.data.status]||s.data[s.data.status.toLowerCase()];throw console.warn(e),new ErrorEvent(s.data.status,{error:new Error("BIQ API Error"),message:e})}return{...s.data}},l=(e,t,s,o)=>{const n=o||s.message,i=new r(e,t,s,o);return{message:s.message,err:i,data:{URL:e,key:t,message:n,error:s}}}},19:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return u})),s.d(t,"e",(function(){return c})),s.d(t,"h",(function(){return p})),s.d(t,"g",(function(){return d})),s.d(t,"d",(function(){return l}));var o=s(13),n=s(23),r=s(30);const i={base:{fontFamily:"'Muli', sans-serif",fontSize:"14px",color:"#333"},invalid:{color:"red"}},a="https://stripe.com/docs/js/appendix/style",u="https://docs.mapbox.com/api/maps/styles/#mapbox-styles",c=(e,t)=>{if(t){console.log("stripe_cardform_style",e.stripe_cardform_style),console.info("type",typeof e.stripe_cardform_style);try{console.log("parse attempt",JSON.parse(e.stripe_cardform_style))}catch(e){console.error(e)}}return{biq_pk:e.taxicode_public,biq_api_host:e.biq_api_host,mapbox_pk:e.mapbox_public,mapbox_style:e.mapbox_style,paypal_pk:e.paypal_public,stripe_pk:e.stripe_public,stripe_cardform_style:e.stripe_cardform_style,booking_test_mode:"1"==e.test_mode,quote_type:e.quote_type,recommend_upgrade:"1"==e.recommend_upgrade,complete_page_text:e.complete_page_text}},p=e=>({headers:{"X-WP-Nonce":e}}),d=function(e,t){this.appDebugEnabled&&(console.group("Updating BIQ App Settings"),console.log("BIQ App Settings",{...this.settings}),console.log("New BIQ Settings",e));const s="function"==typeof t?t.call(this,e):c(e,this.appDebugEnabled);this.settings=s,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",s),console.log("BIQ App Settings",{...this.settings}),console.groupEnd())},l={LIVE_API_HOST:o.b,TEST_API_HOST:o.c,AUTH_URI:o.a,PLACES_URI:n.b,QUOTE_URI:n.c,JOURNEY_URI:n.a,CLIENT_SECRET_URI:r.a,PAYMENT_URI:r.b,PGH_CONF:{hidePostalCode:!0}};t.f=l},21:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"d",(function(){return a})),s.d(t,"c",(function(){return u})),s.d(t,"i",(function(){return c})),s.d(t,"j",(function(){return p})),s.d(t,"g",(function(){return d})),s.d(t,"h",(function(){return l})),s.d(t,"b",(function(){return g})),s.d(t,"f",(function(){return m})),s.d(t,"e",(function(){return b}));var o=s(6),n=s.n(o),r=s(39);const i={pickup:r.c,destination:r.c,vias:[],people:1,return:!1,date:"",distance:1,duration:116,duration_text:"1 min",quote_type:"mileage",is_airport:!1,hourly:!1},a={pickup:"Pickup : ",destination:"Destination : ",via:"Via : ",passengers:"Passengers : ",date:"Date : ",return_date:"Returning : "},u=e=>({pickup:e.pickup,destination:e.destination,vias:e.vias,people:e.people,return:e.return,date:e.date,distance:e.distance,duration:e.duration,duration_text:e.duration_text,quote_type:e.quote_type,is_airport:e.is_airport,hourly:e.hourly}),c=e=>null!==e?e.toDateString():"",p=e=>null!==e?e.toLocaleTimeString():"",d=e=>n()(String(e)).format("ll"),l=e=>n()(String(e)).format("h:mma"),h=e=>new Date(Date.parse(e)),g=e=>c(h(e)),m=e=>p(h(e)),b=e=>"&pound;"+new Number(e).toFixed(2)},22:function(e,t,s){"use strict";s.d(t,"a",(function(){return p})),s.d(t,"e",(function(){return d})),s.d(t,"d",(function(){return l})),s.d(t,"c",(function(){return h})),s.d(t,"b",(function(){return g}));const o=(e,t)=>e.price>t.price?1:t.price>e.price?-1:0,n=(e,t)=>e.rating.score>t.rating.score?-1:t.rating.score>e.rating.score?1:0,r=(e,t)=>{switch(t){case"SORT_BY_PRICE":return e.sort(o);case"SORT_BY_RATING":return e.sort(n);default:return e}};const i=(e,t,s)=>{const o=[];console.group("Formatting BIQ Quotes"),console.log("Quotes",{...e}),console.log("Type",t),console.log("Sort Order",s),Object.keys(e).forEach(s=>{const n={...e[s],quote_id:s,selected_vehicle:0};("best"!=t||"best"==t&&n.highlight)&&o.push(n)});const n=r(o,s);return console.log("Sorted",n),console.groupEnd(),n},a=(e,t)=>{console.group("Reducing BIQ Quotes to type & class only"),console.log("Quotes",{...e}),console.log("Sort Order",t);const s=u(e,t);console.log({...s});const o=s.sorted,n={};return o.hasOwnProperty("recommended")&&o.recommended.length&&(n.cheapest=o.recommended[0]),o.hasOwnProperty("executive")&&o.executive.length&&(n.exec=o.executive[0]),o.hasOwnProperty("vip")&&o.vip.length&&(n.luxury=o.vip[0]),o.hasOwnProperty("chauffeur")&&o.chauffeur.length&&(n.chauffeur=o.chauffeur[0]),console.log("Sorted",n),console.groupEnd(),n},u=(e,t)=>{let s={},o={};for(let t in e){let n=e[t];if(n.active){s[t]=n,n.quote_id=t;for(let e=0;e<n.vehicles.length;e++){let t={...n};t.selected_vehicle=e,t.vehicle=n.vehicles[e],t.vehicle.index=t.selected_vehicle,t.price=t.vehicle.price;let s=t.vehicle.type.class;delete t.vehicles,o.hasOwnProperty("recommended")||(o.recommended=[]),t.highlight&&(0===e?o.recommended.push(t):t.highlight=!1),o.hasOwnProperty("all")||(o.all=[]),o.all.push(t),o.hasOwnProperty(s)||(o[s]=[]),o[s].push(t)}}}for(let e in o)o[e]=r(o[e],t);return{raw:s,sorted:o}};var c=s(21);const p="SORT_BY_PRICE",d={biqQuotesSearched:{name:"biqQuotesSearched"},biqZeroQuotes:{name:"biqZeroQuotes"},biqQuotesError:{name:"biqQuotesError"}},l={biqQuoteBookNow:{name:"biqQuoteBookNow"}},h=(e,t,s)=>({type:t,quotes:"type_class"==t?a(e,"SORT_BY_PRICE"):i(e,t,s)}),g=()=>({quoting:!1,quotes_loaded:!1,api_error:!1,journey_id:"",journey_details:Object(c.c)(c.a),journey_quotes:{}})},23:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return i})),s.d(t,"d",(function(){return a})),s.d(t,"e",(function(){return u}));var o=s(13);const n="places/?term=",r="booking/quote/",i="booking/journey/?id=",a=(e,t,s,n,r)=>new Promise((i,a)=>{Object(o.d)(`${e}${s}`,t,r).then(e=>e.results).then(e=>{let t=[],s=[],o=[];void 0!==e.AIRPORT&&(t=e.AIRPORT.map(e=>n(e,"airport"))),void 0!==e.STATION&&(s=e.STATION.map(e=>n(e,"station"))),void 0!==e.LOCATION&&(o=e.LOCATION.map(e=>n(e,"location")));const r=e.GOOGLE.map(e=>n(e.string,e.poi?"poi":"general"));return i(t.concat(s,o,r))}).catch(e=>Object(o.g)(a,e,"BIQ Places Lookup API Error",r))}),u=(e,t,s,n)=>{let r=`pickup=${s.pickup}&destination=${s.destination}&date=${s.date} ${s.time}&people=${s.people}`;return s.hasReturn&&(r=`${r}&return=${s.returning.date} ${s.returning.time}`),s.vias.length&&(r=`${r}&via=${s.vias[0]}`),new Promise((s,i)=>{Object(o.d)(`${e}?${r}`,t,n).then(e=>{const t={journey_id:e.journey_id,journey:e.journey,quotes:e.quotes,count:Object.keys(e.quotes).length};return t.count||(t.warnings=e.warnings),s(t)}).catch(e=>Object(o.g)(i,e,"BIQ Quotes Search API Error",n))})}},240:function(e,t,s){var o={"./af":59,"./af.js":59,"./ar":60,"./ar-dz":61,"./ar-dz.js":61,"./ar-kw":62,"./ar-kw.js":62,"./ar-ly":63,"./ar-ly.js":63,"./ar-ma":64,"./ar-ma.js":64,"./ar-sa":65,"./ar-sa.js":65,"./ar-tn":66,"./ar-tn.js":66,"./ar.js":60,"./az":67,"./az.js":67,"./be":68,"./be.js":68,"./bg":69,"./bg.js":69,"./bm":70,"./bm.js":70,"./bn":71,"./bn-bd":72,"./bn-bd.js":72,"./bn.js":71,"./bo":73,"./bo.js":73,"./br":74,"./br.js":74,"./bs":75,"./bs.js":75,"./ca":76,"./ca.js":76,"./cs":77,"./cs.js":77,"./cv":78,"./cv.js":78,"./cy":79,"./cy.js":79,"./da":80,"./da.js":80,"./de":81,"./de-at":82,"./de-at.js":82,"./de-ch":83,"./de-ch.js":83,"./de.js":81,"./dv":84,"./dv.js":84,"./el":85,"./el.js":85,"./en-au":86,"./en-au.js":86,"./en-ca":87,"./en-ca.js":87,"./en-gb":88,"./en-gb.js":88,"./en-ie":89,"./en-ie.js":89,"./en-il":90,"./en-il.js":90,"./en-in":91,"./en-in.js":91,"./en-nz":92,"./en-nz.js":92,"./en-sg":93,"./en-sg.js":93,"./eo":94,"./eo.js":94,"./es":95,"./es-do":96,"./es-do.js":96,"./es-mx":97,"./es-mx.js":97,"./es-us":98,"./es-us.js":98,"./es.js":95,"./et":99,"./et.js":99,"./eu":100,"./eu.js":100,"./fa":101,"./fa.js":101,"./fi":102,"./fi.js":102,"./fil":103,"./fil.js":103,"./fo":104,"./fo.js":104,"./fr":105,"./fr-ca":106,"./fr-ca.js":106,"./fr-ch":107,"./fr-ch.js":107,"./fr.js":105,"./fy":108,"./fy.js":108,"./ga":109,"./ga.js":109,"./gd":110,"./gd.js":110,"./gl":111,"./gl.js":111,"./gom-deva":112,"./gom-deva.js":112,"./gom-latn":113,"./gom-latn.js":113,"./gu":114,"./gu.js":114,"./he":115,"./he.js":115,"./hi":116,"./hi.js":116,"./hr":117,"./hr.js":117,"./hu":118,"./hu.js":118,"./hy-am":119,"./hy-am.js":119,"./id":120,"./id.js":120,"./is":121,"./is.js":121,"./it":122,"./it-ch":123,"./it-ch.js":123,"./it.js":122,"./ja":124,"./ja.js":124,"./jv":125,"./jv.js":125,"./ka":126,"./ka.js":126,"./kk":127,"./kk.js":127,"./km":128,"./km.js":128,"./kn":129,"./kn.js":129,"./ko":130,"./ko.js":130,"./ku":131,"./ku.js":131,"./ky":132,"./ky.js":132,"./lb":133,"./lb.js":133,"./lo":134,"./lo.js":134,"./lt":135,"./lt.js":135,"./lv":136,"./lv.js":136,"./me":137,"./me.js":137,"./mi":138,"./mi.js":138,"./mk":139,"./mk.js":139,"./ml":140,"./ml.js":140,"./mn":141,"./mn.js":141,"./mr":142,"./mr.js":142,"./ms":143,"./ms-my":144,"./ms-my.js":144,"./ms.js":143,"./mt":145,"./mt.js":145,"./my":146,"./my.js":146,"./nb":147,"./nb.js":147,"./ne":148,"./ne.js":148,"./nl":149,"./nl-be":150,"./nl-be.js":150,"./nl.js":149,"./nn":151,"./nn.js":151,"./oc-lnc":152,"./oc-lnc.js":152,"./pa-in":153,"./pa-in.js":153,"./pl":154,"./pl.js":154,"./pt":155,"./pt-br":156,"./pt-br.js":156,"./pt.js":155,"./ro":157,"./ro.js":157,"./ru":158,"./ru.js":158,"./sd":159,"./sd.js":159,"./se":160,"./se.js":160,"./si":161,"./si.js":161,"./sk":162,"./sk.js":162,"./sl":163,"./sl.js":163,"./sq":164,"./sq.js":164,"./sr":165,"./sr-cyrl":166,"./sr-cyrl.js":166,"./sr.js":165,"./ss":167,"./ss.js":167,"./sv":168,"./sv.js":168,"./sw":169,"./sw.js":169,"./ta":170,"./ta.js":170,"./te":171,"./te.js":171,"./tet":172,"./tet.js":172,"./tg":173,"./tg.js":173,"./th":174,"./th.js":174,"./tk":175,"./tk.js":175,"./tl-ph":176,"./tl-ph.js":176,"./tlh":177,"./tlh.js":177,"./tr":178,"./tr.js":178,"./tzl":179,"./tzl.js":179,"./tzm":180,"./tzm-latn":181,"./tzm-latn.js":181,"./tzm.js":180,"./ug-cn":182,"./ug-cn.js":182,"./uk":183,"./uk.js":183,"./ur":184,"./ur.js":184,"./uz":185,"./uz-latn":186,"./uz-latn.js":186,"./uz.js":185,"./vi":187,"./vi.js":187,"./x-pseudo":188,"./x-pseudo.js":188,"./yo":189,"./yo.js":189,"./zh-cn":190,"./zh-cn.js":190,"./zh-hk":191,"./zh-hk.js":191,"./zh-mo":192,"./zh-mo.js":192,"./zh-tw":193,"./zh-tw.js":193};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=240},280:function(e,t,s){},29:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var o=s(17),n=s.n(o);const r={appURL:{type:String,required:!0,default:"//"},appAssetURL:{type:String,required:!0,default:"//"},appDebugEnabled:{type:Boolean,default:!1}},i={props:r,computed:{appSettings:function(){return{...this.settings}}},methods:{getAppSettings:function(e,t){const s=this,o=this.appURL+"settings/";this.appDebugEnabled&&console.group(`Loading App Settings from '${o}'`);const r="function"==typeof e?e.call(this):{};n.a.get(o,r).then(e=>{s.appSettingsUpdated(e.data,t),s.initialised=!0}).catch(e=>{s.appDebugEnabled&&(console.info("Updated Settings Error"),console.log(e)),console.error(e)}).finally(()=>{s.appDebugEnabled&&console.groupEnd()})},appSettingsUpdated:function(e,t){this.appDebugEnabled&&(console.group("Updating App Settings"),console.log("App Settings",{...this.settings}),console.log("New Settings",e));const s="function"==typeof t?t.call(this,e):{...e};this.settings=s,this.appDebugEnabled&&(console.info("Updated Settings"),console.log("Settings",s),console.log("App Settings",{...this.settings}),console.groupEnd())}},data:()=>({initialised:!1,settings:{}})};t.b=i},30:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return p}));var o=s(13),n=s(17),r=s.n(n);const i="booking/client_gateway_secret/",a="booking/pay/",u={headers:{"Content-Type":"application/application/x-www-form-urlencoded"}},c=(e,t,s,n,i,a)=>(a&&console.group("Getting client secret from "+e),new Promise((c,p)=>{const d=new FormData;d.append("handler",s),d.append("key",t),d.append("quote",n),d.append("vehicle",i),r.a.post(e,d,u).then(s=>Object(o.e)(e,t,s,a)).then(e=>c(e.response.intent.client_secret)).catch(r=>{console.log("Error",r);let a=r.message||"Unknown";r.response?a=r.response:r.request&&(a=r.request);const u=Object(o.f)(e,t,r,`The error message received was: '${a}'`);u.data={...u.data,message:a,type:"payment",handler:s,quote:n,vehicle:i,formData:d},p(u)})})),p=(e,t,s,n)=>(s.append("key",t),new Promise((i,a)=>{r.a.post(e,s,u).then(s=>Object(o.e)(e,t,s,n)).then(e=>i(e)).catch(n=>{const r=n.message||"Unknown",i=Object(o.f)(e,t,n,"BIQ API Booking Error - "+r);i.data.type="booking",i.data.booking={token:s.get("token"),method:s.get("method"),formData:s},a(i)})}))},33:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return p}));const o="Return",n=["One Way",o],r=n[0],i=e=>({journey_type:{selected:r,options:n,label:"Journey type",required:!1,error:null,errorMsg:"",id:e+"-journey",placeholder:""},pickup:{value:"",label:"Pickup",required:!0,error:null,errorMsg:"Pickup location must be set",id:e+"-pickup",placeholder:"Pickup postcode or place name"},destination:{value:"",label:"Destination",required:!0,error:null,errorMsg:"Destination location must be set",id:e+"-destination",placeholder:"Destination postcode or place name"},via:{value:"",label:"(Optional) Via",required:!1,error:null,errorMsg:"",id:e+"-via",placeholder:"Via postcode or place name"},people:{value:"1",label:"Number of People",required:!0,error:null,errorMsg:"Invalid number of people travelling",id:e+"-people",placeholder:""}}),a=(e,t,s)=>(e.setDate(e.getDate()+t),e.setHours(e.getHours()+s),e),u=()=>a(new Date,1,2),c=e=>e<10?"0"+e:e,p=()=>{const e=u();return{search_details:{journey_type:r,pickup:"",vias:[],destination:"",date:e.getFullYear()+"-"+c(e.getMonth()+1)+"-"+c(e.getDate()),time:c(e.getHours())+":"+c(e.getMinutes())+":"+c(e.getSeconds()),people:"1",returning:{date:"",time:""}},search_on_load:!1,results:!1,display_type:"",display_quotes:[]}}},39:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return n})),s.d(t,"f",(function(){return r})),s.d(t,"d",(function(){return p})),s.d(t,"e",(function(){return d})),s.d(t,"c",(function(){return l}));const o=[51.509865,-.118092],n=[51.47002,-.454295],r=(e,t,s)=>({string:e,postcode:t,position:s}),i=e=>({lat:e[0],lng:e[1]}),a=(e,t)=>{const s=[];return s.push((e[0]+t[0])/2),s.push((e[1]+t[1])/2),s},u=(e,t)=>i(a(e,t)),c=e=>[e.lng,e.lat],p={toCoords:i,centerOn:a,centerOnCoords:u},d={toCoords:e=>c(i(e)),centerOn:(e,t)=>c(u(e,t)),toGeoJSON:c},l=r("","",[0,0])},40:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return n})),s.d(t,"e",(function(){return a})),s.d(t,"f",(function(){return u})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return p}));const o="Pay with Card",n="Pay with Paypal",r=[o,n],i=o,a=e=>({method:{selected:i,options:r,label:"Select Payment Method:",errorMsg:"Invalid Payment Method",id:e+"-method"}}),u={submit:{name:"submit"},transactionSuccess:{name:"transactionSuccess"},transactionError:{name:"transactionError"}},c={biqCheckoutSubmit:{name:"biqCheckoutSubmit"},biqCheckoutComplete:{name:"biqCheckoutComplete"},biqCheckoutError:{name:"biqCheckoutError"}},p=()=>({processing:!1,processed:!1,basket:{quote_id:"",vehicle_index:0,amount:0},quote:{},vehicle:{},booking_ref:""})},407:function(e,t,s){"use strict";s.r(t);var o=s(52),n=(s(280),s(15)),r=s(268),i=s(24),a=s(29),u=s(19);var c={name:"BIQApp",version:"1.0.1",props:{biqAppConfig:{type:Object,required:!0,default:function(){return{biq:u.d,BOOKING_DETALS_URI:"booking-details/?booking_ref="}}}},computed:{...Object(i.c)(["searchDetails","hasSearchResults","displayType","displayQuotes","loadingQuotes","quotesError","quotesLoaded","zeroQuotes","journeyID","journeyDetails","journeyDate","journeyTime","journeyHasReturn","journeyReturnDate","journeyReturnTime","journeyHasVias","journeyQuotes","processed","processing","basket","quoteID","vehicleIndex","price","quoteData","quoteVehicleData","bookingRef"]),appConfig:function(){return{...this.biqAppConfig}}},methods:{...Object(i.b)(["resetSearch","searchingQuotes","searchedQuotes","changeDisplayType","resetQuotes","quoting","apiQuotesError","quoted","resetCheckout","bookNow","booking","bookingFailed","booked"]),appSettingsUpdated:u.g},mixins:[a.b],data(){return{...a.b.data.call(this),settings:{biq_api_host:this.biqAppConfig.biq.LIVE_API_HOST,biq_pk:"",mapbox_pk:"",paypal_pk:"",stripe_pk:"",stripe_cardform_style:u.a,booking_test_mode:!1,quote_type:"",recommend_upgrade:!1,complete_page_text:""},app_title:"Booking Instant Quotes v1.0.1"}},created(){this.getAppSettings()}},p=s(18),d=Object(p.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"biq-vue-app"}},[this.initialised?t("router-view",{attrs:{"app-config":this.appConfig,"app-settings":this.appSettings,appRESTBase:this.appURL,appAssetURL:this.appAssetURL,debugging:this.appDebugEnabled}}):this._e()],1)}),[],!1,null,null,null).exports,l=s(48);const h=()=>Promise.all([s.e(0),s.e(14)]).then(s.bind(null,438));n.default.use(l.a);var g=new l.a({routes:[{path:"/",name:"HomePage",component:h},{path:"/vx/",name:"HomePage2",component:()=>Promise.all([s.e(0),s.e(23)]).then(s.bind(null,437))},{path:"/:journey",name:"HomePageSearched",component:h},{path:"/checkout/:journey/:quote/:vehicle",name:"CheckoutPage",component:()=>s.e(4).then(s.bind(null,427)),props:{stripe_cardform_style:stripe_cardform_style,paypalClientToken:paypalClientToken}},{path:"/complete/:booking_ref",name:"CompletePage",component:()=>s.e(7).then(s.bind(null,428))}]}),m=s(55),b=s(54);n.default.use(r.a),new n.default({store:m.a,render:e=>e(d,{props:{appURL:biqAppURL,appAssetURL:biqAppAssetsURL,biqAppConfig:b.a,appDebugEnabled:o.a||biqAppDebugEnabled}}),el:"#biq-vue-app",router:g})},52:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var o=s(15),n=s(209),r=s(53),i=(s(230),s(231),s(31)),a=s(27),u=s(207);const c=!1;o.default.config.productionTip=!1,o.default.config.devtools=c,o.default.use(n.a),o.default.use(r.a),i.c.add(a.b,a.d,a.a,a.e,a.c),o.default.component("font-awesome-icon",u.a)},54:function(e,t,s){"use strict";const o={biq:{...s(19).f},BOOKING_DETALS_URI:"booking-details/?booking_ref="};t.a=o},55:function(e,t,s){"use strict";var o=s(15),n=s(24),r=s(208),i=s(33),a=s(22);var u={state:Object(i.b)(),getters:{searchDetails:e=>e.search_details,searchOnLoad:e=>e.search_on_load,hasSearchResults:e=>e.results,displayType:e=>e.display_type,displayQuotes:e=>e.display_quotes},actions:{resetSearch({commit:e,dispatch:t}){t("resetQuotes",null,{root:!0}),e("resetSearchState")},searchingQuotes({commit:e,dispatch:t},s){e("resetSearchState"),t("quoting",null,{root:!0}),e("searchingQuotesFor",s)},searchedQuotes({commit:e,dispatch:t},s){t("quoted",s,{root:!0}),s.count&&e("displaying",Object(a.c)(s.quotes,s.display_type,a.a))},changeDisplayType({commit:e,rootGetters:t},s){e("displaying",Object(a.c)(t.journeyQuotes,s,a.a))}},mutations:{resetSearchState(e){Object.assign(e,Object(i.b)())},searchingQuotesFor(e,t){e.search_details=t},searchForQuotes(e,t){e.search_details=t,e.search_on_load=!0},displaying(e,t){e.display_quotes=t.quotes,e.display_type=t.type,e.results=!0}}},c=s(21);var p={state:Object(a.b)(),getters:{loadingQuotes:e=>e.quoting,quotesError:e=>e.api_error,quotesLoaded:e=>e.quotes_loaded,zeroQuotes:e=>!!e.quotes_loaded&&0===Object.keys(e.journey_quotes).length,journeyID:e=>e.journey_id,journeyDetails:e=>e.journey_details,journeyDate:e=>Object(c.b)(e.journey_details.date),journeyTime:e=>Object(c.f)(e.journey_details.date),journeyReturnDate:e=>e.journey_details.return&&Object(c.b)(e.journey_details.return),journeyReturnTime:e=>e.journey_details.return&&Object(c.f)(e.journey_details.return),journeyHasReturn:e=>!!e.journey_details.return,journeyHasVias:e=>Array.isArray(e.journey_details.vias)&&e.journey_details.vias.length>0,journeyQuotes:e=>e.journey_quotes},actions:{resetQuotes({commit:e}){e("resetQuotesState")},quoting({commit:e,dispatch:t}){e("resetQuotesState"),t("resetCheckout",null,{root:!0}),e("searching")},apiQuotesError({commit:e},t){e("quotesError",{api_error:t}),e("searched")},quoted({commit:e},t){e("searched"),e("quotes",t)}},mutations:{resetQuotesState(e){Object.assign(e,Object(a.b)())},searching(e){e.quoting=!0},quotesError(e,t){e.api_error=t.api_error},searched(e){e.quoting=!1},quotes(e,t){e.journey_id=t.journey_id,e.journey_quotes=t.quotes,e.journey_details=Object(c.c)(t.journey),e.quotes_loaded=!0}}},d=s(40);var l={search:u,quotes:p,checkout:{state:Object(d.d)(),getters:{processed:e=>e.processed,processing:e=>e.processing,basket:e=>({quote:e.basket.quote_id,vehicle:e.basket.vehicle_index,price:e.basket.amount}),quoteID:e=>e.basket.quote_id,vehicleIndex:e=>e.basket.vehicle_index,price:e=>e.basket.amount,quoteData:e=>e.quote,quoteVehicleData:e=>e.vehicle,bookingRef:e=>e.booking_ref},actions:{resetCheckout({commit:e}){e("resetCheckoutState")},bookNow({commit:e},t){e("resetCheckoutState"),e("buildBasket",t)},booking({commit:e}){e("processing",{processing:!0,processed:!1})},bookingFailed({commit:e}){e("processing",{processing:!1,processed:!1})},booked({commit:e},t){e("resetCheckoutState"),e("processing",{processing:!1,processed:!1}),e("booked",{p:t})}},mutations:{resetCheckoutState(e){Object.assign(e,Object(d.d)())},buildBasket(e,t){e.basket.quote_id=t.quote,e.basket.vehicle_index=t.vehicle,e.basket.amount=t.quote_data.vehicles[t.vehicle].price,e.quote=t.quote_data,e.vehicle=t.quote_data.vehicles[t.vehicle]},processing(e,t){e.processing=t.processing,e.processed=t.processed},booked(e,t){e.booking_ref=t.booking_ref}}}};o.default.use(n.a);t.a=new n.a.Store({modules:{BIQSearchStateStore:l.search,BIQQuotesStateStore:l.quotes,BIQCheckoutStateStore:l.checkout},plugins:[Object(r.a)({paths:["BIQSearchStateStore","BIQQuotesStateStore","BIQCheckoutStateStore"],storage:window.localStorage})]})}},[[407,1,0]],[0,14,23,4,7]]);
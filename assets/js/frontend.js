(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{122:function(e,t){e.exports={DEV:{PLACES_URI:"places/?term=",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",BOOKING_DETALS_URI:"booking-details/?booking_ref=",PGH_CONF:{hidePostalCode:!0},useButtons:!0},STAGING:{PLACES_URI:"places/?term=",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",BOOKING_DETALS_URI:"booking-details/?booking_ref=",PGH_CONF:{hidePostalCode:!0},useButtons:!0},LIVE:{PLACES_URI:"places/?term=",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",BOOKING_DETALS_URI:"booking-details/?booking_ref=",PGH_CONF:{hidePostalCode:!0},useButtons:!0}}},251:function(e,t,o){"use strict";var s=o(53);o.n(s).a},252:function(e,t,o){"use strict";var s=o(54);o.n(s).a},253:function(e,t,o){"use strict";o.r(t);var s=o(15),i=o(17),r=o(123),a=o(56),n=(o(127),o(128),o(24)),l=o(36),c=o(112),u=o(113),d=o(28),p=o.n(d),g={name:"BIQApp",version:"1.0.1",props:{biqAppURL:{type:String,required:!0,default:"//"},biqAppConfig:{type:Object,required:!0,default:function(){return{PLACES_URI:"places/",AUTH_URI:"auth/",QUOTE_URI:"booking/quote/",JOURNEY_URI:"booking/journey/?id=",CLIENT_SECRET_URI:"booking/client_gateway_secret/",PAYMENT_URI:"booking/pay/",BOOKING_DETALS_URI:"booking-details/?booking_ref=",PGH_CONF:{hidePostalCode:!0},useButtons:!0}}},biqAppDebugEnabled:{type:Boolean,default:!1}},data(){return{initialised:!1,settings:{biq_api_host:"https://api.taxicode.com/",biq_pk:"",paypal_pk:"",stripe_pk:"",stripe_cardform_style:{base:{fontFamily:"'Muli', sans-serif",fontSize:"14px",color:"#333"},invalid:{color:"red"}},booking_test_mode:!1,quote_type:"",recommend_upgrade:!1,complete_page_text:""},config:this.biqAppConfig}},created(){this.getAppSettings()},computed:{...Object(i.c)(["searchDetails","hasSearchResults","displayType","displayQuotes","loadingQuotes","quotesError","quotesLoaded","zeroQuotes","journeyID","journeyDetails","journeyDate","journeyTime","journeyHasReturn","journeyReturnDate","journeyReturnTime","journeyHasVias","journeyQuotes","processed","processing","basket","quoteID","vehicleIndex","price","quoteData","quoteVehicleData","bookingRef"]),appConfig:function(){return{...this.config}},appSettings:function(){return{...this.settings}}},methods:{...Object(i.b)(["resetSearch","searchingQuotes","searchedQuotes","changeDisplayType","resetQuotes","quoting","apiQuotesError","quoted","resetCheckout","bookNow","booking","bookingFailed","booked"]),getAppSettings:function(){const e=this,t=this.biqAppURL+"settings-get/";this.biqAppDebugEnabled&&console.group(`Loading BIQ App Settings from '${t}'`),p.a.get(t).then(t=>{if(e.biqAppDebugEnabled){console.log("response",t),console.log("App Settings",{...e.settings}),console.log("stripe_cardform_style",stripe_cardform_style),console.info("type",typeof stripe_cardform_style),console.log("response.data.stripe_cardform_style",t.data.stripe_cardform_style),console.info("type",typeof t.data.stripe_cardform_style);try{console.log("parse attempt",JSON.parse(t.data.stripe_cardform_style))}catch(e){console.error(e)}}const o={biq_pk:t.data.taxicode_public,biq_api_host:t.data.biq_api_host,paypal_pk:t.data.paypal_public,stripe_pk:t.data.stripe_public,stripe_cardform_style:e.stripe_cardform_style,booking_test_mode:"1"==t.data.test_mode,quote_type:t.data.quote_type,recommend_upgrade:"1"==t.data.recommend_upgrade,complete_page_text:t.data.complete_page_text};"/"!==o.biq_api_host.slice(-1)&&(o.biq_api_host=o.biq_api_host+"/"),e.settings=o,e.initialised=!0,e.biqAppDebugEnabled&&(console.info("Loaded Settings"),console.log("App Settings",{...e.settings}),console.groupEnd())}).catch(t=>{e.biqAppDebugEnabled&&(console.info("Settings Load Error"),console.log(t),console.groupEnd()),console.error(t)})}}},h=o(14),m=Object(h.a)(g,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"biq-vue-app"}},[this.initialised?t("router-view",{attrs:{"app-config":this.appConfig,"app-settings":this.appSettings,appRESTBase:this.biqAppURL,debugging:this.biqAppDebugEnabled}}):this._e()],1)}),[],!1,null,null,null).exports,f=o(35),_=o(73),y=o(72),b=o(125),v=o(124);const q={name:"input"},k={name:"biqPlacesLookupError"};var S={name:"PlacesLookup",components:{"vue-typeahead-bootstrap":v.a},props:{apiPlacesLookup:{type:String,required:!0,default:"//places/?term="},id:{type:String,default:"biq-places-lookup"},label:{type:String,default:"Location"},placeholder:{type:String,default:"Location postcode or place name"},value:{type:String,default:""},required:{type:Boolean,default:!1},validClass:{type:String,default:""},errorClass:{type:String,default:"is-invalid"},errorState:{type:String,default:null},debugging:{type:Boolean,default:!1}},data:()=>({locations:[],force_lookup:!0}),updated(){this.force_lookup?this.locationSearch(this.value):this.$refs.locationfield.inputValue=this.value},watch:{location:{handler:b.a.debounce((function(e){this.locationSearch(e)}),500),immediate:!0}},computed:{location:{get(){return this.value},set(e){this.$emit(q.name,e)}},inputID:function(){return this.id+"-input"},errorStateClass:function(){return null==this.errorState?"":this.errorState?this.errorClass:this.validClass}},methods:{locationSearch:function(e){if(null===e||"string"!=typeof e||e.length<3)return;this.debugging&&(console.info(),console.log(`BIQ Places ${this.label} lookup to API '${this.apiPlacesLookup}'`,e)),this.force_lookup=!1,this.$refs.locationfield.inputValue=e;const t=this,o=`${this.apiPlacesLookup}${e}`;let s=[],i=[],r=[];p.a.get(o).then(e=>{if(t.debugging&&console.log(`BIQ Places ${this.label} response`,e),"OK"!=e.data.status)throw new ErrorEvent(e.data.status,{error:new Error(`BIQ Places ${t.label} lookup to API Error`),message:e.data[e.data.status.toLowerCase()]});const o=e.data.results,a=(e,t)=>({string:e,type:t});void 0!==o.STATION&&(i=o.STATION.map(e=>a(e,"station"))),void 0!==o.AIRPORT&&(s=o.AIRPORT.map(e=>a(e,"airport"))),void 0!==o.LOCATION&&(r=o.LOCATION.map(e=>a(e,"location")));const n=o.GOOGLE.map(e=>a(e.string,e.poi?"poi":"general"));t.locations=s.concat(i,r,n)}).catch(e=>{t.locations=[];const s={data:{id:t.id,URL:o,message:e.message||`Unknown BIQ Places ${t.label} lookup to API Error`,error:e}};t.$emit(k.name,s)})},validate:function(){return!(this.required&&(null==this.value||""==this.value))}}},I=Object(h.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-group"},[o("label",{attrs:{for:e.inputID,id:e.id}},[e._v(e._s(e.label))]),e._v(" "),o("vue-typeahead-bootstrap",{ref:"locationfield",attrs:{id:e.inputID,placeholder:e.placeholder,inputClass:e.errorStateClass,"show-all-results":!0,"show-on-focus":!0,data:e.locations,serializer:function(e){return e.string}},on:{hit:function(t){e.selectedLocation=t}},scopedSlots:e._u([{key:"suggestion",fn:function(t){var s=t.data,i=t.htmlText;return[o("div",{staticClass:"d-flex align-items-center"},["station"==s.type?o("span",[o("font-awesome-icon",{attrs:{icon:"train"}})],1):"airport"==s.type?o("span",[o("font-awesome-icon",{attrs:{icon:"plane"}})],1):o("span",[o("font-awesome-icon",{attrs:{icon:"map-marker-alt"}})],1),e._v(" "),o("span",{staticClass:"ml-4",domProps:{innerHTML:e._s(i)}})])]}}]),model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1)}),[],!1,null,null,null).exports,C=o(74);const Q={name:"biqQuotesSearched"},R={name:"biqZeroQuotes"},E={name:"biqQuotesError"};var j={name:"TheSearchForm",mixins:[y.a],components:{"biq-places-lookup":I,"biq-process-form-submit":C.a},props:{apiPublicKey:{type:String,required:!0,default:""},apiPlacesLookup:{type:String,required:!0,default:"//places/?term="},apiQuotesFrom:{type:String,required:!0,default:"//booking/quote/"},searchOnLoad:{type:Boolean,default:!1},useButtons:{type:Boolean,default:!0}},data:()=>({fields:{journey_type:{selected:"One Way",options:["One Way","Return"],label:"Journey type",required:!1,error:null,errorMsg:"",id:"tcplugin-journey-type",placeholder:""},pickup:{value:"",label:"Pickup",required:!0,error:null,errorMsg:"Pickup location must be set",id:"tcplugin-pickup",placeholder:"Pickup postcode or place name"},destination:{value:"",label:"Destination",required:!0,error:null,errorMsg:"Destination location must be set",id:"tcplugin-destination",placeholder:"Destination postcode or place name"},via:{value:"",label:"(Optional) Via",required:!1,error:null,errorMsg:"",id:"tcplugin-via",placeholder:"Via postcode or place name"},people:{value:"1",label:"Number of People",required:!0,error:null,errorMsg:"Invalid number of people travelling",id:"tcplugin-people",placeholder:""}},date:"",time:"",return_date:"",return_time:"",errors:{date:null,time:null,return_date:null,return_time:null}}),mounted(){this.setFieldValues(),this.searchOnLoad&&this.onSearchQuotesFormSubmit()},computed:{...Object(i.c)(["searchDetails","loadingQuotes"]),hasReturn:function(){return"Return"===this.fields.journey_type.selected}},methods:{...Object(i.b)(["searchingQuotes","apiQuotesError"]),onPlacesLookupError:function(e){this.debugging&&(console.group(e.data.message),console.log(e),console.groupEnd())},setFieldValues:function(){const e=this.searchDetails;this.debugging&&console.log("BIQ Search Form from State",e),this.fields.journey_type.selected=e.journey_type,this.fields.pickup.value=e.pickup,this.fields.destination.value=e.destination,this.$refs.pickupfield.inputValue=this.fields.pickup.value,this.$refs.destinationfield.inputValue=this.fields.destination.value,e.vias.length&&(this.fields.via.value=e.vias[0],this.$refs.viafield.inputValue=this.fields.via.value),this.fields.people.value=e.people,this.date=e.date,this.time=e.time,this.hasReturn&&null!==e.returning.date&&(this.return_date=e.returning.date),this.hasReturn&&null!==e.returning.time&&(this.return_time=e.returning.time)},onSearchQuotesFormSubmit:function(e){e.preventDefault(),this.validate()?this.searchApiQuotes():this.debugging&&(console.group("BIQ Search Form Validation Error"),console.log(this.validationErrors()),console.log(this.errors),console.groupEnd())},validate:function(){this.errors={date:null,time:null,return_date:null,return_time:null};let e=0;return this.validateValues()||e++,null!=this.date&&""!=this.date||(this.errors.date="Journey date is invalid",e++),null!=this.time&&""!=this.time||(this.errors.time="Journey time is invalid",e++),this.hasReturn&&(null!=this.return_date&&""!=this.return_date||(this.errors.return_date="Journey return date is invalid",e++),null!=this.return_time&&""!=this.return_time||(this.errors.return_time="Journey return time is invalid",e++)),0===e},searchApiQuotes:function(){const e=this,t=this.inputValues(),o={journey_type:t.journey_type,pickup:t.pickup,destination:t.destination,people:t.people,date:this.date,time:this.time};let s=null,i=`pickup=${o.pickup}&destination=${o.destination}&date=${o.date} ${o.time}&people=${o.people}`;this.hasReturn?(o.returning={date:this.return_date,time:this.return_time},i=`${i}&return=${o.returning.date} ${o.returning.time}`):o.returning={date:null,time:null};const r=this.fields.via.value;""!=r?(o.vias=[r],i=`${i}&via=${r}`):o.vias=[],this.searchingQuotes(o),this.debugging&&console.group(`Searching BIQ API Quotes from '${this.apiQuotesFrom}'`),p.a.get(`${this.apiQuotesFrom}?key=${this.apiPublicKey}&${i}`).then(t=>{if(e.debugging&&console.log(t),"OK"!=t.data.status)throw new ErrorEvent(t.data.status,{error:new Error("BIQ API Quotes Error"),message:t.data[t.data.status.toLowerCase()]});s=t.data.journey_id;const o={data:{journey_id:s,journey:t.data.journey,quotes:t.data.quotes}};let i=Q.name;Object.keys(t.data.quotes).length<=0&&(i=R.name,o.data.error={message:t.data.warnings[0]}),e.$emit(i,o),e.debugging&&(console.info("BIQ API Quotes Searched"),console.groupEnd())}).catch(t=>{const i={data:{quotes:[],journey_id:s,journey:o,error:t}};e.$emit(E.name,i),e.debugging&&(console.info("BIQ API Quotes Search Error"),console.groupEnd())})}}},D=Object(h.a)(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{attrs:{id:"searchform"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:e.fields.journey_type.id+"-select",id:e.fields.journey_type.id}},[e._v(e._s(e.fields.journey_type.label))]),e._v(" "),o("b-form-select",{attrs:{options:e.fields.journey_type.options,id:e.fields.journey_type.id+"-select"},model:{value:e.fields.journey_type.selected,callback:function(t){e.$set(e.fields.journey_type,"selected",t)},expression:"fields.journey_type.selected"}})],1)]),e._v(" "),o("div",{staticClass:"col"})]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("biq-places-lookup",{key:"pickup",ref:"pickupfield",attrs:{"api-places-lookup":e.apiPlacesLookup,required:e.fields.pickup.required,"error-state":e.fields.pickup.error,id:e.fields.pickup.id,label:e.fields.pickup.label,placeholder:e.fields.pickup.placeholder,debugging:e.debugging},on:{biqPlacesLookupError:e.onPlacesLookupError},model:{value:e.fields.pickup.value,callback:function(t){e.$set(e.fields.pickup,"value",t)},expression:"fields.pickup.value"}})],1),e._v(" "),o("div",{staticClass:"col"},[o("biq-places-lookup",{key:"destination",ref:"destinationfield",attrs:{"api-places-lookup":e.apiPlacesLookup,required:e.fields.destination.required,"error-state":e.fields.destination.error,id:e.fields.destination.id,label:e.fields.destination.label,placeholder:e.fields.destination.placeholder,debugging:e.debugging},on:{biqPlacesLookupError:e.onPlacesLookupError},model:{value:e.fields.destination.value,callback:function(t){e.$set(e.fields.destination,"value",t)},expression:"fields.destination.value"}})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("biq-places-lookup",{key:"via",ref:"viafield",attrs:{"api-places-lookup":e.apiPlacesLookup,required:e.fields.via.required,"error-state":e.fields.via.error,id:e.fields.via.id,label:e.fields.via.label,placeholder:e.fields.via.placeholder,debugging:e.debugging},on:{biqPlacesLookupError:e.onPlacesLookupError},model:{value:e.fields.via.value,callback:function(t){e.$set(e.fields.via,"value",t)},expression:"fields.via.value"}})],1),e._v(" "),o("div",{staticClass:"col"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:e.fields.people.id+"-input",id:e.fields.people.id}},[e._v(e._s(e.fields.people.label))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.people.value,expression:"fields.people.value"}],staticClass:"form-control",class:e.errorStateClass("people"),attrs:{id:e.fields.people.id+"-input",placeholder:e.fields.people.placeholder,required:e.fields.people.required,type:"number",min:"1",max:"99"},domProps:{value:e.fields.people.value},on:{input:function(t){t.target.composing||e.$set(e.fields.people,"value",t.target.value)}}})])])]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"form-group",attrs:{id:"tcplugin-date"}},[o("label",[e._v("Date")]),e._v(" "),o("b-form-datepicker",{staticClass:"form-control",attrs:{state:e.errors.date,locale:"en"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)]),e._v(" "),o("div",{staticClass:"col"},[o("div",{staticClass:"form-group",attrs:{id:"tcplugin-time"}},[o("label",[e._v("Time")]),e._v(" "),o("b-form-timepicker",{attrs:{state:e.errors.time,locale:"en"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)])]),e._v(" "),e.hasReturn?o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"form-group",attrs:{id:"tcplugin-return-date"}},[o("label",[e._v("Return Date")]),e._v(" "),o("b-form-datepicker",{staticClass:"form-control",attrs:{state:e.errors.return_date,locale:"en"},model:{value:e.return_date,callback:function(t){e.return_date=t},expression:"return_date"}})],1)]),e._v(" "),o("div",{staticClass:"col"},[o("div",{staticClass:"form-group",attrs:{id:"tcplugin-return-time"}},[o("label",[e._v("Return Time")]),e._v(" "),o("b-form-timepicker",{attrs:{state:e.errors.return_time,locale:"en"},model:{value:e.return_time,callback:function(t){e.return_time=t},expression:"return_time"}})],1)])]):e._e(),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"}),e._v(" "),o("div",{staticClass:"col",attrs:{id:"tcplugin-search-submit"}},[o("div",{staticClass:"form-group"},[o("biq-process-form-submit",{attrs:{processing:e.loadingQuotes,"use-buttons":e.useButtons,label:"Search"},on:{click:e.onSearchQuotesFormSubmit}})],1)])])])}),[],!1,null,null,null).exports;const U={name:"biqQuoteBookNow"};var O={name:"TheSearchResults",components:{"biq-quote-card-vehicle-select":()=>o.e(6).then(o.bind(null,262)),"biq-quote-card-reduced-to-type-and-class":()=>o.e(5).then(o.bind(null,261))},props:{displayResultsType:{type:String,required:!0,default:"type_class"},debugging:{type:Boolean,default:!1},useButtons:{type:Boolean,default:!0}},data(){return{loading_label:"Loading...",zero_quotes_error_message:"Sorry, we could not find any quotes for the selected journey.  Please try a different journey.",quote_card:"type_class"==this.displayResultsType?"biq-quote-card-reduced-to-type-and-class":"biq-quote-card-vehicle-select"}},computed:Object(i.c)(["hasSearchResults","displayQuotes","loadingQuotes","quotesError","zeroQuotes","journeyID"]),methods:{onClick:function(e){this.$emit(U.name,e)}}},T=(o(251),Object(h.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"biq-search-results"}},[e.loadingQuotes?o("div",[e._t("loading-quotes",[o("div",{staticClass:"row"},[o("div",{staticClass:"spinner-border spinner-border-sm"}),e._v(e._s(e.loading_label)+"\n            ")])])],2):e._e(),e._v(" "),e.quotesError?o("div",[e._t("quotes-error",[o("p",[e._v(e._s(e.quotesError))])],{error:{message:e.quotesError}})],2):e._e(),e._v(" "),e.zeroQuotes?o("div",[e._t("zero-quotes",[o("p",[e._v(e._s(e.zero_quotes_error_message))])],{error:{message:e.zero_quotes_error_message}})],2):e._e(),e._v(" "),e.hasSearchResults?o("div",{staticClass:"row"},e._l(e.displayQuotes,(function(t,s){return o(e.quote_card,{key:"quote_"+t.quote_id+"_"+t.selected_vehicle,tag:"component",attrs:{journeyID:e.journeyID,quote:t,"display-results-type":e.displayResultsType,type:s,debugging:e.debugging,"use-buttons":e.useButtons},on:{c2aClick:e.onClick}})})),1):e._e()])}),[],!1,null,"32c7aa7e",null).exports);const x={name:"confirm"},w={name:"cancel"};var P={name:"BasicConfirmModal",props:{headerText:{type:String,default:""},bodyText:{type:String,default:""},footerText:{type:String,default:""},confirmActionText:{type:String,default:"OK"},cancelActionText:{type:String,default:"Cancel"}},mounted(){this.$refs.overlay.focus()},methods:{onCancel:function(e){this.$emit(w.name,e)},onConfirm:function(e){this.$emit(x.name,e)}}},F=(o(252),Object(h.a)(P,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal"}},[o("div",{ref:"overlay",staticClass:"modal-mask",attrs:{tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onCancel(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(t)}]}},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-header"},[e._t("header",[e._v(e._s(e.headerText))])],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",[e._v(e._s(e.bodyText))])],2),e._v(" "),o("div",{staticClass:"modal-footer"},[e._t("footer",[e._v("\n                        "+e._s(e.footerText)+"\n                        "),o("button",{staticClass:"btn btn-secondary",on:{click:e.onCancel}},[e._v(e._s(e.cancelActionText))]),e._v("\n                         \n                        "),o("button",{staticClass:"btn btn-primary",on:{click:e.onConfirm}},[e._v(e._s(e.confirmActionText))])])],2)])])])])}),[],!1,null,"04479cf0",null).exports);const B=["standard","executive","vip","chauffeur"],A=["minicab","mpv","minibus","coach"],L=(e,t,o)=>{switch(e){case"class":return t.people<=4;case"type":return t.people<=4&&t.people===o.passengers;default:throw`Unknown category upgrade type [${e}]!"`}},V=e=>{let t=e.props;switch(e.categoryType){case"class":t=()=>N(e);break;case"type":t=()=>$(e)}return t},$=e=>({...e.props(),title:"It looks a little tight!",description:"We recommend you upgrade to a bigger vehicle, you might be a bit squashed.",gaEventData:{category:"Quotes",action:"upgrade type to "+e.data.vehicle.type},bulletPoints:["More space for passengers","More storage space for your luggage","Peace of mind, everything will fit!"]}),N=e=>{let t=e.data.vehicle.class;return"vip"===t&&(t="luxury"),{...e.props(),title:"Upgrade To "+t,description:`We recommend you upgrade, For just £${e.priceDifference.toFixed(2)} more you can ride in an ${t} vehicle.`,gaEventData:{category:"Quotes",action:"upgrade class to "+t},bulletPoints:["More comfortable and spacious ride.",(o=t,o.charAt(0).toUpperCase()+o.slice(1))+" class driver.","Recommended for business travels and airport transfers."]};var o},M=e=>({categoryType:e,exists:!1,props:()=>({})}),H=e=>({type:e,upgradeCriteria:L});class G{constructor(e,t,o){this._resetRecommendation=this._resetRecommendation.bind(this),this._setCategories=this._setCategories.bind(this),this._upgradeTierRecommendation=this._upgradeTierRecommendation.bind(this),this._recommendForSelected=this._recommendForSelected.bind(this),this._mapCategoryUpgradesForSelected=this._mapCategoryUpgradesForSelected.bind(this),this._mapQuoteUpgradesForSelected=this._mapQuoteUpgradesForSelected.bind(this),this._commonUpgradeProps=this._commonUpgradeProps.bind(this),this.makeRecommendationFor=this.makeRecommendationFor.bind(this),this.setRecommendedUpgrade=this.setRecommendedUpgrade.bind(this),this.getRecommendedUpgrade=this.getRecommendedUpgrade.bind(this),this.getQuotes=e,this.getJourney=t,this.debugging=o,this.upgradeTiers={class:B,type:A},this.quotes={},this._setCategories(),this._resetRecommendation()}_resetRecommendation(){this.priceDifference=9999,this.upgradeRecommendation={categoryType:null,exists:!1,tierUpgrade:null,data:{key:null,quoteId:null,quote:{},vehicleIndex:null,vehicle:{price:this.priceDifference},priceDifference:this.priceDifference}}}setRecommendedUpgrade(e){this.recommendedUpgrade={...e,props:e.exists?V(e):()=>({}),selectedQuoteId:this.selectedQuoteId,selectedQuote:this.selectedQuote,selectedVehicleIndex:this.selectedVehicleIndex,selectedVehicle:this.selectedVehicle},this.debugging&&console.log("Recommended Upgrade Set",this.recommendedUpgrade)}getRecommendedUpgrade(){return{...this.recommendedUpgrade}}_setCategories(){this.availableCategoryUpgrades=Object.keys(this.upgradeTiers).map(H)}makeRecommendationFor(e,t){this._resetRecommendation(),this.selectedQuote=e,this.selectedVehicle=e.vehicles[t],this.selectedQuoteId=e.quote_id,this.selectedVehicleIndex=t,this.debugging&&(console.group("-- Making upgrade recommendation for selected quote --"),console.log("availableCategoryUpgrades",this.availableCategoryUpgrades),console.log("selectedQuoteId",this.selectedQuoteId),console.log("selectedVehicleIndex",this.selectedVehicleIndex),console.log("selectedQuote",this.selectedQuote),console.log("selectedVehicle",this.selectedVehicle),console.log("priceDifference",this.priceDifference),console.log("upgradeRecommendation",{...this.upgradeRecommendation})),this.setRecommendedUpgrade(this._recommendForSelected()),this.debugging&&(console.log("priceDifference",this.priceDifference),console.log("upgradeRecommendation",{...this.upgradeRecommendation}),console.groupEnd())}_recommendForSelected(){this.quotes=this.getQuotes();const e=this.availableCategoryUpgrades.map(this._mapCategoryUpgradesForSelected).filter(e=>e.exists);return this.debugging&&console.log("upgradeOptions",e),this.quotes={},e.length&&(this.priceDifference=e[0].data.priceDifference,this.upgradeRecommendation=e[0]),{upgradeQuoteId:this.upgradeRecommendation.data.quoteId,upgradeQuote:this.upgradeRecommendation.data.quote,upgradeVehicleIndex:this.upgradeRecommendation.data.vehicleIndex,upgradeVehicle:this.upgradeRecommendation.data.vehicle,priceDifference:this.priceDifference,...this.upgradeRecommendation}}_upgradeTierRecommendation(e,t){if(!this.upgradeTiers.hasOwnProperty(e.type))throw new ErrorEvent("WARNING",{error:new Error("BIQ Recommended Quote Upgrade Tier Error"),message:`No tier found with category value of ${e.type}.`});const o=this.upgradeTiers[e.type].indexOf(this.selectedVehicle.type[e.type]),s=e.upgradeCriteria(e.type,this.getJourney(),this.selectedVehicle);return{currentTier:o,nextTier:o+1,available:o<this.upgradeTiers[e.type].length-1&&s&&t}}_mapCategoryUpgradesForSelected(e){const t=this._upgradeTierRecommendation(e,!0);if(!t.available)return M(e.type);const o=parseInt(t.nextTier,10),s=this.upgradeTiers[e.type][o];this.debugging&&(console.log("upgradeTierRecommendation",t),console.log("tierUpgrade",s),console.group("-- quote upgrade map --"));const i=Object.keys(this.quotes).map(t=>this._mapQuoteUpgradesForSelected(t,e.type,s)).filter(e=>e.active&&e.upgradeVehicles.length);if(this.debugging&&(console.log("quoteUpgrades",i),console.groupEnd()),!i.length)return M(e.type);const r=i.reduce((e,t)=>e.priceDifference<t.priceDifference?e:t,{quoteId:this.selectedQuoteId,priceDifference:this.priceDifference});return this.debugging&&(console.log("cheapestUpgradeQuote",r),console.log("cheapestUpgradeQuote.vehicleIndex",r.vehicleIndex)),void 0===r.vehicleIndex||r.vehicleIndex<0||r.quoteId===this.selectedQuoteId&&r.vehicleIndex===this.selectedVehicleIndex?M(e.type):{categoryType:e.type,exists:!0,tierUpgrade:s,props:this._commonUpgradeProps,data:{key:r.quoteId,quoteId:r.quoteId,vehicleIndex:r.vehicleIndex,quote:this.quotes[r.quoteId],vehicle:this.quotes[r.quoteId].vehicles[r.vehicleIndex],priceDifference:r.priceDifference}}}_mapQuoteUpgradesForSelected(e,t,o){this.debugging&&(console.group("-- _mapQuoteUpgradesForSelected --"),console.log("Potential upgrade quote ID",e),console.log("Upgrade category vehicle type",t),console.log("Upgrade tier",o),console.log("Potential upgrade quote",this.quotes[e]));const s=this.quotes[e],i=s.active;if(!i)return{quoteId:e,active:i};const r=s.vehicles,a=r.filter(e=>e.type[t]===o),n=r.indexOf(a[0]),l=a.length?a[0].price-this.selectedVehicle.price:this.priceDifference;return l<this.priceDifference&&l>0&&(this.priceDifference=this.selectedVehicle.price+l),this.debugging&&a.length&&console.log("Only available upgrade vehicles",a),this.debugging&&(console.log("All vehicles",s.vehicles),console.log("Upgrade Quote Price",this.priceDifference),console.log("Price difference between quotes",l),console.groupEnd()),{active:i,categoryType:t,tierUpgrade:o,quoteId:e,vehicleIndex:n,priceDifference:l,upgradeVehicles:a}}_commonUpgradeProps(){return{selectedQuoteId:this.selectedQuoteId,selectedVehicleIndex:this.selectedVehicleIndex,upgradeQuoteId:this.upgradeRecommendation.data.quoteId,upgradeVehicleIndex:this.upgradeRecommendation.data.vehicleIndex,priceDifference:this.upgradeRecommendation.data.priceDifference,selectedVehicle:{VehicleClass:this.selectedVehicle.class,VehicleType:this.selectedVehicle.type,image:this.selectedVehicle.image,name:this.selectedVehicle.name},upgradeVehicle:{VehicleClass:this.upgradeRecommendation.data.vehicle.class,VehicleType:this.upgradeRecommendation.data.vehicle.type,image:this.upgradeRecommendation.data.vehicle.image,name:this.upgradeRecommendation.data.vehicle.name}}}}var J={name:"HomePage",mixins:[_.a],components:{"the-biq-search-form":D,"the-biq-search-results":T,modal:F},props:{searchFormData:{type:Object,default:function(){return{}}},searchOnLoad:{type:Boolean,default:!1}},data(){return{selected:{id:"",vehicle:0,data:{}},show_upgrade:!1,recommended_upgrade_header:"No Upgrade",recommended_upgrade_description:"No Upgrade",quotesRecommendedUpgrade:new G(()=>this.journeyQuotes,()=>this.journeyDetails,this.debugging)}},created(){this.searchOnLoad&&this.$store.commit("searchingQuotesFor",this.searchFormPropData()),this.displayType!==this.appSettings.quote_type&&this.hasSearchResults&&this.changeDisplayType(this.appSettings.quote_type)},computed:{...Object(i.c)(["hasSearchResults","displayType","loadingQuotes","quotesError","quotesLoaded","journeyID","journeyDetails","journeyQuotes","quoteID","vehicleIndex"]),showResults:function(){return this.loadingQuotes||this.quotesError||this.quotesLoaded},showRecommendedUpgrade:function(){return this.appSettings.recommend_upgrade&&this.show_upgrade}},methods:{...Object(i.b)(["searchedQuotes","changeDisplayType","apiQuotesError","bookNow"]),searchFormPropData:function(){this.debugging&&console.log("BIQ Search Form POST prop data",this.searchFormData);const e={journey_type:void 0!==this.searchFormData.journey_type?this.searchFormData.journey_type:"",pickup:void 0!==this.searchFormData.pickup?this.searchFormData.pickup:"",vias:void 0!==this.searchFormData.via?[this.searchFormData.via]:[],destination:void 0!==this.searchFormData.destination?this.searchFormData.destination:"",date:void 0!==this.searchFormData.date?this.searchFormData.date:"",time:void 0!==this.searchFormData.time?this.searchFormData.time:"",people:void 0!==this.searchFormData.people?this.searchFormData.people:"1"};let t="",o="";return void 0!==this.searchFormData.return_date&&(t=this.searchFormData.return_date,void 0!==this.searchFormData.return_time&&(o=this.searchFormData.return_time)),e.returning={date:t,time:o},e},onQuotesSearched:function(e){this.debugging&&(console.group("BIQ Quotes Searched"),console.log(e)),this.updateSearchState(e.data),this.debugging&&console.groupEnd()},onZeroQuotes:function(e){this.debugging&&(console.group("BIQ Quotes Search Zero Results"),console.log(e)),console.error(e.data.error),this.updateSearchState(e.data),this.debugging&&console.groupEnd()},onQuotesError:function(e){this.debugging&&(console.group("BIQ Quotes Search Error"),console.log(e),console.groupEnd());const t=e.data.error.message||"Unknown BIQ Quotes API Error";console.error(e.data.error),this.apiQuotesError(t)},onBookNowClicked:function(e){this.debugging&&(console.group("BIQ Quote Book Now Clicked"),console.log(e)),e.preventDefault();const{quoteID:t,selectedVehicleIndex:o}=e.data;this.debugging&&(console.log("Quote ID",t),console.log("Vehicle Index",o),console.log("Quote",this.journeyQuotes[t]),console.log("Vehicle",this.journeyQuotes[t].vehicles[o]),console.groupEnd());const s={id:t,vehicle:o,data:this.journeyQuotes[t]};if(!this.recommendAvailableUpgrade(s))return this.gotoCheckout()},onCancelModal:function(e){this.debugging&&console.log("Cancel Modal Event",e),this.gotoCheckout(),this.show_upgrade=!1},onConfirmModal:function(e){this.debugging&&console.log("Confirm Modal Event",e);const t=this.quotesRecommendedUpgrade.getRecommendedUpgrade();this.debugging&&(console.group("Quote Upgrade Recommendation Accepted"),console.log("quoteUpgradeOption",t),console.groupEnd()),this.selected={id:t.upgradeQuoteId,vehicle:t.upgradeVehicleIndex,data:t.upgradeQuote},this.gotoCheckout(),this.show_upgrade=!1},recommendAvailableUpgrade:function(e){if(!this.appSettings.recommend_upgrade)return this.selected=e,!1;this.quotesRecommendedUpgrade.makeRecommendationFor(e.data,e.vehicle);const t=this.quotesRecommendedUpgrade.getRecommendedUpgrade();if(this.debugging&&(console.group("Book Now Upgrade Recommendation"),console.log("quoteUpgradeOption",t),console.log("props",t.props()),console.groupEnd()),this.selected=e,!t.exists)return!1;const o=t.props();return this.recommended_upgrade_header=o.title,this.recommended_upgrade_description=o.description,this.show_upgrade=!0,this.show_upgrade},gotoCheckout:function(){this.bookNow({quote:this.selected.id,vehicle:this.selected.vehicle,quote_data:this.selected.data}),this.$router.push({name:"CheckoutPage",params:{journey:this.journeyID,quote:this.quoteID,vehicle:this.vehicleIndex}})},updateSearchState:function(e){this.debugging&&(console.group("BIQ Quotes Search State Updated"),console.log("Search data",e),console.log("Quote type",this.appSettings.quote_type),console.groupEnd()),this.searchedQuotes({...e,display_type:this.appSettings.quote_type})}}},Y=Object(h.a)(J,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("the-biq-search-form",{attrs:{"api-public-key":this.appSettings.biq_pk,"api-places-lookup":""+e.appSettings.biq_api_host+e.appConfig.PLACES_URI,"api-quotes-from":""+e.appSettings.biq_api_host+e.appConfig.QUOTE_URI,"search-on-load":e.searchOnLoad,debugging:e.debugging,"use-buttons":e.appConfig.useButtons},on:{biqQuotesSearched:e.onQuotesSearched,biqQuotesError:e.onQuotesError,biqZeroQuotes:e.onZeroQuotes}}),e._v(" "),e.showResults?o("the-biq-search-results",{attrs:{"display-results-type":e.appSettings.quote_type,debugging:e.debugging,"use-buttons":e.appConfig.useButtons},on:{biqQuoteBookNow:e.onBookNowClicked},scopedSlots:e._u([{key:"loading-quotes",fn:function(){return[o("div",{staticClass:"row"},[e._v("\n                Generating Quotes...\n            ")])]},proxy:!0},{key:"zero-quotes",fn:function(t){var s=t.error;return[o("p",[e._v(e._s(s.message))])]}}],null,!1,2758508769)}):e._e(),e._v(" "),e.showRecommendedUpgrade?o("modal",{attrs:{"header-text":e.recommended_upgrade_header,"cancel-action-text":"Don't Upgrade","confirm-action-text":"Upgrade"},on:{cancel:e.onCancelModal,confirm:e.onConfirmModal}},[o("p",{attrs:{slot:"body"},slot:"body"},[e._v(e._s(e.recommended_upgrade_description))])]):e._e()],1)}),[],!1,null,null,null).exports;s.default.use(f.a);var z=new f.a({routes:[{path:"/",name:"HomePage",component:Y,props:{searchFormData:searchFormData,searchOnLoad:searchOnLoad}},{path:"/:journey",name:"HomePageSearched",component:Y,props:{searchFormData:searchFormData,searchOnLoad:searchOnLoad}},{path:"/checkout/:journey/:quote/:vehicle",name:"CheckoutPage",component:()=>o.e(3).then(o.bind(null,258)),props:{stripe_cardform_style:stripe_cardform_style,paypalClientToken:paypalClientToken}},{path:"/complete/:booking_ref",name:"CompletePage",component:()=>o.e(4).then(o.bind(null,260))}]}),K=o(121);const W=(e,t)=>e.price>t.price?1:t.price>e.price?-1:0,Z=(e,t)=>e.rating.score>t.rating.score?-1:t.rating.score>e.rating.score?1:0,X=(e,t)=>{switch(t){case"SORT_BY_PRICE":return e.sort(W);case"SORT_BY_RATING":return e.sort(Z);default:return e}};const ee=(e,t,o)=>{const s=[];return console.group("Formatting BIQ Quotes"),Object.keys(e).forEach(o=>{const i={...e[o],quote_id:o,selected_vehicle:0};("best"!=t||"best"==t&&i.highlight)&&s.push(i)}),console.log({...e}),console.log(t),console.log(o),console.groupEnd(),s},te=e=>{console.group("Reducing BIQ Quotes to type & class only");const t=oe(e);console.log({...t});const o=t.sorted,s={};return o.hasOwnProperty("recommended")&&o.recommended.length&&(s.cheapest=o.recommended[0]),o.hasOwnProperty("executive")&&o.executive.length&&(s.exec=o.executive[0]),o.hasOwnProperty("vip")&&o.vip.length&&(s.luxury=o.vip[0]),o.hasOwnProperty("chauffeur")&&o.chauffeur.length&&(s.chauffeur=o.chauffeur[0]),console.log(s),console.groupEnd(),s},oe=e=>{let t={},o={};for(let s in e){let i=e[s];if(i.active){t[s]=i,i.quote_id=s;for(let e=0;e<i.vehicles.length;e++){let t={...i};t.selected_vehicle=e,t.vehicle=i.vehicles[e],t.vehicle.index=t.selected_vehicle,t.price=t.vehicle.price;let s=t.vehicle.type.class;delete t.vehicles,o.hasOwnProperty("recommended")||(o.recommended=[]),t.highlight&&(0===e?o.recommended.push(t):t.highlight=!1),o.hasOwnProperty("all")||(o.all=[]),o.all.push(t),o.hasOwnProperty(s)||(o[s]=[]),o[s].push(t)}}}for(let e in o)o[e]=X(o[e],"SORT_BY_PRICE");return{raw:t,sorted:o}};const se=new Date;se.setDate(se.getDate()+1),se.setHours(se.getHours()+2);const ie=e=>e<10?e="0"+e:e,re=()=>({search_details:{journey_type:"One Way",pickup:"",vias:[],destination:"",date:se.getFullYear()+"-"+ie(se.getMonth()+1)+"-"+ie(se.getDate()),time:ie(se.getHours())+":"+ie(se.getMinutes())+":"+ie(se.getSeconds()),people:"1",returning:{date:"",time:""}},results:!1,display_type:"",display_quotes:[]});var ae={state:re(),getters:{searchDetails:e=>e.search_details,hasSearchResults:e=>e.results,displayType:e=>e.display_type,displayQuotes:e=>e.display_quotes},actions:{resetSearch({commit:e,dispatch:t}){t("resetQuotes",null,{root:!0}),e("resetSearchState")},searchingQuotes({commit:e,dispatch:t},o){e("resetSearchState"),t("quoting",null,{root:!0}),e("searchingQuotesFor",o)},searchedQuotes({commit:e,dispatch:t},o){if(t("quoted",o,{root:!0}),Object.keys(o.quotes).length>0){e("displaying",{type:o.display_type,quotes:"type_class"==o.display_type?te(o.quotes):ee(o.quotes,o.display_type,"SORT_BY_PRICE")})}},changeDisplayType({commit:e,rootGetters:t},o){e("displaying",{type:o,quotes:"type_class"==o?te(t.journeyQuotes):ee(t.journeyQuotes,o,"SORT_BY_PRICE")})}},mutations:{resetSearchState(e){Object.assign(e,re())},searchingQuotesFor(e,t){e.search_details=t},displaying(e,t){e.display_quotes=t.quotes,e.display_type=t.type,e.results=!0}}};const ne={string:"",postcode:"",position:[0,0]},le=()=>({quoting:!1,quotes_loaded:!1,api_error:!1,journey_id:"",journey_details:{pickup:ne,destination:ne,vias:[],people:1,return:!1,date:"",distance:1,duration:116,duration_text:"1 min",quote_type:"mileage",is_airport:!1,hourly:!1},journey_quotes:{}});var ce={state:le(),getters:{loadingQuotes:e=>e.quoting,quotesError:e=>e.api_error,quotesLoaded:e=>e.quotes_loaded,zeroQuotes:e=>!!e.quotes_loaded&&0===Object.keys(e.journey_quotes).length,journeyID:e=>e.journey_id,journeyDetails:e=>e.journey_details,journeyDate:e=>new Date(Date.parse(e.journey_details.date)).toDateString(),journeyTime:e=>new Date(Date.parse(e.journey_details.date)).toLocaleTimeString(),journeyReturnDate:e=>new Date(Date.parse(e.journey_details.return)).toDateString(),journeyReturnTime:e=>new Date(Date.parse(e.journey_details.return)).toLocaleTimeString(),journeyHasReturn:e=>!!e.journey_details.return,journeyHasVias:e=>Array.isArray(e.journey_details.vias)&&e.journey_details.vias.length>0,journeyQuotes:e=>e.journey_quotes},actions:{resetQuotes({commit:e}){e("resetQuotesState")},quoting({commit:e,dispatch:t}){e("resetQuotesState"),t("resetCheckout",null,{root:!0}),e("searching")},apiQuotesError({commit:e},t){e("quotesError",{api_error:t}),e("searched")},quoted({commit:e},t){e("searched"),e("quotes",t)}},mutations:{resetQuotesState(e){Object.assign(e,le())},searching(e){e.quoting=!0},quotesError(e,t){e.api_error=t.api_error},searched(e){e.quoting=!1},quotes(e,t){e.journey_id=t.journey_id,e.journey_quotes=t.quotes,e.journey_details={pickup:t.journey.pickup,destination:t.journey.destination,vias:t.journey.vias,people:t.journey.people,return:t.journey.return,date:t.journey.date,distance:t.journey.distance,duration:t.journey.duration,duration_text:t.journey.duration_text,quote_type:t.journey.quote_type,is_airport:t.journey.is_airport,hourly:t.journey.hourly},e.quotes_loaded=!0}}};var ue={state:{processing:!1,processed:!1,basket:{quote_id:"",vehicle_index:0,amount:0},quote:{},vehicle:{},booking_ref:""},getters:{processed:e=>e.processed,processing:e=>e.processing,basket:e=>({quote:e.basket.quote_id,vehicle:e.basket.vehicle_index,price:e.basket.amount}),quoteID:e=>e.basket.quote_id,vehicleIndex:e=>e.basket.vehicle_index,price:e=>e.basket.amount,quoteData:e=>e.quote,quoteVehicleData:e=>e.vehicle,bookingRef:e=>e.booking_ref},actions:{resetCheckout({commit:e}){e("resetCheckoutState")},bookNow({commit:e},t){e("resetCheckoutState"),e("buildBasket",t)},booking({commit:e}){e("processing",{processing:!0,processed:!1})},bookingFailed({commit:e}){e("processing",{processing:!1,processed:!1})},booked({commit:e},t){e("resetCheckoutState");e("processing",{processing:!1,processed:!1}),e("booked",{booking_ref:t})}},mutations:{resetCheckoutState(e){Object.assign(e,{processing:!1,processed:!1,basket:{quote_id:"",vehicle_index:0,amount:0},quote:{},vehicle:{},booking_ref:""})},buildBasket(e,t){e.basket.quote_id=t.quote,e.basket.vehicle_index=t.vehicle,e.basket.amount=t.quote_data.vehicles[t.vehicle].price,e.quote=t.quote_data,e.vehicle=t.quote_data.vehicles[t.vehicle]},processing(e,t){e.processing=t.processing,e.processed=t.processed},booked(e,t){e.booking_ref=t.booking_ref}}};s.default.use(i.a);var de=new i.a.Store({modules:{BIQSearchStateStore:ae,BIQQuotesStateStore:ce,BIQCheckoutStateStore:ue},plugins:[Object(K.a)({paths:["BIQSearchStateStore","BIQQuotesStateStore","BIQCheckoutStateStore"],storage:window.localStorage})]}),pe=o(122),ge=o.n(pe);s.default.config.productionTip=!1,s.default.config.devtools=!1,s.default.use(r.a),s.default.use(a.a),n.c.add(l.b,l.d,l.a,l.e,l.c),s.default.component("font-awesome-icon",c.a),s.default.use(u.a),s.default.use(i.a),new s.default({store:de,render:e=>e(m,{props:{biqAppURL:biqAppURL,biqAppConfig:ge.a.LIVE,biqAppDebugEnabled:biq_app_debug_enabled}}),el:"#biq-vue-app",router:z})},53:function(e,t,o){},54:function(e,t,o){},72:function(e,t,o){"use strict";const s={props:{validClass:{type:String,default:""},errorClass:{type:String,default:"is-invalid"},errorState:{type:String,default:null},values:{type:Object,default:function(){return{}}},debugging:{type:Boolean,default:!1}},data:()=>({fields:{}}),methods:{validate:function(){return this.validateValues()},specialValidationErrors:function(){return{}},specialInputValues:function(){return{}},errorStateClass:function(e){return null==this.fields[e].error?"":this.fields[e].error?this.errorClass:this.validClass},setFieldValues:function(){const e=this;this.debugging&&(console.group(`Setting ${this.$options._componentTag} values`),console.log("Fields Before",{...this.fields}),console.log("Values",this.values)),Object.keys(this.values).forEach(t=>{if(!e.fields.hasOwnProperty(t))return void(e.debugging&&console.info(`${e.$options._componentTag} does not contain field '${t}'`));const o=e.fields[t].hasOwnProperty("value")?"value":"selected";e.fields[t][o]=e.values[t]}),this.debugging&&(console.log("Fields After",{...this.fields}),console.groupEnd())},validateValues:function(){const e=this;let t=0;return this.debugging&&console.group(`Validating ${this.$options._componentTag} values`),Object.keys(this.fields).forEach(o=>{if(e.fields[o].error=null,!e.fields[o].required)return;const s=e.fields[o].hasOwnProperty("value")?"value":"selected";""==e.fields[o][s]?(e.fields[o].error=e.fields[o].errorMsg,e.debugging&&console.info(`Invalid field value for '${o}' -- ${e.fields[o].error}`),t++):e.fields[o].error=""}),this.debugging&&console.groupEnd(),0==t},validationErrors:function(){const e=this,t={};return Object.keys(this.fields).forEach(o=>{t[o]=e.fields[o].error}),{...this.specialValidationErrors(),...t}},inputValues:function(){const e=this,t={};return Object.keys(this.fields).forEach(o=>{const s=e.fields[o].hasOwnProperty("value")?"value":"selected";t[o]=e.fields[o][s]}),{...this.specialInputValues(),...t}}}};t.a=s},73:function(e,t,o){"use strict";const s={props:{appConfig:{type:Object,required:!0,default:function(){return null}},appSettings:{type:Object,required:!0,default:function(){return null}},debugging:{type:Boolean,default:!1}}};t.a=s},74:function(e,t,o){"use strict";const s={name:"click"};var i={name:"ProcessFormSubmit",props:{processing:{type:Boolean,default:!1},label:{type:String,default:"Submit"},useButtons:{type:Boolean,default:!0}},computed:{submitLabel:function(){return this.processing?"Processing":this.label}},methods:{onClick:function(e){this.$emit(s.name,e)}}},r=o(14),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.useButtons?o("button",{staticClass:"form-control btn btn-primary",attrs:{disabled:e.processing},on:{click:e.onClick}},[e.processing?o("div",{staticClass:"spinner-border spinner-border-sm"}):e._e(),e._v("\n    "+e._s(e.submitLabel)+"\n")]):o("input",{staticClass:"btn btn-primary",attrs:{value:e.submitLabel,disabled:e.processing,type:"button"},on:{click:e.onClick}})}),[],!1,null,null,null);t.a=a.exports}},[[253,0,1]]]);
(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["BIQQuoteUpgradeOffer"],{

/***/ "./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vuex */ \"./node_modules/vuex/dist/vuex.esm.js\");\n/* harmony import */ var _BIQ_QuotesRecommendedUpgradeCalculator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @BIQ/QuotesRecommendedUpgradeCalculator */ \"./src/common/BIQ/QuotesRecommendedUpgradeCalculator.js\");\n/* harmony import */ var _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @BIQ/VehicleUpgrade */ \"./src/common/BIQ/VehicleUpgrade.js\");\n/* harmony import */ var frontend_static_assets_less_common_modal_popup_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! frontend/static-assets/less/common/modal_popup.less */ \"./src/frontend/static-assets/less/common/modal_popup.less\");\n/* harmony import */ var frontend_static_assets_less_common_modal_popup_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(frontend_static_assets_less_common_modal_popup_less__WEBPACK_IMPORTED_MODULE_3__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import the state getters & actions mappers\n // import the recommended quote upgrade calculator\n\n // import the vehicle specific upgrade stuff\n\n // import the CSS specific to the modal popup (webpack will chunk this  & auto load / include separately)\n\n // define the component properties\n\nconst props = {\n  journey: {\n    type: String,\n    required: true,\n    default: ''\n  },\n  quote: {\n    type: String,\n    required: true,\n    default: ''\n  },\n  vehicle: {\n    type: Number,\n    required: true,\n    default: 0\n  },\n  confirmUpgradeActionText: {\n    type: String,\n    default: 'Upgrade'\n  },\n  cancelUpgradeActionText: {\n    type: String,\n    default: \"Don't Upgrade\"\n  },\n  debugging: {\n    type: Boolean,\n    default: false\n  }\n}; // define the list of events the component emits & can be listened for\n\nconst emitEvents = {\n  // when there are no upgraded quotes available for the selected quote\n  unavailable: {\n    name: 'unavailable'\n  },\n  // when the confirm action button is clicked or enter pressed on the modal\n  confirm: {\n    name: 'confirm'\n  },\n  // when the cancel action button is clicked or esc pressed on the modal\n  cancel: {\n    name: 'cancel'\n  }\n}; // define the component computed property methods\n\nconst computed = { ...Object(vuex__WEBPACK_IMPORTED_MODULE_0__[\"mapGetters\"])([// BIQ Quoting state\n  'journeyDetails', 'journeyQuotes'])\n}; // define the component methods\n\nconst methods = {\n  generateUpgradeOffer: function () {\n    // see if there is an quote avalaible for upgrade recommendation\n    this.quotesRecommendedUpgrade.makeRecommendationFor(this.journeyQuotes[this.quote], this.vehicle); // get the recommended upgrade\n\n    const upgrade = this.quotesRecommendedUpgrade.getRecommendedUpgrade();\n\n    if (this.debugging) {\n      console.group('Upgrade Recommendation');\n      console.log('upgrade', upgrade);\n      console.log('props', upgrade.props());\n      console.groupEnd();\n    } // determine if to offer the quote vehicle upgrade recommendation\n\n\n    if (!upgrade.exists) {\n      // no quote upgrade to offer\n      // trigger the no upgrade available event\n      return this.$emit(emitEvents.unavailable.name, upgrade);\n    } // there is a quote upgrade recommendation to offer so set the props details\n\n\n    this.upgrade_props = upgrade.props(); // flag the modal popup to display the recommended upgrade offer\n\n    this.has_upgrade = true;\n  },\n  onCancel: function (evt) {\n    // trigger the modal cancelled event\n    this.$emit(emitEvents.cancel.name, evt);\n  },\n  onConfirm: function (evt) {\n    // add the recommended upgrade to the event\n    evt.data = {\n      recommendedUpgrade: this.quotesRecommendedUpgrade.getRecommendedUpgrade()\n    }; // trigger the modal confirmed event\n\n    this.$emit(emitEvents.confirm.name, evt);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'QuoteUpgradeOfferModal',\n  props,\n  computed,\n  methods,\n\n  data() {\n    return {\n      quotesRecommendedUpgrade: new _BIQ_QuotesRecommendedUpgradeCalculator__WEBPACK_IMPORTED_MODULE_1__[\"default\"](() => this.journeyQuotes, () => this.journeyDetails, this.debugging),\n      has_upgrade: false,\n      upgrade_props: _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_2__[\"emptyUpgradeProps\"]\n    };\n  },\n\n  mounted() {\n    // see if there is an quote avalaible for upgrade recommendation\n    this.generateUpgradeOffer();\n  },\n\n  updated() {\n    // set the focus on the overlay so pressing the esc key will also trigger the onCancel event\n    this.$refs.overlay.focus();\n  }\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8hLi9zcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP2FiYTgiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICAgIDx0cmFuc2l0aW9uIFxuICAgICAgICB2LWlmPVwiaGFzX3VwZ3JhZGVcIlxuICAgICAgICBuYW1lPVwibW9kYWxcIiBcbiAgICA+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICByZWY9XCJvdmVybGF5XCJcbiAgICAgICAgICAgIEBrZXlkb3duLmVzYz1cIm9uQ2FuY2VsXCJcbiAgICAgICAgICAgIEBrZXlkb3duLmVudGVyPVwib25Db25maXJtXCJcbiAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICBjbGFzcz1cIm1vZGFsLW1hc2tcIlxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOnRleHQ9XCJ1cGdyYWRlX3Byb3BzLnRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDU+e3t1cGdyYWRlX3Byb3BzLnRpdGxlfX08L2g1PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImJvZHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDp1cGdyYWRlPVwidXBncmFkZV9wcm9wc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3t1cGdyYWRlX3Byb3BzLmRlc2NyaXB0aW9ufX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXIgZC1mbGV4IGZsZXgtd3JhcCBqdXN0aWZ5LWNvbnRlbnQtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZm9vdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2FuY2VsPVwib25DYW5jZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjb25maXJtPVwib25Db25maXJtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIm9uQ2FuY2VsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e3tjYW5jZWxVcGdyYWRlQWN0aW9uVGV4dH19PC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJvbkNvbmZpcm1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID57e2NvbmZpcm1VcGdyYWRlQWN0aW9uVGV4dH19PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvdHJhbnNpdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gICAgLy8gaW1wb3J0IHRoZSBzdGF0ZSBnZXR0ZXJzICYgYWN0aW9ucyBtYXBwZXJzXG4gICAgaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnO1xuICAgIC8vIGltcG9ydCB0aGUgcmVjb21tZW5kZWQgcXVvdGUgdXBncmFkZSBjYWxjdWxhdG9yXG4gICAgaW1wb3J0IFF1b3Rlc1JlY29tbWVuZGVkVXBncmFkZUNhbGN1bGF0b3IgZnJvbSAnQEJJUS9RdW90ZXNSZWNvbW1lbmRlZFVwZ3JhZGVDYWxjdWxhdG9yJztcbiAgICAvLyBpbXBvcnQgdGhlIHZlaGljbGUgc3BlY2lmaWMgdXBncmFkZSBzdHVmZlxuICAgIGltcG9ydCB7IGVtcHR5VXBncmFkZVByb3BzIH0gZnJvbSAnQEJJUS9WZWhpY2xlVXBncmFkZSc7XG4gICAgLy8gaW1wb3J0IHRoZSBDU1Mgc3BlY2lmaWMgdG8gdGhlIG1vZGFsIHBvcHVwICh3ZWJwYWNrIHdpbGwgY2h1bmsgdGhpcyAgJiBhdXRvIGxvYWQgLyBpbmNsdWRlIHNlcGFyYXRlbHkpXG4gICAgaW1wb3J0ICdmcm9udGVuZC9zdGF0aWMtYXNzZXRzL2xlc3MvY29tbW9uL21vZGFsX3BvcHVwLmxlc3MnO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBjb21wb25lbnQgcHJvcGVydGllc1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICBqb3VybmV5IDoge1xuICAgICAgICAgICAgdHlwZSA6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkIDogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHQgOiAnJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHF1b3RlIDoge1xuICAgICAgICAgICAgdHlwZSA6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkIDogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHQgOiAnJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHZlaGljbGUgOiB7XG4gICAgICAgICAgICB0eXBlIDogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQgOiB0cnVlLFxuICAgICAgICAgICAgZGVmYXVsdCA6IDBcbiAgICAgICAgfSxcblxuICAgICAgICBjb25maXJtVXBncmFkZUFjdGlvblRleHQgOiB7XG4gICAgICAgICAgICB0eXBlIDogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdCA6ICdVcGdyYWRlJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNhbmNlbFVwZ3JhZGVBY3Rpb25UZXh0IDoge1xuICAgICAgICAgICAgdHlwZSA6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQgOiBcIkRvbid0IFVwZ3JhZGVcIlxuICAgICAgICB9LFxuXG4gICAgICAgIGRlYnVnZ2luZyA6IHtcbiAgICAgICAgICAgIHR5cGUgOiBCb29sZWFuLFxuICAgICAgICAgICAgZGVmYXVsdCA6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIGRlZmluZSB0aGUgbGlzdCBvZiBldmVudHMgdGhlIGNvbXBvbmVudCBlbWl0cyAmIGNhbiBiZSBsaXN0ZW5lZCBmb3JcbiAgICBjb25zdCBlbWl0RXZlbnRzID0ge1xuICAgICAgICAvLyB3aGVuIHRoZXJlIGFyZSBubyB1cGdyYWRlZCBxdW90ZXMgYXZhaWxhYmxlIGZvciB0aGUgc2VsZWN0ZWQgcXVvdGVcbiAgICAgICAgdW5hdmFpbGFibGUgOiB7XG4gICAgICAgICAgICBuYW1lIDogJ3VuYXZhaWxhYmxlJ1xuICAgICAgICB9LFxuICAgICAgICAvLyB3aGVuIHRoZSBjb25maXJtIGFjdGlvbiBidXR0b24gaXMgY2xpY2tlZCBvciBlbnRlciBwcmVzc2VkIG9uIHRoZSBtb2RhbFxuICAgICAgICBjb25maXJtIDoge1xuICAgICAgICAgICAgbmFtZSA6ICdjb25maXJtJ1xuICAgICAgICB9LFxuICAgICAgICAvLyB3aGVuIHRoZSBjYW5jZWwgYWN0aW9uIGJ1dHRvbiBpcyBjbGlja2VkIG9yIGVzYyBwcmVzc2VkIG9uIHRoZSBtb2RhbFxuICAgICAgICBjYW5jZWwgOiB7XG4gICAgICAgICAgICBuYW1lIDogJ2NhbmNlbCdcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gZGVmaW5lIHRoZSBjb21wb25lbnQgY29tcHV0ZWQgcHJvcGVydHkgbWV0aG9kc1xuICAgIGNvbnN0IGNvbXB1dGVkID0ge1xuICAgICAgICAuLi5tYXBHZXR0ZXJzKFtcbiAgICAgICAgLy8gQklRIFF1b3Rpbmcgc3RhdGVcbiAgICAgICAgICAgICdqb3VybmV5RGV0YWlscycsIFxuICAgICAgICAgICAgJ2pvdXJuZXlRdW90ZXMnXG4gICAgICAgIF0pXG4gICAgfTtcbiAgICAvLyBkZWZpbmUgdGhlIGNvbXBvbmVudCBtZXRob2RzXG4gICAgY29uc3QgbWV0aG9kcyA9IHtcbiAgICAgICAgZ2VuZXJhdGVVcGdyYWRlT2ZmZXIgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHNlZSBpZiB0aGVyZSBpcyBhbiBxdW90ZSBhdmFsYWlibGUgZm9yIHVwZ3JhZGUgcmVjb21tZW5kYXRpb25cbiAgICAgICAgICAgIHRoaXMucXVvdGVzUmVjb21tZW5kZWRVcGdyYWRlLm1ha2VSZWNvbW1lbmRhdGlvbkZvcih0aGlzLmpvdXJuZXlRdW90ZXNbdGhpcy5xdW90ZV0sIHRoaXMudmVoaWNsZSk7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHJlY29tbWVuZGVkIHVwZ3JhZGVcbiAgICAgICAgICAgIGNvbnN0IHVwZ3JhZGUgPSB0aGlzLnF1b3Rlc1JlY29tbWVuZGVkVXBncmFkZS5nZXRSZWNvbW1lbmRlZFVwZ3JhZGUoKTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGVidWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cCgnVXBncmFkZSBSZWNvbW1lbmRhdGlvbicpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGdyYWRlJywgdXBncmFkZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb3BzJywgdXBncmFkZS5wcm9wcygpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdG8gb2ZmZXIgdGhlIHF1b3RlIHZlaGljbGUgdXBncmFkZSByZWNvbW1lbmRhdGlvblxuICAgICAgICAgICAgaWYoIXVwZ3JhZGUuZXhpc3RzKSB7XG4gICAgICAgICAgICAvLyBubyBxdW90ZSB1cGdyYWRlIHRvIG9mZmVyXG4gICAgICAgICAgICAgICAgLy8gdHJpZ2dlciB0aGUgbm8gdXBncmFkZSBhdmFpbGFibGUgZXZlbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZW1pdChlbWl0RXZlbnRzLnVuYXZhaWxhYmxlLm5hbWUsIHVwZ3JhZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSBxdW90ZSB1cGdyYWRlIHJlY29tbWVuZGF0aW9uIHRvIG9mZmVyIHNvIHNldCB0aGUgcHJvcHMgZGV0YWlsc1xuICAgICAgICAgICAgdGhpcy51cGdyYWRlX3Byb3BzID0gdXBncmFkZS5wcm9wcygpO1xuICAgICAgICAgICAgLy8gZmxhZyB0aGUgbW9kYWwgcG9wdXAgdG8gZGlzcGxheSB0aGUgcmVjb21tZW5kZWQgdXBncmFkZSBvZmZlclxuICAgICAgICAgICAgdGhpcy5oYXNfdXBncmFkZSA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DYW5jZWwgOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIG1vZGFsIGNhbmNlbGxlZCBldmVudFxuICAgICAgICAgICAgdGhpcy4kZW1pdChlbWl0RXZlbnRzLmNhbmNlbC5uYW1lLCBldnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uQ29uZmlybSA6IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgLy8gYWRkIHRoZSByZWNvbW1lbmRlZCB1cGdyYWRlIHRvIHRoZSBldmVudFxuICAgICAgICAgICAgZXZ0LmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRVcGdyYWRlIDogdGhpcy5xdW90ZXNSZWNvbW1lbmRlZFVwZ3JhZGUuZ2V0UmVjb21tZW5kZWRVcGdyYWRlKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHRoZSBtb2RhbCBjb25maXJtZWQgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoZW1pdEV2ZW50cy5jb25maXJtLm5hbWUsIGV2dCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAnUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbCcsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjb21wdXRlZCxcbiAgICAgICAgbWV0aG9kcyxcblxuICAgICAgICBkYXRhKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBxdW90ZXNSZWNvbW1lbmRlZFVwZ3JhZGUgOiBuZXcgUXVvdGVzUmVjb21tZW5kZWRVcGdyYWRlQ2FsY3VsYXRvcihcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5qb3VybmV5UXVvdGVzLCBcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5qb3VybmV5RGV0YWlscywgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWdnaW5nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBoYXNfdXBncmFkZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVfcHJvcHMgOiBlbXB0eVVwZ3JhZGVQcm9wc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3VudGVkKCkge1xuICAgICAgICAgICAgLy8gc2VlIGlmIHRoZXJlIGlzIGFuIHF1b3RlIGF2YWxhaWJsZSBmb3IgdXBncmFkZSByZWNvbW1lbmRhdGlvblxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVVwZ3JhZGVPZmZlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZWQoKSB7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIGZvY3VzIG9uIHRoZSBvdmVybGF5IHNvIHByZXNzaW5nIHRoZSBlc2Mga2V5IHdpbGwgYWxzbyB0cmlnZ2VyIHRoZSBvbkNhbmNlbCBldmVudFxuICAgICAgICAgICAgdGhpcy4kcmVmcy5vdmVybGF5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuPC9zY3JpcHQ+XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUE3QkE7QUFDQTtBQWtDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQVZBO0FBQ0E7QUFjQTtBQUdBO0FBSEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFwQ0E7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&\n");

/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074& ***!
  \********************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.has_upgrade\n    ? _c(\"transition\", { attrs: { name: \"modal\" } }, [\n        _c(\n          \"div\",\n          {\n            ref: \"overlay\",\n            staticClass: \"modal-mask\",\n            attrs: { tabindex: \"0\" },\n            on: {\n              keydown: [\n                function($event) {\n                  if (\n                    !$event.type.indexOf(\"key\") &&\n                    _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                      \"Esc\",\n                      \"Escape\"\n                    ])\n                  ) {\n                    return null\n                  }\n                  return _vm.onCancel($event)\n                },\n                function($event) {\n                  if (\n                    !$event.type.indexOf(\"key\") &&\n                    _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                  ) {\n                    return null\n                  }\n                  return _vm.onConfirm($event)\n                }\n              ]\n            }\n          },\n          [\n            _c(\"div\", { staticClass: \"modal-wrapper\" }, [\n              _c(\"div\", { staticClass: \"modal-container\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"modal-header\" },\n                  [\n                    _vm._t(\n                      \"header\",\n                      [_c(\"h5\", [_vm._v(_vm._s(_vm.upgrade_props.title))])],\n                      { text: _vm.upgrade_props.title }\n                    )\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"modal-body\" },\n                  [\n                    _vm._t(\n                      \"body\",\n                      [\n                        _c(\"p\", [_vm._v(_vm._s(_vm.upgrade_props.description))])\n                      ],\n                      { upgrade: _vm.upgrade_props }\n                    )\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass:\n                      \"modal-footer d-flex flex-wrap justify-content-end\"\n                  },\n                  [\n                    _vm._t(\n                      \"footer\",\n                      [\n                        _c(\n                          \"button\",\n                          {\n                            staticClass: \"btn btn-secondary\",\n                            on: { click: _vm.onCancel }\n                          },\n                          [_vm._v(_vm._s(_vm.cancelUpgradeActionText))]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"button\",\n                          {\n                            staticClass: \"btn btn-primary\",\n                            on: { click: _vm.onConfirm }\n                          },\n                          [_vm._v(_vm._s(_vm.confirmUpgradeActionText))]\n                        )\n                      ],\n                      { cancel: _vm.onCancel, confirm: _vm.onConfirm }\n                    )\n                  ],\n                  2\n                )\n              ])\n            ])\n          ]\n        )\n      ])\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/IS4vc3JjL2NvbXBvbmVudHMvQklRL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI1YjE2MDc0Ji5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0JJUS9RdW90ZVVwZ3JhZGVPZmZlck1vZGFsLnZ1ZT8yYmQ4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX3ZtLmhhc191cGdyYWRlXG4gICAgPyBfYyhcInRyYW5zaXRpb25cIiwgeyBhdHRyczogeyBuYW1lOiBcIm1vZGFsXCIgfSB9LCBbXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiBcIm92ZXJsYXlcIixcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm1vZGFsLW1hc2tcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IHRhYmluZGV4OiBcIjBcIiB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAga2V5ZG93bjogW1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhJGV2ZW50LnR5cGUuaW5kZXhPZihcImtleVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBfdm0uX2soJGV2ZW50LmtleUNvZGUsIFwiZXNjXCIsIDI3LCAkZXZlbnQua2V5LCBbXG4gICAgICAgICAgICAgICAgICAgICAgXCJFc2NcIixcbiAgICAgICAgICAgICAgICAgICAgICBcIkVzY2FwZVwiXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub25DYW5jZWwoJGV2ZW50KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICEkZXZlbnQudHlwZS5pbmRleE9mKFwia2V5XCIpICYmXG4gICAgICAgICAgICAgICAgICAgIF92bS5faygkZXZlbnQua2V5Q29kZSwgXCJlbnRlclwiLCAxMywgJGV2ZW50LmtleSwgXCJFbnRlclwiKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQ29uZmlybSgkZXZlbnQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIm1vZGFsLXdyYXBwZXJcIiB9LCBbXG4gICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibW9kYWwtY29udGFpbmVyXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwibW9kYWwtaGVhZGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl90KFxuICAgICAgICAgICAgICAgICAgICAgIFwiaGVhZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgW19jKFwiaDVcIiwgW192bS5fdihfdm0uX3MoX3ZtLnVwZ3JhZGVfcHJvcHMudGl0bGUpKV0pXSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IF92bS51cGdyYWRlX3Byb3BzLnRpdGxlIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJtb2RhbC1ib2R5XCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl90KFxuICAgICAgICAgICAgICAgICAgICAgIFwiYm9keVwiLFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwicFwiLCBbX3ZtLl92KF92bS5fcyhfdm0udXBncmFkZV9wcm9wcy5kZXNjcmlwdGlvbikpXSlcbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgIHsgdXBncmFkZTogX3ZtLnVwZ3JhZGVfcHJvcHMgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgIFwibW9kYWwtZm9vdGVyIGQtZmxleCBmbGV4LXdyYXAganVzdGlmeS1jb250ZW50LWVuZFwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfdm0uX3QoXG4gICAgICAgICAgICAgICAgICAgICAgXCJmb290ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4tc2Vjb25kYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgY2xpY2s6IF92bS5vbkNhbmNlbCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoX3ZtLl9zKF92bS5jYW5jZWxVcGdyYWRlQWN0aW9uVGV4dCkpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4tcHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7IGNsaWNrOiBfdm0ub25Db25maXJtIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoX3ZtLmNvbmZpcm1VcGdyYWRlQWN0aW9uVGV4dCkpXVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgeyBjYW5jZWw6IF92bS5vbkNhbmNlbCwgY29uZmlybTogX3ZtLm9uQ29uZmlybSB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICBdXG4gICAgICAgIClcbiAgICAgIF0pXG4gICAgOiBfdm0uX2UoKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&\n");

/***/ }),

/***/ "./src/common/BIQ/QuotesRecommendedUpgradeCalculator.js":
/*!**************************************************************!*\
  !*** ./src/common/BIQ/QuotesRecommendedUpgradeCalculator.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return QuotesRecommendedUpgradeCalculator; });\n/* harmony import */ var _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @BIQ/VehicleUpgrade */ \"./src/common/BIQ/VehicleUpgrade.js\");\n// import the vehicle specific upgrade stuff\n\n/**\n * Create no upgrade available object \n * @param {string} categoryType the upgrade category tier type\n * @returns {Object} An object defining the structure for continued processing\n */\n\nconst noUpgradeAvailable = categoryType => {\n  return {\n    categoryType,\n    exists: false,\n    props: () => ({})\n  };\n};\n/**\n * Create a mapped object of available tier type category upgrades\n * @param {string} type the upgrade category tier type\n * @returns {Object} An object defining the tier type, the upgrade criteria needed & if it exists\n */\n\n\nconst mapAvailableCategoryUpgrades = type => {\n  return {\n    type,\n    // use a callback to defer value until needed\n    upgradeCriteria: _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_0__[\"upgradeCriteria\"]\n  };\n};\n\nclass QuotesRecommendedUpgradeCalculator {\n  /**\n   * Form the base for transaction payment handlers\n   * @param {function} getQuotesCB A callback that will provide the list of quotes to get recommendations from\n   * @param {function} getJourneyCB A callback that will provide the quoted journey details\n  * @param {Boolean} debugging flag to indicate if debugging is enabled\n   * @returns {QuotesRecommendedUpgradeCalculator}\n   */\n  constructor(getQuotesCB, getJourneyCB, debugging) {\n    // because of safai we can't have nice things & have to bind these anyway\n    this._resetRecommendation = this._resetRecommendation.bind(this);\n    this._setCategories = this._setCategories.bind(this);\n    this._upgradeTierRecommendation = this._upgradeTierRecommendation.bind(this);\n    this._recommendForSelected = this._recommendForSelected.bind(this);\n    this._mapCategoryUpgradesForSelected = this._mapCategoryUpgradesForSelected.bind(this);\n    this._mapQuoteUpgradesForSelected = this._mapQuoteUpgradesForSelected.bind(this);\n    this._commonUpgradeProps = this._commonUpgradeProps.bind(this);\n    this.makeRecommendationFor = this.makeRecommendationFor.bind(this);\n    this.setRecommendedUpgrade = this.setRecommendedUpgrade.bind(this);\n    this.getRecommendedUpgrade = this.getRecommendedUpgrade.bind(this); // map the callback to get the quotes & journey details when they're needed\n\n    this.getQuotes = getQuotesCB;\n    this.getJourney = getJourneyCB; // set the immutable properties\n\n    this.debugging = debugging; // set the available quote vehicle upgrade tiers\n\n    this.upgradeTiers = {\n      class: _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_0__[\"CLASS_UPGRADE_TIERS\"],\n      type: _BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_0__[\"TYPE_UPGRADE_TIERS\"]\n    }; // the quotes are keyed by quote ID\n\n    this.quotes = {}; // set the available category type tier upgrade categories\n\n    this._setCategories(); // reset / initialise the recommendation data\n\n\n    this._resetRecommendation();\n  }\n  /**\n   * Set the available category upgrade types for the upgrade tiers\n   */\n\n\n  _setCategories() {\n    // map the vehicle upgrade categories with the available upgrade default data set\n    this.availableCategoryUpgrades = Object.keys(this.upgradeTiers).map(mapAvailableCategoryUpgrades);\n  }\n  /**\n   * Reset the quote upgrade recommendation\n   */\n\n\n  _resetRecommendation() {\n    // if no upgrade recomendation is found, the following is used\n    this.priceDifference = 9999; // reset the recommendation\n\n    this.upgradeRecommendation = {\n      categoryType: null,\n      exists: false,\n      tierUpgrade: null,\n      data: {\n        key: null,\n        quoteId: null,\n        quote: {},\n        vehicleIndex: null,\n        vehicle: {\n          price: this.priceDifference\n        },\n        priceDifference: this.priceDifference\n      }\n    };\n  }\n  /**\n   * Set the recommended upgrade quote\n   * @param {Object} upgradeOption the upgrade recommendation option\n   */\n\n\n  setRecommendedUpgrade(upgradeOption) {\n    this.recommendedUpgrade = { ...upgradeOption,\n      // override the original common props method with the specifc props if the upgrade exists\n      props: upgradeOption.exists ? Object(_BIQ_VehicleUpgrade__WEBPACK_IMPORTED_MODULE_0__[\"upgradeOptionProps\"])(upgradeOption) : () => ({}),\n      selectedQuoteId: this.selectedQuoteId,\n      selectedQuote: this.selectedQuote,\n      selectedVehicleIndex: this.selectedVehicleIndex,\n      selectedVehicle: this.selectedVehicle\n    };\n\n    if (this.debugging) {\n      console.log('Recommended Upgrade Set', this.recommendedUpgrade);\n    }\n  }\n  /**\n   * Get the recommended quote upgrade\n   * @returns {object}\n   */\n\n\n  getRecommendedUpgrade() {\n    return { ...this.recommendedUpgrade\n    };\n  }\n  /**\n   * Determine a quote upgrade recommendation for the specified quote if there is one\n   * @param {Object} quote the quote to recommend an upgrade for\n   * @param {Number} vehicle the the selected vehicle index for the selected quote\n   * @returns {object}\n   */\n\n\n  makeRecommendationFor(quote, vehicle) {\n    // reset / initialise the recommendation data\n    this._resetRecommendation(); // check the quote exists & the vehicle\n\n\n    this.selectedQuote = quote;\n    this.selectedVehicle = quote.vehicles[vehicle]; // set the selected quote & vehicle now the checks have passed\n\n    this.selectedQuoteId = quote.quote_id;\n    this.selectedVehicleIndex = vehicle;\n\n    if (this.debugging) {\n      console.group('-- Making upgrade recommendation for selected quote --');\n      console.log('availableCategoryUpgrades', this.availableCategoryUpgrades);\n      console.log('selectedQuoteId', this.selectedQuoteId);\n      console.log('selectedVehicleIndex', this.selectedVehicleIndex);\n      console.log('selectedQuote', this.selectedQuote);\n      console.log('selectedVehicle', this.selectedVehicle);\n      console.log('priceDifference', this.priceDifference);\n      console.log('upgradeRecommendation', { ...this.upgradeRecommendation\n      });\n    }\n\n    this.setRecommendedUpgrade(this._recommendForSelected());\n\n    if (this.debugging) {\n      console.log('priceDifference', this.priceDifference);\n      console.log('upgradeRecommendation', { ...this.upgradeRecommendation\n      });\n      console.groupEnd();\n    }\n  }\n  /**\n   * Determine the upgrade recommendations for the selected quote & vehicle\n   * @returns {Object}\n   */\n\n\n  _recommendForSelected() {\n    // get the list of quotes to get a recommended upgrade from inside the upgrade mapping\n    this.quotes = this.getQuotes();\n    const upgradeOptions = this.availableCategoryUpgrades.map(this._mapCategoryUpgradesForSelected) // we only want the upgrades that exist\n    .filter(upgrade => upgrade.exists);\n\n    if (this.debugging) {\n      console.log('upgradeOptions', upgradeOptions);\n    } // clear out the quotes, don't need to keep them anymore\n\n\n    this.quotes = {};\n\n    if (upgradeOptions.length) {\n      // set the recommended vehicle upgrade option for the selected quote\n      this.priceDifference = upgradeOptions[0].data.priceDifference;\n      this.upgradeRecommendation = upgradeOptions[0];\n    } // return the recommendation for the selected quote & common props\n\n\n    return {\n      upgradeQuoteId: this.upgradeRecommendation.data.quoteId,\n      upgradeQuote: this.upgradeRecommendation.data.quote,\n      upgradeVehicleIndex: this.upgradeRecommendation.data.vehicleIndex,\n      upgradeVehicle: this.upgradeRecommendation.data.vehicle,\n      priceDifference: this.priceDifference,\n      ...this.upgradeRecommendation\n    };\n  }\n  /**\n   * Determine if a specific tier category is eligible for an upgrade\n   * @param {Object} category The mapped category upgrade \n   * @param {boolean} extraConditions Any extra conditions the category might need to determine if upgrade is available\n   * @return {Object}\n   * @throws error on upgrade tier not being set for the category type\n   * @throws error if the category type has no upgrade criteria defined\n   */\n\n\n  _upgradeTierRecommendation(category, extraConditions) {\n    // check the tier category exists first\n    if (!this.upgradeTiers.hasOwnProperty(category.type)) {\n      throw new ErrorEvent('WARNING', {\n        error: new Error('BIQ Recommended Quote Upgrade Tier Error'),\n        message: `No tier found with category value of ${category.type}.`\n      });\n    } // get index of the upgrade tier type category option for the vehicle category type if it exists\n\n\n    const tiersIndex = this.upgradeTiers[category.type].indexOf(this.selectedVehicle.type[category.type]); // get the category type upgrade condition for the quote\n\n    const conditions = category.upgradeCriteria(category.type, this.getJourney(), this.selectedVehicle); // return the outcome\n\n    return {\n      currentTier: tiersIndex,\n      nextTier: tiersIndex + 1,\n      available: tiersIndex < this.upgradeTiers[category.type].length - 1 && conditions && extraConditions\n    };\n  }\n  /**\n   * Map upgrade recommendation for an upgrade category\n   * @param {Object} category the upgrade category to map data for\n   * @returns {Object}\n   */\n\n\n  _mapCategoryUpgradesForSelected(category) {\n    // check if the category has a tier upgrade available\n    const upgradeTierRecommendation = this._upgradeTierRecommendation(category, true);\n\n    if (!upgradeTierRecommendation.available) {\n      // no upgrade recommendation available, just return the default\n      return noUpgradeAvailable(category.type);\n    } // get the next tier as the upgrade category type option\n\n\n    const nextTierIndex = parseInt(upgradeTierRecommendation.nextTier, 10);\n    const tierUpgrade = this.upgradeTiers[category.type][nextTierIndex];\n\n    if (this.debugging) {\n      console.log('upgradeTierRecommendation', upgradeTierRecommendation);\n      console.log('tierUpgrade', tierUpgrade);\n      console.group('-- quote upgrade map --');\n    } // map the quotes for active & matching upgrade vehicles\n\n\n    const quoteUpgrades = Object.keys(this.quotes).map(quoteId => {\n      return this._mapQuoteUpgradesForSelected(quoteId, category.type, tierUpgrade);\n    }) // filter out the inactive quotes & the ones with no matching vehicles\n    // quote has to be active & have upgrade vehicle option(s)\n    .filter(upgrade => upgrade.active && upgrade.upgradeVehicles.length);\n\n    if (this.debugging) {\n      console.log('quoteUpgrades', quoteUpgrades);\n      console.groupEnd();\n    }\n\n    if (!quoteUpgrades.length) {\n      // no upgrade recommendation available, just return the default\n      return noUpgradeAvailable(category.type);\n    } // check for available quote vehicle upgrades for the category\n\n\n    const cheapestUpgradeQuote = quoteUpgrades.reduce((upgrade, upgradeOption) => {\n      // reduce the quotes eligable vehicles to the cheapest upgrade vehicle option\n      // return the cheapest upgrade option\n      return upgrade.priceDifference < upgradeOption.priceDifference ? upgrade : upgradeOption;\n    }, {\n      quoteId: this.selectedQuoteId,\n      priceDifference: this.priceDifference\n    });\n\n    if (this.debugging) {\n      console.log('cheapestUpgradeQuote', cheapestUpgradeQuote);\n      console.log('cheapestUpgradeQuote.vehicleIndex', cheapestUpgradeQuote.vehicleIndex);\n    } // make sure there is an upgrade option to use & that it is not the same as the selected quote\n\n\n    return typeof cheapestUpgradeQuote.vehicleIndex === 'undefined' || cheapestUpgradeQuote.vehicleIndex < 0 || cheapestUpgradeQuote.quoteId === this.selectedQuoteId && cheapestUpgradeQuote.vehicleIndex === this.selectedVehicleIndex ? // no upgrade recommendation available, just return the default\n    noUpgradeAvailable(category.type) // return the recommended upgrade data\n    : {\n      categoryType: category.type,\n      exists: true,\n      tierUpgrade,\n      // pass a reference to the common props function\n      props: this._commonUpgradeProps,\n      data: {\n        key: cheapestUpgradeQuote.quoteId,\n        quoteId: cheapestUpgradeQuote.quoteId,\n        vehicleIndex: cheapestUpgradeQuote.vehicleIndex,\n        quote: this.quotes[cheapestUpgradeQuote.quoteId],\n        vehicle: this.quotes[cheapestUpgradeQuote.quoteId].vehicles[cheapestUpgradeQuote.vehicleIndex],\n        priceDifference: cheapestUpgradeQuote.priceDifference\n      }\n    };\n  }\n  /**\n   * Map the quotes to identify matching upgrade vehicles\n   * @param {string} quoteId the quote id being mapped for upgrade potential\n   * @param {string} categoryType the upgrade category for the vehicle type\n   * @param {string} tierUpgrade the upgrade tier for the vehicles to match\n   * @returns {Object}\n   */\n\n\n  _mapQuoteUpgradesForSelected(quoteId, categoryType, tierUpgrade) {\n    if (this.debugging) {\n      console.group(\"-- _mapQuoteUpgradesForSelected --\");\n      console.log('Potential upgrade quote ID', quoteId);\n      console.log('Upgrade category vehicle type', categoryType);\n      console.log('Upgrade tier', tierUpgrade);\n      console.log('Potential upgrade quote', this.quotes[quoteId]);\n    }\n\n    const quote = this.quotes[quoteId];\n    const active = quote.active;\n\n    if (!active) {\n      // don't bother checking if the quote isn't active, just return enough of an object \n      // structure to fail correctly\n      return {\n        quoteId,\n        active\n      };\n    } // get the vehicles for the quote\n\n\n    const vehicles = quote.vehicles; // filter the quote vehicles to matching the upgrade teir category type\n\n    const upgradeVehicles = vehicles.filter(vehicle => vehicle.type[categoryType] === tierUpgrade); // pick the first vehicle to be the default selected\n\n    const vehicleIndex = vehicles.indexOf(upgradeVehicles[0]); // calculate the price different between the selected quote & this upgrade quote option\n\n    const priceDifference = upgradeVehicles.length ? upgradeVehicles[0].price - this.selectedVehicle.price : this.priceDifference;\n\n    if (priceDifference < this.priceDifference && priceDifference > 0) {\n      // there is a price difference less than the current price different\n      // set the current price difference to the original quote price + the difference\n      // which should be the same as the upgrad vehicle quote price ;)\n      this.priceDifference = this.selectedVehicle.price + priceDifference;\n    }\n\n    if (this.debugging && upgradeVehicles.length) {\n      console.log('Only available upgrade vehicles', upgradeVehicles);\n    }\n\n    if (this.debugging) {\n      console.log('All vehicles', quote.vehicles);\n      console.log('Upgrade Quote Price', this.priceDifference);\n      console.log('Price difference between quotes', priceDifference);\n      console.groupEnd();\n    } // return enough data to determine the quote eligability for vehicle category type upgrade\n\n\n    return {\n      active,\n      categoryType,\n      tierUpgrade,\n      quoteId,\n      vehicleIndex,\n      priceDifference,\n      upgradeVehicles\n    };\n  }\n  /**\n   * Get the common upgrade recommendation props for the component for the \n   * selected quote vehicle & the upgrade option\n   * @return {Object} \n   */\n\n\n  _commonUpgradeProps() {\n    return {\n      selectedQuoteId: this.selectedQuoteId,\n      selectedVehicleIndex: this.selectedVehicleIndex,\n      upgradeQuoteId: this.upgradeRecommendation.data.quoteId,\n      upgradeVehicleIndex: this.upgradeRecommendation.data.vehicleIndex,\n      priceDifference: this.upgradeRecommendation.data.priceDifference,\n      selectedVehicle: {\n        VehicleClass: this.selectedVehicle.class,\n        VehicleType: this.selectedVehicle.type,\n        image: this.selectedVehicle.image,\n        name: this.selectedVehicle.name\n      },\n      upgradeVehicle: {\n        VehicleClass: this.upgradeRecommendation.data.vehicle.class,\n        VehicleType: this.upgradeRecommendation.data.vehicle.type,\n        image: this.upgradeRecommendation.data.vehicle.image,\n        name: this.upgradeRecommendation.data.vehicle.name\n      }\n    };\n  }\n\n}\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL0JJUS9RdW90ZXNSZWNvbW1lbmRlZFVwZ3JhZGVDYWxjdWxhdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9CSVEvUXVvdGVzUmVjb21tZW5kZWRVcGdyYWRlQ2FsY3VsYXRvci5qcz9hOThjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB0aGUgdmVoaWNsZSBzcGVjaWZpYyB1cGdyYWRlIHN0dWZmXG5pbXBvcnQgeyBcbiAgICBDTEFTU19VUEdSQURFX1RJRVJTLCBcbiAgICBUWVBFX1VQR1JBREVfVElFUlMsIFxuICAgIHVwZ3JhZGVDcml0ZXJpYSwgXG4gICAgdXBncmFkZU9wdGlvblByb3BzIFxufSBmcm9tICdAQklRL1ZlaGljbGVVcGdyYWRlJztcbiBcbi8qKlxuICogQ3JlYXRlIG5vIHVwZ3JhZGUgYXZhaWxhYmxlIG9iamVjdCBcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYXRlZ29yeVR5cGUgdGhlIHVwZ3JhZGUgY2F0ZWdvcnkgdGllciB0eXBlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgZGVmaW5pbmcgdGhlIHN0cnVjdHVyZSBmb3IgY29udGludWVkIHByb2Nlc3NpbmdcbiAqL1xuIGNvbnN0IG5vVXBncmFkZUF2YWlsYWJsZSA9IGNhdGVnb3J5VHlwZSA9PiB7XG4gICAgcmV0dXJuICh7XG4gICAgICAgIGNhdGVnb3J5VHlwZSxcbiAgICAgICAgZXhpc3RzIDogZmFsc2UsXG4gICAgICAgIHByb3BzIDogICgpID0+ICh7fSlcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbWFwcGVkIG9iamVjdCBvZiBhdmFpbGFibGUgdGllciB0eXBlIGNhdGVnb3J5IHVwZ3JhZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSB0aGUgdXBncmFkZSBjYXRlZ29yeSB0aWVyIHR5cGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBkZWZpbmluZyB0aGUgdGllciB0eXBlLCB0aGUgdXBncmFkZSBjcml0ZXJpYSBuZWVkZWQgJiBpZiBpdCBleGlzdHNcbiAqL1xuIGNvbnN0IG1hcEF2YWlsYWJsZUNhdGVnb3J5VXBncmFkZXMgPSB0eXBlID0+IHtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgLy8gdXNlIGEgY2FsbGJhY2sgdG8gZGVmZXIgdmFsdWUgdW50aWwgbmVlZGVkXG4gICAgICAgIHVwZ3JhZGVDcml0ZXJpYVxuICAgIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVvdGVzUmVjb21tZW5kZWRVcGdyYWRlQ2FsY3VsYXRvciB7XG4gICAgICAgICBcbiAgICAvKipcbiAgICAgKiBGb3JtIHRoZSBiYXNlIGZvciB0cmFuc2FjdGlvbiBwYXltZW50IGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZ2V0UXVvdGVzQ0IgQSBjYWxsYmFjayB0aGF0IHdpbGwgcHJvdmlkZSB0aGUgbGlzdCBvZiBxdW90ZXMgdG8gZ2V0IHJlY29tbWVuZGF0aW9ucyBmcm9tXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZ2V0Sm91cm5leUNCIEEgY2FsbGJhY2sgdGhhdCB3aWxsIHByb3ZpZGUgdGhlIHF1b3RlZCBqb3VybmV5IGRldGFpbHNcblx0ICogQHBhcmFtIHtCb29sZWFufSBkZWJ1Z2dpbmcgZmxhZyB0byBpbmRpY2F0ZSBpZiBkZWJ1Z2dpbmcgaXMgZW5hYmxlZFxuICAgICAqIEByZXR1cm5zIHtRdW90ZXNSZWNvbW1lbmRlZFVwZ3JhZGVDYWxjdWxhdG9yfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdldFF1b3Rlc0NCLCBnZXRKb3VybmV5Q0IsIGRlYnVnZ2luZykge1xuICAgICAgICAvLyBiZWNhdXNlIG9mIHNhZmFpIHdlIGNhbid0IGhhdmUgbmljZSB0aGluZ3MgJiBoYXZlIHRvIGJpbmQgdGhlc2UgYW55d2F5XG4gICAgICAgIHRoaXMuX3Jlc2V0UmVjb21tZW5kYXRpb24gPSB0aGlzLl9yZXNldFJlY29tbWVuZGF0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3NldENhdGVnb3JpZXMgPSB0aGlzLl9zZXRDYXRlZ29yaWVzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3VwZ3JhZGVUaWVyUmVjb21tZW5kYXRpb24gPSB0aGlzLl91cGdyYWRlVGllclJlY29tbWVuZGF0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3JlY29tbWVuZEZvclNlbGVjdGVkID0gdGhpcy5fcmVjb21tZW5kRm9yU2VsZWN0ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwQ2F0ZWdvcnlVcGdyYWRlc0ZvclNlbGVjdGVkID0gdGhpcy5fbWFwQ2F0ZWdvcnlVcGdyYWRlc0ZvclNlbGVjdGVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21hcFF1b3RlVXBncmFkZXNGb3JTZWxlY3RlZCA9IHRoaXMuX21hcFF1b3RlVXBncmFkZXNGb3JTZWxlY3RlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb21tb25VcGdyYWRlUHJvcHMgPSB0aGlzLl9jb21tb25VcGdyYWRlUHJvcHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tYWtlUmVjb21tZW5kYXRpb25Gb3IgPSB0aGlzLm1ha2VSZWNvbW1lbmRhdGlvbkZvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFJlY29tbWVuZGVkVXBncmFkZSA9IHRoaXMuc2V0UmVjb21tZW5kZWRVcGdyYWRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0UmVjb21tZW5kZWRVcGdyYWRlID0gdGhpcy5nZXRSZWNvbW1lbmRlZFVwZ3JhZGUuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gbWFwIHRoZSBjYWxsYmFjayB0byBnZXQgdGhlIHF1b3RlcyAmIGpvdXJuZXkgZGV0YWlscyB3aGVuIHRoZXkncmUgbmVlZGVkXG4gICAgICAgIHRoaXMuZ2V0UXVvdGVzID0gZ2V0UXVvdGVzQ0I7XG4gICAgICAgIHRoaXMuZ2V0Sm91cm5leSA9IGdldEpvdXJuZXlDQjtcbiAgICAgICAgLy8gc2V0IHRoZSBpbW11dGFibGUgcHJvcGVydGllc1xuICAgICAgICB0aGlzLmRlYnVnZ2luZyA9IGRlYnVnZ2luZztcbiAgICAgICAgLy8gc2V0IHRoZSBhdmFpbGFibGUgcXVvdGUgdmVoaWNsZSB1cGdyYWRlIHRpZXJzXG4gICAgICAgIHRoaXMudXBncmFkZVRpZXJzID0ge1xuICAgICAgICAgICAgY2xhc3MgOiBDTEFTU19VUEdSQURFX1RJRVJTLFxuICAgICAgICAgICAgdHlwZSA6IFRZUEVfVVBHUkFERV9USUVSU1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBxdW90ZXMgYXJlIGtleWVkIGJ5IHF1b3RlIElEXG4gICAgICAgIHRoaXMucXVvdGVzID0ge307XG4gICAgICAgIC8vIHNldCB0aGUgYXZhaWxhYmxlIGNhdGVnb3J5IHR5cGUgdGllciB1cGdyYWRlIGNhdGVnb3JpZXNcbiAgICAgICAgdGhpcy5fc2V0Q2F0ZWdvcmllcygpO1xuICAgICAgICAvLyByZXNldCAvIGluaXRpYWxpc2UgdGhlIHJlY29tbWVuZGF0aW9uIGRhdGFcbiAgICAgICAgdGhpcy5fcmVzZXRSZWNvbW1lbmRhdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXZhaWxhYmxlIGNhdGVnb3J5IHVwZ3JhZGUgdHlwZXMgZm9yIHRoZSB1cGdyYWRlIHRpZXJzXG4gICAgICovXG4gICAgIF9zZXRDYXRlZ29yaWVzKCkge1xuICAgICAgICAvLyBtYXAgdGhlIHZlaGljbGUgdXBncmFkZSBjYXRlZ29yaWVzIHdpdGggdGhlIGF2YWlsYWJsZSB1cGdyYWRlIGRlZmF1bHQgZGF0YSBzZXRcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDYXRlZ29yeVVwZ3JhZGVzID0gT2JqZWN0LmtleXModGhpcy51cGdyYWRlVGllcnMpLm1hcChtYXBBdmFpbGFibGVDYXRlZ29yeVVwZ3JhZGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcXVvdGUgdXBncmFkZSByZWNvbW1lbmRhdGlvblxuICAgICAqL1xuICAgIF9yZXNldFJlY29tbWVuZGF0aW9uKCkge1xuICAgICAgICAvLyBpZiBubyB1cGdyYWRlIHJlY29tZW5kYXRpb24gaXMgZm91bmQsIHRoZSBmb2xsb3dpbmcgaXMgdXNlZFxuICAgICAgICB0aGlzLnByaWNlRGlmZmVyZW5jZSA9IDk5OTk7XG4gICAgICAgIC8vIHJlc2V0IHRoZSByZWNvbW1lbmRhdGlvblxuICAgICAgICB0aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbiA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5VHlwZSA6IG51bGwsXG4gICAgICAgICAgICBleGlzdHMgOiBmYWxzZSxcbiAgICAgICAgICAgIHRpZXJVcGdyYWRlIDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAga2V5IDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdW90ZUlkIDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdW90ZSA6IHt9LFxuICAgICAgICAgICAgICAgIHZlaGljbGVJbmRleCA6IG51bGwsXG4gICAgICAgICAgICAgICAgdmVoaWNsZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJpY2UgOiB0aGlzLnByaWNlRGlmZmVyZW5jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHJpY2VEaWZmZXJlbmNlIDogdGhpcy5wcmljZURpZmZlcmVuY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVjb21tZW5kZWQgdXBncmFkZSBxdW90ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1cGdyYWRlT3B0aW9uIHRoZSB1cGdyYWRlIHJlY29tbWVuZGF0aW9uIG9wdGlvblxuICAgICAqL1xuICAgIHNldFJlY29tbWVuZGVkVXBncmFkZSh1cGdyYWRlT3B0aW9uKSB7XG4gICAgICAgIHRoaXMucmVjb21tZW5kZWRVcGdyYWRlID0ge1xuICAgICAgICAgICAgLi4udXBncmFkZU9wdGlvbixcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBjb21tb24gcHJvcHMgbWV0aG9kIHdpdGggdGhlIHNwZWNpZmMgcHJvcHMgaWYgdGhlIHVwZ3JhZGUgZXhpc3RzXG4gICAgICAgICAgICBwcm9wcyA6ICh1cGdyYWRlT3B0aW9uLmV4aXN0cykgXG4gICAgICAgICAgICAgICAgPyB1cGdyYWRlT3B0aW9uUHJvcHModXBncmFkZU9wdGlvbilcbiAgICAgICAgICAgICAgICA6ICgpID0+ICh7fSksXG4gICAgICAgICAgICBzZWxlY3RlZFF1b3RlSWQgOiB0aGlzLnNlbGVjdGVkUXVvdGVJZCxcbiAgICAgICAgICAgIHNlbGVjdGVkUXVvdGUgOiB0aGlzLnNlbGVjdGVkUXVvdGUsXG4gICAgICAgICAgICBzZWxlY3RlZFZlaGljbGVJbmRleCA6IHRoaXMuc2VsZWN0ZWRWZWhpY2xlSW5kZXgsXG4gICAgICAgICAgICBzZWxlY3RlZFZlaGljbGUgOiB0aGlzLnNlbGVjdGVkVmVoaWNsZVxuICAgICAgICB9O1xuICAgICAgICBpZih0aGlzLmRlYnVnZ2luZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY29tbWVuZGVkIFVwZ3JhZGUgU2V0JywgdGhpcy5yZWNvbW1lbmRlZFVwZ3JhZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZWNvbW1lbmRlZCBxdW90ZSB1cGdyYWRlXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXRSZWNvbW1lbmRlZFVwZ3JhZGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLnJlY29tbWVuZGVkVXBncmFkZVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBhIHF1b3RlIHVwZ3JhZGUgcmVjb21tZW5kYXRpb24gZm9yIHRoZSBzcGVjaWZpZWQgcXVvdGUgaWYgdGhlcmUgaXMgb25lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHF1b3RlIHRoZSBxdW90ZSB0byByZWNvbW1lbmQgYW4gdXBncmFkZSBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVoaWNsZSB0aGUgdGhlIHNlbGVjdGVkIHZlaGljbGUgaW5kZXggZm9yIHRoZSBzZWxlY3RlZCBxdW90ZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgbWFrZVJlY29tbWVuZGF0aW9uRm9yKHF1b3RlLCB2ZWhpY2xlKSB7XG4gICAgICAgIC8vIHJlc2V0IC8gaW5pdGlhbGlzZSB0aGUgcmVjb21tZW5kYXRpb24gZGF0YVxuICAgICAgICB0aGlzLl9yZXNldFJlY29tbWVuZGF0aW9uKCk7XG4gICAgICAgIC8vIGNoZWNrIHRoZSBxdW90ZSBleGlzdHMgJiB0aGUgdmVoaWNsZVxuICAgICAgICB0aGlzLnNlbGVjdGVkUXVvdGUgPSBxdW90ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZlaGljbGUgPSBxdW90ZS52ZWhpY2xlc1t2ZWhpY2xlXTtcbiAgICAgICAgLy8gc2V0IHRoZSBzZWxlY3RlZCBxdW90ZSAmIHZlaGljbGUgbm93IHRoZSBjaGVja3MgaGF2ZSBwYXNzZWRcbiAgICAgICAgdGhpcy5zZWxlY3RlZFF1b3RlSWQgPSBxdW90ZS5xdW90ZV9pZDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZlaGljbGVJbmRleCA9IHZlaGljbGU7XG4gICAgICAgIGlmKHRoaXMuZGVidWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwKCctLSBNYWtpbmcgdXBncmFkZSByZWNvbW1lbmRhdGlvbiBmb3Igc2VsZWN0ZWQgcXVvdGUgLS0nKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhdmFpbGFibGVDYXRlZ29yeVVwZ3JhZGVzJywgdGhpcy5hdmFpbGFibGVDYXRlZ29yeVVwZ3JhZGVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZFF1b3RlSWQnLCB0aGlzLnNlbGVjdGVkUXVvdGVJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWRWZWhpY2xlSW5kZXgnLCB0aGlzLnNlbGVjdGVkVmVoaWNsZUluZGV4KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZFF1b3RlJywgdGhpcy5zZWxlY3RlZFF1b3RlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZFZlaGljbGUnLCB0aGlzLnNlbGVjdGVkVmVoaWNsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJpY2VEaWZmZXJlbmNlJywgdGhpcy5wcmljZURpZmZlcmVuY2UpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwZ3JhZGVSZWNvbW1lbmRhdGlvbicsIHsuLi50aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbn0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0UmVjb21tZW5kZWRVcGdyYWRlKHRoaXMuX3JlY29tbWVuZEZvclNlbGVjdGVkKCkpO1xuICAgICAgICBpZih0aGlzLmRlYnVnZ2luZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3ByaWNlRGlmZmVyZW5jZScsIHRoaXMucHJpY2VEaWZmZXJlbmNlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGdyYWRlUmVjb21tZW5kYXRpb24nLCB7Li4udGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb259KTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgdGhlIHVwZ3JhZGUgcmVjb21tZW5kYXRpb25zIGZvciB0aGUgc2VsZWN0ZWQgcXVvdGUgJiB2ZWhpY2xlXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBfcmVjb21tZW5kRm9yU2VsZWN0ZWQoKSB7XG4gICAgICAgIC8vIGdldCB0aGUgbGlzdCBvZiBxdW90ZXMgdG8gZ2V0IGEgcmVjb21tZW5kZWQgdXBncmFkZSBmcm9tIGluc2lkZSB0aGUgdXBncmFkZSBtYXBwaW5nXG4gICAgICAgIHRoaXMucXVvdGVzID0gdGhpcy5nZXRRdW90ZXMoKTtcbiAgICAgICAgY29uc3QgdXBncmFkZU9wdGlvbnMgPSB0aGlzLmF2YWlsYWJsZUNhdGVnb3J5VXBncmFkZXNcbiAgICAgICAgICAgIC5tYXAodGhpcy5fbWFwQ2F0ZWdvcnlVcGdyYWRlc0ZvclNlbGVjdGVkKVxuICAgICAgICAgICAgLy8gd2Ugb25seSB3YW50IHRoZSB1cGdyYWRlcyB0aGF0IGV4aXN0XG4gICAgICAgICAgICAuZmlsdGVyKCh1cGdyYWRlKSA9PiB1cGdyYWRlLmV4aXN0cyk7XG4gICAgICAgIGlmKHRoaXMuZGVidWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBncmFkZU9wdGlvbnMnLCB1cGdyYWRlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xlYXIgb3V0IHRoZSBxdW90ZXMsIGRvbid0IG5lZWQgdG8ga2VlcCB0aGVtIGFueW1vcmVcbiAgICAgICAgdGhpcy5xdW90ZXMgPSB7fTtcbiAgICAgICAgaWYodXBncmFkZU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHNldCB0aGUgcmVjb21tZW5kZWQgdmVoaWNsZSB1cGdyYWRlIG9wdGlvbiBmb3IgdGhlIHNlbGVjdGVkIHF1b3RlXG4gICAgICAgICAgICB0aGlzLnByaWNlRGlmZmVyZW5jZSA9IHVwZ3JhZGVPcHRpb25zWzBdLmRhdGEucHJpY2VEaWZmZXJlbmNlO1xuICAgICAgICAgICAgdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24gPSB1cGdyYWRlT3B0aW9uc1swXTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gdGhlIHJlY29tbWVuZGF0aW9uIGZvciB0aGUgc2VsZWN0ZWQgcXVvdGUgJiBjb21tb24gcHJvcHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVwZ3JhZGVRdW90ZUlkIDogdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24uZGF0YS5xdW90ZUlkLFxuICAgICAgICAgICAgdXBncmFkZVF1b3RlIDogdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24uZGF0YS5xdW90ZSxcbiAgICAgICAgICAgIHVwZ3JhZGVWZWhpY2xlSW5kZXggOiB0aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbi5kYXRhLnZlaGljbGVJbmRleCxcbiAgICAgICAgICAgIHVwZ3JhZGVWZWhpY2xlIDogdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24uZGF0YS52ZWhpY2xlLFxuICAgICAgICAgICAgcHJpY2VEaWZmZXJlbmNlIDogdGhpcy5wcmljZURpZmZlcmVuY2UsXG4gICAgICAgICAgICAuLi50aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyB0aWVyIGNhdGVnb3J5IGlzIGVsaWdpYmxlIGZvciBhbiB1cGdyYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhdGVnb3J5IFRoZSBtYXBwZWQgY2F0ZWdvcnkgdXBncmFkZSBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4dHJhQ29uZGl0aW9ucyBBbnkgZXh0cmEgY29uZGl0aW9ucyB0aGUgY2F0ZWdvcnkgbWlnaHQgbmVlZCB0byBkZXRlcm1pbmUgaWYgdXBncmFkZSBpcyBhdmFpbGFibGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICogQHRocm93cyBlcnJvciBvbiB1cGdyYWRlIHRpZXIgbm90IGJlaW5nIHNldCBmb3IgdGhlIGNhdGVnb3J5IHR5cGVcbiAgICAgKiBAdGhyb3dzIGVycm9yIGlmIHRoZSBjYXRlZ29yeSB0eXBlIGhhcyBubyB1cGdyYWRlIGNyaXRlcmlhIGRlZmluZWRcbiAgICAgKi9cbiAgICBfdXBncmFkZVRpZXJSZWNvbW1lbmRhdGlvbihjYXRlZ29yeSwgZXh0cmFDb25kaXRpb25zKSB7XG4gICAgICAgIC8vIGNoZWNrIHRoZSB0aWVyIGNhdGVnb3J5IGV4aXN0cyBmaXJzdFxuICAgICAgICBpZighdGhpcy51cGdyYWRlVGllcnMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnkudHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvckV2ZW50KCdXQVJOSU5HJywge1xuICAgICAgICAgICAgICAgIGVycm9yIDogbmV3IEVycm9yKCdCSVEgUmVjb21tZW5kZWQgUXVvdGUgVXBncmFkZSBUaWVyIEVycm9yJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA6IGBObyB0aWVyIGZvdW5kIHdpdGggY2F0ZWdvcnkgdmFsdWUgb2YgJHtjYXRlZ29yeS50eXBlfS5gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIHVwZ3JhZGUgdGllciB0eXBlIGNhdGVnb3J5IG9wdGlvbiBmb3IgdGhlIHZlaGljbGUgY2F0ZWdvcnkgdHlwZSBpZiBpdCBleGlzdHNcbiAgICAgICAgY29uc3QgdGllcnNJbmRleCA9IHRoaXMudXBncmFkZVRpZXJzW2NhdGVnb3J5LnR5cGVdLmluZGV4T2YodGhpcy5zZWxlY3RlZFZlaGljbGUudHlwZVtjYXRlZ29yeS50eXBlXSk7XG4gICAgICAgIC8vIGdldCB0aGUgY2F0ZWdvcnkgdHlwZSB1cGdyYWRlIGNvbmRpdGlvbiBmb3IgdGhlIHF1b3RlXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBjYXRlZ29yeS51cGdyYWRlQ3JpdGVyaWEoY2F0ZWdvcnkudHlwZSwgdGhpcy5nZXRKb3VybmV5KCksIHRoaXMuc2VsZWN0ZWRWZWhpY2xlKTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBvdXRjb21lXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXJyZW50VGllciA6IHRpZXJzSW5kZXgsXG4gICAgICAgICAgICBuZXh0VGllciA6IHRpZXJzSW5kZXggKyAxLFxuICAgICAgICAgICAgYXZhaWxhYmxlIDogdGllcnNJbmRleCA8ICh0aGlzLnVwZ3JhZGVUaWVyc1tjYXRlZ29yeS50eXBlXS5sZW5ndGggLSAxKSAmJiBjb25kaXRpb25zICYmIGV4dHJhQ29uZGl0aW9uc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBNYXAgdXBncmFkZSByZWNvbW1lbmRhdGlvbiBmb3IgYW4gdXBncmFkZSBjYXRlZ29yeVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYXRlZ29yeSB0aGUgdXBncmFkZSBjYXRlZ29yeSB0byBtYXAgZGF0YSBmb3JcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIF9tYXBDYXRlZ29yeVVwZ3JhZGVzRm9yU2VsZWN0ZWQoY2F0ZWdvcnkpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGNhdGVnb3J5IGhhcyBhIHRpZXIgdXBncmFkZSBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgdXBncmFkZVRpZXJSZWNvbW1lbmRhdGlvbiA9IHRoaXMuX3VwZ3JhZGVUaWVyUmVjb21tZW5kYXRpb24oY2F0ZWdvcnksIHRydWUpO1xuICAgICAgICBpZighdXBncmFkZVRpZXJSZWNvbW1lbmRhdGlvbi5hdmFpbGFibGUpIHtcbiAgICAgICAgLy8gbm8gdXBncmFkZSByZWNvbW1lbmRhdGlvbiBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICByZXR1cm4gbm9VcGdyYWRlQXZhaWxhYmxlKGNhdGVnb3J5LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdldCB0aGUgbmV4dCB0aWVyIGFzIHRoZSB1cGdyYWRlIGNhdGVnb3J5IHR5cGUgb3B0aW9uXG4gICAgICAgIGNvbnN0IG5leHRUaWVySW5kZXggPSBwYXJzZUludCh1cGdyYWRlVGllclJlY29tbWVuZGF0aW9uLm5leHRUaWVyLCAxMCk7XG4gICAgICAgIGNvbnN0IHRpZXJVcGdyYWRlID0gdGhpcy51cGdyYWRlVGllcnNbY2F0ZWdvcnkudHlwZV1bbmV4dFRpZXJJbmRleF07XG4gICAgICAgIGlmKHRoaXMuZGVidWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBncmFkZVRpZXJSZWNvbW1lbmRhdGlvbicsIHVwZ3JhZGVUaWVyUmVjb21tZW5kYXRpb24pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RpZXJVcGdyYWRlJywgdGllclVwZ3JhZGUpO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cCgnLS0gcXVvdGUgdXBncmFkZSBtYXAgLS0nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYXAgdGhlIHF1b3RlcyBmb3IgYWN0aXZlICYgbWF0Y2hpbmcgdXBncmFkZSB2ZWhpY2xlc1xuICAgICAgICBjb25zdCBxdW90ZVVwZ3JhZGVzID0gT2JqZWN0LmtleXModGhpcy5xdW90ZXMpXG4gICAgICAgICAgICAubWFwKChxdW90ZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcFF1b3RlVXBncmFkZXNGb3JTZWxlY3RlZChxdW90ZUlkLCBjYXRlZ29yeS50eXBlLCB0aWVyVXBncmFkZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCB0aGUgaW5hY3RpdmUgcXVvdGVzICYgdGhlIG9uZXMgd2l0aCBubyBtYXRjaGluZyB2ZWhpY2xlc1xuICAgICAgICAgICAgLy8gcXVvdGUgaGFzIHRvIGJlIGFjdGl2ZSAmIGhhdmUgdXBncmFkZSB2ZWhpY2xlIG9wdGlvbihzKVxuICAgICAgICAgICAgLmZpbHRlcigodXBncmFkZSkgPT4gKHVwZ3JhZGUuYWN0aXZlICYmIHVwZ3JhZGUudXBncmFkZVZlaGljbGVzLmxlbmd0aCkpO1xuICAgICAgICBpZih0aGlzLmRlYnVnZ2luZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3F1b3RlVXBncmFkZXMnLCBxdW90ZVVwZ3JhZGVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZighcXVvdGVVcGdyYWRlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gbm8gdXBncmFkZSByZWNvbW1lbmRhdGlvbiBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICByZXR1cm4gbm9VcGdyYWRlQXZhaWxhYmxlKGNhdGVnb3J5LnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGZvciBhdmFpbGFibGUgcXVvdGUgdmVoaWNsZSB1cGdyYWRlcyBmb3IgdGhlIGNhdGVnb3J5XG4gICAgICAgIGNvbnN0IGNoZWFwZXN0VXBncmFkZVF1b3RlID0gcXVvdGVVcGdyYWRlcy5yZWR1Y2UoKHVwZ3JhZGUsIHVwZ3JhZGVPcHRpb24pID0+IHtcbiAgICAgICAgICAgIC8vIHJlZHVjZSB0aGUgcXVvdGVzIGVsaWdhYmxlIHZlaGljbGVzIHRvIHRoZSBjaGVhcGVzdCB1cGdyYWRlIHZlaGljbGUgb3B0aW9uXG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGNoZWFwZXN0IHVwZ3JhZGUgb3B0aW9uXG4gICAgICAgICAgICByZXR1cm4gKHVwZ3JhZGUucHJpY2VEaWZmZXJlbmNlIDwgdXBncmFkZU9wdGlvbi5wcmljZURpZmZlcmVuY2UpID8gdXBncmFkZSA6IHVwZ3JhZGVPcHRpb247XG4gICAgICAgIH0sIHsgcXVvdGVJZCA6IHRoaXMuc2VsZWN0ZWRRdW90ZUlkLCBwcmljZURpZmZlcmVuY2UgOiB0aGlzLnByaWNlRGlmZmVyZW5jZSB9KTtcbiAgICAgICAgaWYodGhpcy5kZWJ1Z2dpbmcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVhcGVzdFVwZ3JhZGVRdW90ZScsIGNoZWFwZXN0VXBncmFkZVF1b3RlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVhcGVzdFVwZ3JhZGVRdW90ZS52ZWhpY2xlSW5kZXgnLCBjaGVhcGVzdFVwZ3JhZGVRdW90ZS52ZWhpY2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBhbiB1cGdyYWRlIG9wdGlvbiB0byB1c2UgJiB0aGF0IGl0IGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgc2VsZWN0ZWQgcXVvdGVcbiAgICAgICAgcmV0dXJuICgodHlwZW9mKGNoZWFwZXN0VXBncmFkZVF1b3RlLnZlaGljbGVJbmRleCkgPT09ICd1bmRlZmluZWQnIHx8IGNoZWFwZXN0VXBncmFkZVF1b3RlLnZlaGljbGVJbmRleCA8IDApIFxuICAgICAgICAgICAgICAgIHx8IChjaGVhcGVzdFVwZ3JhZGVRdW90ZS5xdW90ZUlkID09PSB0aGlzLnNlbGVjdGVkUXVvdGVJZCAmJiBjaGVhcGVzdFVwZ3JhZGVRdW90ZS52ZWhpY2xlSW5kZXggPT09IHRoaXMuc2VsZWN0ZWRWZWhpY2xlSW5kZXgpXG4gICAgICAgICAgICAgICAgKSBcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gdXBncmFkZSByZWNvbW1lbmRhdGlvbiBhdmFpbGFibGUsIGp1c3QgcmV0dXJuIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgID8gbm9VcGdyYWRlQXZhaWxhYmxlKGNhdGVnb3J5LnR5cGUpIFxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlY29tbWVuZGVkIHVwZ3JhZGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5VHlwZSA6IGNhdGVnb3J5LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdHMgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGllclVwZ3JhZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGEgcmVmZXJlbmNlIHRvIHRoZSBjb21tb24gcHJvcHMgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzIDogdGhpcy5fY29tbW9uVXBncmFkZVByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgOiBjaGVhcGVzdFVwZ3JhZGVRdW90ZS5xdW90ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlSWQgOiBjaGVhcGVzdFVwZ3JhZGVRdW90ZS5xdW90ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVJbmRleCA6IGNoZWFwZXN0VXBncmFkZVF1b3RlLnZlaGljbGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdW90ZSA6IHRoaXMucXVvdGVzW2NoZWFwZXN0VXBncmFkZVF1b3RlLnF1b3RlSWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGUgOiB0aGlzLnF1b3Rlc1tjaGVhcGVzdFVwZ3JhZGVRdW90ZS5xdW90ZUlkXS52ZWhpY2xlc1tjaGVhcGVzdFVwZ3JhZGVRdW90ZS52ZWhpY2xlSW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlRGlmZmVyZW5jZSA6IGNoZWFwZXN0VXBncmFkZVF1b3RlLnByaWNlRGlmZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBNYXAgdGhlIHF1b3RlcyB0byBpZGVudGlmeSBtYXRjaGluZyB1cGdyYWRlIHZlaGljbGVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1b3RlSWQgdGhlIHF1b3RlIGlkIGJlaW5nIG1hcHBlZCBmb3IgdXBncmFkZSBwb3RlbnRpYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2F0ZWdvcnlUeXBlIHRoZSB1cGdyYWRlIGNhdGVnb3J5IGZvciB0aGUgdmVoaWNsZSB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRpZXJVcGdyYWRlIHRoZSB1cGdyYWRlIHRpZXIgZm9yIHRoZSB2ZWhpY2xlcyB0byBtYXRjaFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgX21hcFF1b3RlVXBncmFkZXNGb3JTZWxlY3RlZChxdW90ZUlkLCBjYXRlZ29yeVR5cGUsIHRpZXJVcGdyYWRlKSB7XG4gICAgICAgIGlmKHRoaXMuZGVidWdnaW5nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwKFwiLS0gX21hcFF1b3RlVXBncmFkZXNGb3JTZWxlY3RlZCAtLVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3RlbnRpYWwgdXBncmFkZSBxdW90ZSBJRCcsIHF1b3RlSWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VwZ3JhZGUgY2F0ZWdvcnkgdmVoaWNsZSB0eXBlJywgY2F0ZWdvcnlUeXBlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGdyYWRlIHRpZXInLCB0aWVyVXBncmFkZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUG90ZW50aWFsIHVwZ3JhZGUgcXVvdGUnLCB0aGlzLnF1b3Rlc1txdW90ZUlkXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVvdGUgPSB0aGlzLnF1b3Rlc1txdW90ZUlkXTtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gcXVvdGUuYWN0aXZlO1xuICAgICAgICBpZighYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBib3RoZXIgY2hlY2tpbmcgaWYgdGhlIHF1b3RlIGlzbid0IGFjdGl2ZSwganVzdCByZXR1cm4gZW5vdWdoIG9mIGFuIG9iamVjdCBcbiAgICAgICAgICAgIC8vIHN0cnVjdHVyZSB0byBmYWlsIGNvcnJlY3RseVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBxdW90ZUlkLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgdGhlIHZlaGljbGVzIGZvciB0aGUgcXVvdGVcbiAgICAgICAgY29uc3QgdmVoaWNsZXMgPSBxdW90ZS52ZWhpY2xlcztcbiAgICAgICAgLy8gZmlsdGVyIHRoZSBxdW90ZSB2ZWhpY2xlcyB0byBtYXRjaGluZyB0aGUgdXBncmFkZSB0ZWlyIGNhdGVnb3J5IHR5cGVcbiAgICAgICAgY29uc3QgdXBncmFkZVZlaGljbGVzID0gdmVoaWNsZXMuZmlsdGVyKCh2ZWhpY2xlKSA9PiB2ZWhpY2xlLnR5cGVbY2F0ZWdvcnlUeXBlXSA9PT0gdGllclVwZ3JhZGUpO1xuICAgICAgICAvLyBwaWNrIHRoZSBmaXJzdCB2ZWhpY2xlIHRvIGJlIHRoZSBkZWZhdWx0IHNlbGVjdGVkXG4gICAgICAgIGNvbnN0IHZlaGljbGVJbmRleCA9IHZlaGljbGVzLmluZGV4T2YodXBncmFkZVZlaGljbGVzWzBdKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBwcmljZSBkaWZmZXJlbnQgYmV0d2VlbiB0aGUgc2VsZWN0ZWQgcXVvdGUgJiB0aGlzIHVwZ3JhZGUgcXVvdGUgb3B0aW9uXG4gICAgICAgIGNvbnN0IHByaWNlRGlmZmVyZW5jZSA9ICh1cGdyYWRlVmVoaWNsZXMubGVuZ3RoKSA/IHVwZ3JhZGVWZWhpY2xlc1swXS5wcmljZSAtIHRoaXMuc2VsZWN0ZWRWZWhpY2xlLnByaWNlIDogdGhpcy5wcmljZURpZmZlcmVuY2U7XG4gICAgICAgIGlmKHByaWNlRGlmZmVyZW5jZSA8IHRoaXMucHJpY2VEaWZmZXJlbmNlICYmIHByaWNlRGlmZmVyZW5jZSA+IDApIHtcbiAgICAgICAgLy8gdGhlcmUgaXMgYSBwcmljZSBkaWZmZXJlbmNlIGxlc3MgdGhhbiB0aGUgY3VycmVudCBwcmljZSBkaWZmZXJlbnRcbiAgICAgICAgICAgIC8vIHNldCB0aGUgY3VycmVudCBwcmljZSBkaWZmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBxdW90ZSBwcmljZSArIHRoZSBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB3aGljaCBzaG91bGQgYmUgdGhlIHNhbWUgYXMgdGhlIHVwZ3JhZCB2ZWhpY2xlIHF1b3RlIHByaWNlIDspXG4gICAgICAgICAgICB0aGlzLnByaWNlRGlmZmVyZW5jZSA9IHRoaXMuc2VsZWN0ZWRWZWhpY2xlLnByaWNlICsgcHJpY2VEaWZmZXJlbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZGVidWdnaW5nICYmIHVwZ3JhZGVWZWhpY2xlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPbmx5IGF2YWlsYWJsZSB1cGdyYWRlIHZlaGljbGVzJywgdXBncmFkZVZlaGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRlYnVnZ2luZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FsbCB2ZWhpY2xlcycsIHF1b3RlLnZlaGljbGVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGdyYWRlIFF1b3RlIFByaWNlJywgdGhpcy5wcmljZURpZmZlcmVuY2UpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ByaWNlIGRpZmZlcmVuY2UgYmV0d2VlbiBxdW90ZXMnLCBwcmljZURpZmZlcmVuY2UpO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBlbm91Z2ggZGF0YSB0byBkZXRlcm1pbmUgdGhlIHF1b3RlIGVsaWdhYmlsaXR5IGZvciB2ZWhpY2xlIGNhdGVnb3J5IHR5cGUgdXBncmFkZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aXZlLFxuICAgICAgICAgICAgY2F0ZWdvcnlUeXBlLFxuICAgICAgICAgICAgdGllclVwZ3JhZGUsXG4gICAgICAgICAgICBxdW90ZUlkLFxuICAgICAgICAgICAgdmVoaWNsZUluZGV4LFxuICAgICAgICAgICAgcHJpY2VEaWZmZXJlbmNlLFxuICAgICAgICAgICAgdXBncmFkZVZlaGljbGVzXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29tbW9uIHVwZ3JhZGUgcmVjb21tZW5kYXRpb24gcHJvcHMgZm9yIHRoZSBjb21wb25lbnQgZm9yIHRoZSBcbiAgICAgKiBzZWxlY3RlZCBxdW90ZSB2ZWhpY2xlICYgdGhlIHVwZ3JhZGUgb3B0aW9uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBcbiAgICAgKi9cbiAgICBfY29tbW9uVXBncmFkZVByb3BzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRRdW90ZUlkIDogdGhpcy5zZWxlY3RlZFF1b3RlSWQsXG4gICAgICAgICAgICBzZWxlY3RlZFZlaGljbGVJbmRleCA6IHRoaXMuc2VsZWN0ZWRWZWhpY2xlSW5kZXgsXG4gICAgICAgICAgICB1cGdyYWRlUXVvdGVJZCA6IHRoaXMudXBncmFkZVJlY29tbWVuZGF0aW9uLmRhdGEucXVvdGVJZCxcbiAgICAgICAgICAgIHVwZ3JhZGVWZWhpY2xlSW5kZXggOiB0aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbi5kYXRhLnZlaGljbGVJbmRleCxcbiAgICAgICAgICAgIHByaWNlRGlmZmVyZW5jZSA6IHRoaXMudXBncmFkZVJlY29tbWVuZGF0aW9uLmRhdGEucHJpY2VEaWZmZXJlbmNlLFxuICAgICAgICAgICAgc2VsZWN0ZWRWZWhpY2xlIDoge1xuICAgICAgICAgICAgICAgIFZlaGljbGVDbGFzcyA6IHRoaXMuc2VsZWN0ZWRWZWhpY2xlLmNsYXNzLFxuICAgICAgICAgICAgICAgIFZlaGljbGVUeXBlIDogdGhpcy5zZWxlY3RlZFZlaGljbGUudHlwZSxcbiAgICAgICAgICAgICAgICBpbWFnZSA6IHRoaXMuc2VsZWN0ZWRWZWhpY2xlLmltYWdlLFxuICAgICAgICAgICAgICAgIG5hbWUgOiB0aGlzLnNlbGVjdGVkVmVoaWNsZS5uYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBncmFkZVZlaGljbGUgOiB7XG4gICAgICAgICAgICAgICAgVmVoaWNsZUNsYXNzIDogdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24uZGF0YS52ZWhpY2xlLmNsYXNzLFxuICAgICAgICAgICAgICAgIFZlaGljbGVUeXBlIDogdGhpcy51cGdyYWRlUmVjb21tZW5kYXRpb24uZGF0YS52ZWhpY2xlLnR5cGUsXG4gICAgICAgICAgICAgICAgaW1hZ2UgOiB0aGlzLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbi5kYXRhLnZlaGljbGUuaW1hZ2UsXG4gICAgICAgICAgICAgICAgbmFtZSA6IHRoaXMudXBncmFkZVJlY29tbWVuZGF0aW9uLmRhdGEudmVoaWNsZS5uYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU9BOzs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUVBOzs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFSQTtBQUpBO0FBZUE7QUFFQTs7Ozs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUVBOzs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUVBOzs7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUVBOzs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBTEE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQU5BO0FBZUE7QUFFQTs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUVBOzs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFaQTtBQW1CQTtBQUNBO0FBL1ZBO0FBK1ZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/BIQ/QuotesRecommendedUpgradeCalculator.js\n");

/***/ }),

/***/ "./src/common/BIQ/VehicleUpgrade.js":
/*!******************************************!*\
  !*** ./src/common/BIQ/VehicleUpgrade.js ***!
  \******************************************/
/*! exports provided: MAX_CAR_PASSENGERS, CLASS_UPGRADE_TIERS, TYPE_UPGRADE_TIERS, emptyVehicleProps, emptyUpgradeProps, upgradeCriteria, upgradeOptionProps, typeUpgradeProps, classUpgradeProps, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_CAR_PASSENGERS\", function() { return MAX_CAR_PASSENGERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CLASS_UPGRADE_TIERS\", function() { return CLASS_UPGRADE_TIERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPE_UPGRADE_TIERS\", function() { return TYPE_UPGRADE_TIERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyVehicleProps\", function() { return emptyVehicleProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyUpgradeProps\", function() { return emptyUpgradeProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"upgradeCriteria\", function() { return upgradeCriteria; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"upgradeOptionProps\", function() { return upgradeOptionProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typeUpgradeProps\", function() { return typeUpgradeProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"classUpgradeProps\", function() { return classUpgradeProps; });\n/**\n * The max passengers for a single standard car\n * @type Number\n */\nconst MAX_CAR_PASSENGERS = 4;\n/**\n * The available quote vehicle class upgrade tier options\n * @type Array\n */\n\nconst CLASS_UPGRADE_TIERS = ['standard', 'executive', 'vip', 'chauffeur'];\n/**\n * The available quote vehicle type upgrade tier options\n * @type Array\n */\n\nconst TYPE_UPGRADE_TIERS = ['minicab', 'mpv', 'minibus', 'coach']; // define the object structure for quote vehicle\n\nconst emptyVehicleProps = {\n  VehicleClass: null,\n  VehicleType: null,\n  image: null,\n  name: null\n}; // define the object structure returned by the recommended upgrade.props()\n\nconst emptyUpgradeProps = {\n  selectedQuoteId: null,\n  selectedVehicleIndex: null,\n  upgradeQuoteId: null,\n  upgradeVehicleIndex: null,\n  priceDifference: 9999,\n  selectedVehicle: emptyVehicleProps,\n  upgradeVehicle: emptyVehicleProps,\n  title: 'No Upgrade',\n  description: 'No Upgrade',\n  gaEventData: {\n    category: 'Quotes',\n    action: 'Quote Upgrade'\n  },\n  bulletPoints: []\n};\n/**\n * Determine the upgrade criteria for a category type\n * @param {string} tierType the upgrade category tier type\n * @param {Object} journey the quoted journey details\n * @param {Object} selectedVehicle the selected vehicle to check upgrade posibilities of\n * @returns {Boolean} TRUE If the category type requirment criteria is met\n * @throws error if the category type has no upgrade criteria defined\n */\n\nconst upgradeCriteria = (tierType, journey, selectedVehicle) => {\n  switch (tierType) {\n    case 'class':\n      return journey.people <= MAX_CAR_PASSENGERS;\n\n    case 'type':\n      return journey.people <= MAX_CAR_PASSENGERS && journey.people === selectedVehicle.passengers;\n\n    default:\n      throw `Unknown category upgrade type [${tierType}]!\"`;\n  }\n};\n/**\n * Get the upgrade props for the recommended quote upgrade\n * @param {Object} upgradeRecommendation the upgrade recommendation for the selected quote\n * @return {Object} \n */\n\nconst upgradeOptionProps = upgradeRecommendation => {\n  // get the recommended upgrade props\n  let props = upgradeRecommendation.props; // add the additional upgrade option props specific to the category type tier upgrade recommended\n\n  switch (upgradeRecommendation.categoryType) {\n    case 'class':\n      props = () => classUpgradeProps(upgradeRecommendation);\n\n      break;\n\n    case 'type':\n      props = () => typeUpgradeProps(upgradeRecommendation);\n\n      break;\n  }\n\n  return props;\n};\n/**\n * Get the upgrade props for the compnonet for a vehicle type upgrade recommendation\n * @param {Object} upgradeRecommendation the upgrade recommendation for the selected quote\n * @return {Object} \n */\n\nconst typeUpgradeProps = upgradeRecommendation => {\n  return { ...upgradeRecommendation.props(),\n    title: 'It looks a little tight!',\n    description: 'We recommend you upgrade to a bigger vehicle, you might be a bit squashed.',\n    gaEventData: {\n      category: 'Quotes',\n      action: `upgrade type to ${upgradeRecommendation.data.vehicle.type}`\n    },\n    bulletPoints: ['More space for passengers', 'More storage space for your luggage', 'Peace of mind, everything will fit!']\n  };\n};\n/**\n * Get the upgrade props for the compnonet for a vehicle class upgrade recommendation\n * @param {Object} upgradeRecommendation the upgrade recommendation for the selected quote\n * @return {Object} \n */\n\nconst classUpgradeProps = upgradeRecommendation => {\n  const capitalizeFirstLetter = string => string.charAt(0).toUpperCase() + string.slice(1);\n\n  let vehicleClass = upgradeRecommendation.data.vehicle.class;\n\n  if (vehicleClass === 'vip') {\n    vehicleClass = 'luxury';\n  }\n\n  return { ...upgradeRecommendation.props(),\n    title: `Upgrade To ${vehicleClass}`,\n    description: `We recommend you upgrade, For just £${upgradeRecommendation.priceDifference.toFixed(2)} more you can ride in an ${vehicleClass} vehicle.`,\n    gaEventData: {\n      category: 'Quotes',\n      action: `upgrade class to ${vehicleClass}`\n    },\n    bulletPoints: ['More comfortable and spacious ride.', `${capitalizeFirstLetter(vehicleClass)} class driver.`, 'Recommended for business travels and airport transfers.']\n  };\n}; // create a default exportable object container\n\nconst VehicleUpgrade = {\n  MAX_CAR_PASSENGERS,\n  CLASS_UPGRADE_TIERS,\n  TYPE_UPGRADE_TIERS,\n  emptyVehicleProps,\n  emptyUpgradeProps,\n  upgradeCriteria,\n  upgradeOptionProps,\n  typeUpgradeProps,\n  classUpgradeProps\n}; // export the default object container\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (VehicleUpgrade);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL0JJUS9WZWhpY2xlVXBncmFkZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21tb24vQklRL1ZlaGljbGVVcGdyYWRlLmpzP2YyOWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgbWF4IHBhc3NlbmdlcnMgZm9yIGEgc2luZ2xlIHN0YW5kYXJkIGNhclxuICogQHR5cGUgTnVtYmVyXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfQ0FSX1BBU1NFTkdFUlMgPSA0O1xuXG4gLyoqXG4gICogVGhlIGF2YWlsYWJsZSBxdW90ZSB2ZWhpY2xlIGNsYXNzIHVwZ3JhZGUgdGllciBvcHRpb25zXG4gICogQHR5cGUgQXJyYXlcbiAgKi9cbmV4cG9ydCBjb25zdCBDTEFTU19VUEdSQURFX1RJRVJTID0gW1xuICAgICAnc3RhbmRhcmQnLCBcbiAgICAgJ2V4ZWN1dGl2ZScsIFxuICAgICAndmlwJywgXG4gICAgICdjaGF1ZmZldXInXG5dO1xuIFxuIC8qKlxuICAqIFRoZSBhdmFpbGFibGUgcXVvdGUgdmVoaWNsZSB0eXBlIHVwZ3JhZGUgdGllciBvcHRpb25zXG4gICogQHR5cGUgQXJyYXlcbiAgKi9cbmV4cG9ydCBjb25zdCBUWVBFX1VQR1JBREVfVElFUlMgPSBbXG4gICAgICdtaW5pY2FiJywgXG4gICAgICdtcHYnLCBcbiAgICAgJ21pbmlidXMnLCBcbiAgICAgJ2NvYWNoJ1xuXTtcblxuLy8gZGVmaW5lIHRoZSBvYmplY3Qgc3RydWN0dXJlIGZvciBxdW90ZSB2ZWhpY2xlXG5leHBvcnQgY29uc3QgZW1wdHlWZWhpY2xlUHJvcHMgPSB7XG4gICAgVmVoaWNsZUNsYXNzIDogbnVsbCxcbiAgICBWZWhpY2xlVHlwZSA6IG51bGwsXG4gICAgaW1hZ2UgOiBudWxsLFxuICAgIG5hbWUgOiBudWxsXG59O1xuLy8gZGVmaW5lIHRoZSBvYmplY3Qgc3RydWN0dXJlIHJldHVybmVkIGJ5IHRoZSByZWNvbW1lbmRlZCB1cGdyYWRlLnByb3BzKClcbmV4cG9ydCBjb25zdCBlbXB0eVVwZ3JhZGVQcm9wcyA9IHtcbiAgICBzZWxlY3RlZFF1b3RlSWQgOiBudWxsLFxuICAgIHNlbGVjdGVkVmVoaWNsZUluZGV4IDogbnVsbCxcbiAgICB1cGdyYWRlUXVvdGVJZCA6IG51bGwsXG4gICAgdXBncmFkZVZlaGljbGVJbmRleCA6IG51bGwsXG4gICAgcHJpY2VEaWZmZXJlbmNlIDogOTk5OSxcbiAgICBzZWxlY3RlZFZlaGljbGUgOiBlbXB0eVZlaGljbGVQcm9wcyxcbiAgICB1cGdyYWRlVmVoaWNsZSA6IGVtcHR5VmVoaWNsZVByb3BzLFxuICAgIHRpdGxlIDogJ05vIFVwZ3JhZGUnLFxuICAgIGRlc2NyaXB0aW9uIDogJ05vIFVwZ3JhZGUnLFxuICAgIGdhRXZlbnREYXRhIDoge1xuICAgICAgICBjYXRlZ29yeSA6ICdRdW90ZXMnLFxuICAgICAgICBhY3Rpb24gOiAnUXVvdGUgVXBncmFkZSdcbiAgICB9LFxuICAgIGJ1bGxldFBvaW50cyA6IFtdXG59XG4gXG4vKipcbiAqIERldGVybWluZSB0aGUgdXBncmFkZSBjcml0ZXJpYSBmb3IgYSBjYXRlZ29yeSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGllclR5cGUgdGhlIHVwZ3JhZGUgY2F0ZWdvcnkgdGllciB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gam91cm5leSB0aGUgcXVvdGVkIGpvdXJuZXkgZGV0YWlsc1xuICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGVkVmVoaWNsZSB0aGUgc2VsZWN0ZWQgdmVoaWNsZSB0byBjaGVjayB1cGdyYWRlIHBvc2liaWxpdGllcyBvZlxuICogQHJldHVybnMge0Jvb2xlYW59IFRSVUUgSWYgdGhlIGNhdGVnb3J5IHR5cGUgcmVxdWlybWVudCBjcml0ZXJpYSBpcyBtZXRcbiAqIEB0aHJvd3MgZXJyb3IgaWYgdGhlIGNhdGVnb3J5IHR5cGUgaGFzIG5vIHVwZ3JhZGUgY3JpdGVyaWEgZGVmaW5lZFxuICovXG5leHBvcnQgY29uc3QgdXBncmFkZUNyaXRlcmlhID0gKHRpZXJUeXBlLCBqb3VybmV5LCBzZWxlY3RlZFZlaGljbGUpID0+IHtcbiAgICBzd2l0Y2godGllclR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2xhc3MnIDpcbiAgICAgICAgICAgIHJldHVybiBqb3VybmV5LnBlb3BsZSA8PSBNQVhfQ0FSX1BBU1NFTkdFUlM7XG4gICAgICAgIGNhc2UgJ3R5cGUnIDpcbiAgICAgICAgICAgIHJldHVybiBqb3VybmV5LnBlb3BsZSA8PSBNQVhfQ0FSX1BBU1NFTkdFUlMgJiYgam91cm5leS5wZW9wbGUgPT09IHNlbGVjdGVkVmVoaWNsZS5wYXNzZW5nZXJzO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgYFVua25vd24gY2F0ZWdvcnkgdXBncmFkZSB0eXBlIFske3RpZXJUeXBlfV0hXCJgO1xuICAgIH1cbn07XG4gICBcbi8qKlxuICogR2V0IHRoZSB1cGdyYWRlIHByb3BzIGZvciB0aGUgcmVjb21tZW5kZWQgcXVvdGUgdXBncmFkZVxuICogQHBhcmFtIHtPYmplY3R9IHVwZ3JhZGVSZWNvbW1lbmRhdGlvbiB0aGUgdXBncmFkZSByZWNvbW1lbmRhdGlvbiBmb3IgdGhlIHNlbGVjdGVkIHF1b3RlXG4gKiBAcmV0dXJuIHtPYmplY3R9IFxuICovXG5leHBvcnQgY29uc3QgdXBncmFkZU9wdGlvblByb3BzID0gdXBncmFkZVJlY29tbWVuZGF0aW9uID0+IHtcbiAgICAvLyBnZXQgdGhlIHJlY29tbWVuZGVkIHVwZ3JhZGUgcHJvcHNcbiAgICBsZXQgcHJvcHMgPSB1cGdyYWRlUmVjb21tZW5kYXRpb24ucHJvcHM7XG4gICAgLy8gYWRkIHRoZSBhZGRpdGlvbmFsIHVwZ3JhZGUgb3B0aW9uIHByb3BzIHNwZWNpZmljIHRvIHRoZSBjYXRlZ29yeSB0eXBlIHRpZXIgdXBncmFkZSByZWNvbW1lbmRlZFxuICAgIHN3aXRjaCh1cGdyYWRlUmVjb21tZW5kYXRpb24uY2F0ZWdvcnlUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2NsYXNzJyA6IFxuICAgICAgICAgICAgcHJvcHMgPSAoKSA9PiBjbGFzc1VwZ3JhZGVQcm9wcyh1cGdyYWRlUmVjb21tZW5kYXRpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndHlwZScgOiBcbiAgICAgICAgICAgIHByb3BzID0gKCkgPT4gdHlwZVVwZ3JhZGVQcm9wcyh1cGdyYWRlUmVjb21tZW5kYXRpb24pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzO1xufTtcbiAgICBcbi8qKlxuICogR2V0IHRoZSB1cGdyYWRlIHByb3BzIGZvciB0aGUgY29tcG5vbmV0IGZvciBhIHZlaGljbGUgdHlwZSB1cGdyYWRlIHJlY29tbWVuZGF0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gdXBncmFkZVJlY29tbWVuZGF0aW9uIHRoZSB1cGdyYWRlIHJlY29tbWVuZGF0aW9uIGZvciB0aGUgc2VsZWN0ZWQgcXVvdGVcbiAqIEByZXR1cm4ge09iamVjdH0gXG4gKi9cbmV4cG9ydCBjb25zdCB0eXBlVXBncmFkZVByb3BzID0gdXBncmFkZVJlY29tbWVuZGF0aW9uID0+IHtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgLi4udXBncmFkZVJlY29tbWVuZGF0aW9uLnByb3BzKCksXG4gICAgICAgIHRpdGxlIDogJ0l0IGxvb2tzIGEgbGl0dGxlIHRpZ2h0IScsXG4gICAgICAgIGRlc2NyaXB0aW9uIDogJ1dlIHJlY29tbWVuZCB5b3UgdXBncmFkZSB0byBhIGJpZ2dlciB2ZWhpY2xlLCB5b3UgbWlnaHQgYmUgYSBiaXQgc3F1YXNoZWQuJyxcbiAgICAgICAgZ2FFdmVudERhdGEgOiB7XG4gICAgICAgICAgICBjYXRlZ29yeSA6ICdRdW90ZXMnLFxuICAgICAgICAgICAgYWN0aW9uIDogYHVwZ3JhZGUgdHlwZSB0byAke3VwZ3JhZGVSZWNvbW1lbmRhdGlvbi5kYXRhLnZlaGljbGUudHlwZX1gXG4gICAgICAgIH0sXG4gICAgICAgIGJ1bGxldFBvaW50cyA6IFtcbiAgICAgICAgICAgICdNb3JlIHNwYWNlIGZvciBwYXNzZW5nZXJzJyxcbiAgICAgICAgICAgICdNb3JlIHN0b3JhZ2Ugc3BhY2UgZm9yIHlvdXIgbHVnZ2FnZScsXG4gICAgICAgICAgICAnUGVhY2Ugb2YgbWluZCwgZXZlcnl0aGluZyB3aWxsIGZpdCEnXG4gICAgICAgIF1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB1cGdyYWRlIHByb3BzIGZvciB0aGUgY29tcG5vbmV0IGZvciBhIHZlaGljbGUgY2xhc3MgdXBncmFkZSByZWNvbW1lbmRhdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHVwZ3JhZGVSZWNvbW1lbmRhdGlvbiB0aGUgdXBncmFkZSByZWNvbW1lbmRhdGlvbiBmb3IgdGhlIHNlbGVjdGVkIHF1b3RlXG4gKiBAcmV0dXJuIHtPYmplY3R9IFxuICovXG5leHBvcnQgY29uc3QgY2xhc3NVcGdyYWRlUHJvcHMgPSB1cGdyYWRlUmVjb21tZW5kYXRpb24gPT4ge1xuICAgIGNvbnN0IGNhcGl0YWxpemVGaXJzdExldHRlciA9IHN0cmluZyA9PiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgbGV0IHZlaGljbGVDbGFzcyA9IHVwZ3JhZGVSZWNvbW1lbmRhdGlvbi5kYXRhLnZlaGljbGUuY2xhc3M7XG4gICAgaWYodmVoaWNsZUNsYXNzID09PSAndmlwJykge1xuICAgICAgICB2ZWhpY2xlQ2xhc3MgPSAnbHV4dXJ5JztcbiAgICB9XG4gICAgcmV0dXJuICh7XG4gICAgICAgIC4uLnVwZ3JhZGVSZWNvbW1lbmRhdGlvbi5wcm9wcygpLFxuICAgICAgICB0aXRsZSA6IGBVcGdyYWRlIFRvICR7dmVoaWNsZUNsYXNzfWAsXG4gICAgICAgIGRlc2NyaXB0aW9uIDogYFdlIHJlY29tbWVuZCB5b3UgdXBncmFkZSwgRm9yIGp1c3QgwqMke3VwZ3JhZGVSZWNvbW1lbmRhdGlvbi5wcmljZURpZmZlcmVuY2UudG9GaXhlZCgyKX0gbW9yZSB5b3UgY2FuIHJpZGUgaW4gYW4gJHt2ZWhpY2xlQ2xhc3N9IHZlaGljbGUuYCxcbiAgICAgICAgZ2FFdmVudERhdGEgOiB7XG4gICAgICAgICAgICBjYXRlZ29yeSA6ICdRdW90ZXMnLFxuICAgICAgICAgICAgYWN0aW9uIDogYHVwZ3JhZGUgY2xhc3MgdG8gJHt2ZWhpY2xlQ2xhc3N9YFxuICAgICAgICB9LFxuICAgICAgICBidWxsZXRQb2ludHMgOiBbXG4gICAgICAgICAgICAnTW9yZSBjb21mb3J0YWJsZSBhbmQgc3BhY2lvdXMgcmlkZS4nLFxuICAgICAgICAgICAgYCR7Y2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHZlaGljbGVDbGFzcyl9IGNsYXNzIGRyaXZlci5gLFxuICAgICAgICAgICAgJ1JlY29tbWVuZGVkIGZvciBidXNpbmVzcyB0cmF2ZWxzIGFuZCBhaXJwb3J0IHRyYW5zZmVycy4nXG4gICAgICAgIF1cbiAgICB9KTtcbn07XG5cbi8vIGNyZWF0ZSBhIGRlZmF1bHQgZXhwb3J0YWJsZSBvYmplY3QgY29udGFpbmVyXG5jb25zdCBWZWhpY2xlVXBncmFkZSA9IHtcbiAgICBNQVhfQ0FSX1BBU1NFTkdFUlMsXG4gICAgQ0xBU1NfVVBHUkFERV9USUVSUyxcbiAgICBUWVBFX1VQR1JBREVfVElFUlMsXG4gICAgZW1wdHlWZWhpY2xlUHJvcHMsXG4gICAgZW1wdHlVcGdyYWRlUHJvcHMsXG4gICAgdXBncmFkZUNyaXRlcmlhLFxuICAgIHVwZ3JhZGVPcHRpb25Qcm9wcyxcbiAgICB0eXBlVXBncmFkZVByb3BzLFxuICAgIGNsYXNzVXBncmFkZVByb3BzXG59O1xuLy8gZXhwb3J0IHRoZSBkZWZhdWx0IG9iamVjdCBjb250YWluZXJcbmV4cG9ydCBkZWZhdWx0IFZlaGljbGVVcGdyYWRlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBSUE7QUFFQTs7Ozs7QUFJQTtBQU9BOzs7OztBQUlBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQWRBO0FBaUJBOzs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU5BO0FBUUE7QUFFQTs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQU5BO0FBQ0E7QUFPQTtBQUNBO0FBRUE7Ozs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBY0E7QUFFQTs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBY0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/BIQ/VehicleUpgrade.js\n");

/***/ }),

/***/ "./src/components/BIQ/QuoteUpgradeOfferModal.vue":
/*!*******************************************************!*\
  !*** ./src/components/BIQ/QuoteUpgradeOfferModal.vue ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074& */ \"./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&\");\n/* harmony import */ var _QuoteUpgradeOfferModal_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./QuoteUpgradeOfferModal.vue?vue&type=script&lang=js& */ \"./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _QuoteUpgradeOfferModal_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/components/BIQ/QuoteUpgradeOfferModal.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWU/MGVlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI1YjE2MDc0JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9RdW90ZVVwZ3JhZGVPZmZlck1vZGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL3Zhci93d3cvaHRtbC93cC1jb250ZW50L3BsdWdpbnMvdGF4aWNvZGUvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMjViMTYwNzQnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMjViMTYwNzQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMjViMTYwNzQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI1YjE2MDc0JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzI1YjE2MDc0Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFpQkE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/BIQ/QuoteUpgradeOfferModal.vue\n");

/***/ }),

/***/ "./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&":
/*!********************************************************************************!*\
  !*** ./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js& ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_QuoteUpgradeOfferModal_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib!../../../node_modules/vue-loader/lib??vue-loader-options!./QuoteUpgradeOfferModal.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_QuoteUpgradeOfferModal_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQklRL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlPzI3MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=script&lang=js&\n");

/***/ }),

/***/ "./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&":
/*!**************************************************************************************!*\
  !*** ./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074& ***!
  \**************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib??vue-loader-options!./QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074& */ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_QuoteUpgradeOfferModal_vue_vue_type_template_id_25b16074___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9CSVEvUXVvdGVVcGdyYWRlT2ZmZXJNb2RhbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MjViMTYwNzQmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQklRL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlPzU5YzUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1F1b3RlVXBncmFkZU9mZmVyTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI1YjE2MDc0JlwiIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/BIQ/QuoteUpgradeOfferModal.vue?vue&type=template&id=25b16074&\n");

/***/ }),

/***/ "./src/frontend/static-assets/less/common/modal_popup.less":
/*!*****************************************************************!*\
  !*** ./src/frontend/static-assets/less/common/modal_popup.less ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZnJvbnRlbmQvc3RhdGljLWFzc2V0cy9sZXNzL2NvbW1vbi9tb2RhbF9wb3B1cC5sZXNzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Zyb250ZW5kL3N0YXRpYy1hc3NldHMvbGVzcy9jb21tb24vbW9kYWxfcG9wdXAubGVzcz9hM2M0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/frontend/static-assets/less/common/modal_popup.less\n");

/***/ })

}]);
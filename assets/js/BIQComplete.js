(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{260:function(e,t,o){"use strict";o.r(t);var n=o(73),i=o(28),a=o.n(i);const r={name:"detailsLoadError"};var s={name:"BookingJourneyDetails",props:{bookingDetailsFrom:{type:String,required:!0,default:"//booking-details/?booking_ref="},bookingRef:{type:String,required:!0,default:""},debugging:{type:Boolean,default:!1}},data:()=>({loaded:!1,error:!1,booking:{ref:"",name:"",passengers:1,pickup:"",destination:"",vias:[],date:null,return_date:null}}),mounted(){const e=this;this.loaded=!1,this.error=!1,e.debugging&&(console.group(`Loading Booking Details from '${this.bookingDetailsFrom}'`),console.log({...this.booking})),a.a.get(`${this.bookingDetailsFrom}${this.bookingRef}`).then(t=>{if(e.debugging&&console.log(t),"OK"!=t.data.status)throw new ErrorEvent(t.data.status,{error:new Error("Booking Details Error"),message:t.data[t.data.status.toLowerCase()]});const o={ref:e.bookingRef,name:t.data.booking.passenger.name,passengers:Number.parseInt(t.data.booking.people),pickup:t.data.booking.pickup.string,destination:t.data.booking.destination.string,vias:t.data.booking.vias,date:new Date(Date.parse(t.data.booking.date)),return_date:null};t.data.booking.return&&(o.return_date=new Date(Date.parse(t.data.booking.return))),e.booking=o,e.loaded=!0,e.debugging&&(console.log("Booking Details Loaded"),console.log({...e.booking}),console.groupEnd())}).catch(t=>{e.error=!0;const o={data:{bookingRef:e.bookingRef,URL:e.bookingDetailsFrom,error:t}};e.$emit(r.name,o),e.debugging&&(console.info("Booking Details Load Error"),console.log(o),console.groupEnd())})},computed:{journeyDate:function(){return null!==this.booking.date?this.booking.date.toDateString():""},journeyTime:function(){return null!==this.booking.date?this.booking.date.toLocaleTimeString():""},journeyReturnDate:function(){return null!==this.booking.return_date?this.booking.return_date.toDateString():""},journeyReturnTime:function(){return null!==this.booking.return_date?this.booking.return_date.toLocaleTimeString():""}}},g=o(14),l=Object(g.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.loaded?o("div",{staticClass:"col",attrs:{id:"biq-journey-details-booked"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[e._v("\n            Booking Details\n        ")]),e._v(" "),o("ul",{staticClass:"list-group list-group-flush"},[o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v("Booking Reference:")]),e._v(" "+e._s(e.bookingRef)+"\n            ")]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v("Name:")]),e._v(" "+e._s(e.booking.name)+"\n            ")]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v("Date:")]),e._v(" "+e._s(e.journeyDate)+" at "+e._s(e.journeyTime)+"\n            ")]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v("Travelling From:")]),e._v(" "+e._s(e.booking.pickup)+"\n            ")]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v("Going To:")]),e._v(" "+e._s(e.booking.destination)+"\n            ")])])])]):e._e()}),[],!1,null,null,null).exports,d={name:"CompletePage",mixins:[n.a],components:{"biq-booking-journey-details":l},props:{appRESTBase:{type:String,default:"//"}},data(){return{page_heading:"Your booking is complete",page_text:this.appSettings.complete_page_text,booking_load_error:!1}},methods:{onDetailsLoadError:function(){this.booking_load_error=!0}}},u=Object(g.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"completePage"}},[o("h3",[e._v(e._s(e.page_heading))]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("p",[e._v(e._s(e.page_text))])]),e._v(" "),o("biq-booking-journey-details",{attrs:{"booking-details-from":""+e.appRESTBase+e.appConfig.BOOKING_DETALS_URI,"booking-ref":""+e.$route.params.booking_ref,debugging:e.debugging},on:{detailsLoadError:e.onDetailsLoadError}})],1)])}),[],!1,null,null,null);t.default=u.exports}}]);
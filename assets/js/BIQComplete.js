(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{257:function(e,t,o){"use strict";const n={props:{appConfig:{type:Object,required:!0,default:function(){return null}},appSettings:{type:Object,required:!0,default:function(){return null}},debugging:{type:Boolean,default:!1}}};t.a=n},273:function(e,t,o){"use strict";o.r(t);var n=o(257),i=o(33),a=o.n(i),s=o(18);const r={header:"Booking Details",booking:{ref:"Booking Reference : ",name:"Name : ",passengers:"Passengers : ",pickup:"Pickup : ",destination:"Destination : ",via:"Via : ",date:"Date : ",return_date:"Returning : "}},l={loaded:!1,error:!1,booking:{ref:"",name:"",passengers:1,pickup:"",destination:"",vias:[],date:null,return_date:null}},g={bookingDetailsFrom:{type:String,required:!0,default:"//booking-details/?booking_ref="},bookingRef:{type:String,required:!0,default:""},labels:{type:Object,default:function(){return r}},debugging:{type:Boolean,default:!1}},u={name:"detailsLoadError"};var d={name:"BookingJourneyDetails",props:{...g},computed:{journeyDate:function(){return this.dateString(this.booking.date)},journeyTime:function(){return this.timeString(this.booking.date)},journeyReturnDate:function(){return this.dateString(this.booking.return_date)},journeyReturnTime:function(){return this.timeString(this.booking.return_date)}},methods:{...{dateString:function(e){return null!==e?e.toDateString():""},timeString:function(e){return null!==e?e.toLocaleTimeString():""},getBookingDetails:function(){const e=this;this.loaded=!1,this.error=!1,this.debugging&&(console.group(`Loading Booking Details from '${this.bookingDetailsFrom}'`),console.log("Booking Details",{...this.booking})),a.a.get(`${this.bookingDetailsFrom}${this.bookingRef}`).then(t=>{if(e.debugging&&console.log(t),"OK"!=t.data.status)throw new ErrorEvent(t.data.status,{error:new Error("Booking Details Error"),message:t.data[t.data.status.toLowerCase()]});const o={ref:e.bookingRef,name:t.data.booking.passenger.name,passengers:Number.parseInt(t.data.booking.people),pickup:t.data.booking.pickup.string,destination:t.data.booking.destination.string,vias:t.data.booking.vias,date:Object(s.f)(t.data.booking.date),return_date:null};t.data.booking.return&&(o.return_date=Object(s.f)(t.data.booking.return)),e.booking=o,e.loaded=!0,e.debugging&&(console.log("Booking Details Loaded",{...e.booking}),console.groupEnd())}).catch(t=>{e.error=!0;const o={data:{bookingRef:e.bookingRef,URL:e.bookingDetailsFrom,error:t}};e.$emit(u.name,o),e.debugging&&(console.info("Booking Details Load Error"),console.log(o),console.groupEnd())})}}},data:()=>({...l}),mounted(){this.getBookingDetails()}},b=o(19),c=Object(b.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.loaded?o("div",{staticClass:"flex-sm-fill"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[e._v(e._s(e.labels.header))]),e._v(" "),o("ul",{staticClass:"list-group list-group-flush"},[o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v(e._s(e.labels.booking.ref))]),o("span",[e._v(e._s(e.bookingRef))])]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v(e._s(e.labels.booking.name))]),e._v(" "),o("span",[e._v(e._s(e.booking.name))])]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v(e._s(e.labels.booking.date))]),e._v(" "),o("span",[e._v(e._s(e.journeyDate)+" @ "+e._s(e.journeyTime))])]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v(e._s(e.labels.booking.pickup))]),e._v(" "),o("span",[e._v(e._s(e.booking.pickup))])]),e._v(" "),o("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[o("strong",[e._v(e._s(e.labels.booking.destination))]),e._v(" "),o("span",[e._v(e._s(e.booking.destination))])])])])]):e._e()}),[],!1,null,null,null).exports;const p={page_heading:"Your booking is complete",page_text:"Thank you for booking with us.",booking_details_labels:{header:"Booking Details",booking:{ref:"Booking Reference : ",name:"Name : ",passengers:"",pickup:"Travelling From : ",destination:"Going To : ",via:"",date:"Date : ",return_date:""}},booking_load_error:!1};var k={name:"CompletePage",props:{...{appRESTBase:{type:String,default:"//"}}},computed:{bookingDetailsFrom:function(){return`${this.appRESTBase}${this.appConfig.BOOKING_DETALS_URI}`}},methods:{onDetailsLoadError:function(){this.booking_load_error=!0}},mixins:[n.a],components:{"biq-booking-journey-details":c},data(){return{...p,page_text:this.appSettings.complete_page_text}}},f=Object(b.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"completePage"}},[o("h3",[e._v(e._s(e.page_heading))]),e._v(" "),o("div",{staticClass:"d-flex flex-wrap"},[o("div",{staticClass:"flex-sm-fill"},[o("p",[e._v(e._s(e.page_text))])]),e._v(" "),o("biq-booking-journey-details",{attrs:{"booking-details-from":e.bookingDetailsFrom,"booking-ref":e.$route.params.booking_ref,labels:e.booking_details_labels,debugging:e.debugging,id:"biq-journey-details-booked"},on:{detailsLoadError:e.onDetailsLoadError}})],1)])}),[],!1,null,null,null);t.default=f.exports}}]);
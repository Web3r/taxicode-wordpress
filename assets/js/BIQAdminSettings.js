(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{412:function(e,t,s){"use strict";var a=s(29);const r={props:{appConfig:{type:Object,required:!0,default:function(){return null}},appSettings:{type:Object,required:!0,default:function(){return null}},appRESTBase:{...a.a.appURL},appAssetURL:{...a.a.appAssetURL},debugging:{...a.a.appDebugEnabled}}};t.a=r},418:function(e,t,s){},42:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return r})),s.d(t,"f",(function(){return i})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"c",(function(){return u}));const a=[51.509865,-.118092],r=[51.47002,-.454295],i=(e,t,s)=>({string:e,postcode:t,position:s}),o=e=>({lat:e[0],lng:e[1]}),l=(e,t)=>{const s=[];return s.push((e[0]+t[0])/2),s.push((e[1]+t[1])/2),s},n=(e,t)=>o(l(e,t)),p=e=>[e.lng,e.lat],c={toCoords:o,centerOn:l,centerOnCoords:n},d={toCoords:e=>p(o(e)),centerOn:(e,t)=>p(n(e,t)),toGeoJSON:p},u=i("","",[0,0])},425:function(e,t,s){"use strict";s.r(t);var a=s(412),r=s(19);class i{constructor(){this.errors={}}has(e){return this.errors.hasOwnProperty(e)}any(){return Object.keys(this.errors).length>0}get(e){if(this.errors[e])return this.errors[e][0]}record(e){this.errors=e}clear(e){e?delete this.errors[e]:this.errors={}}}class o{constructor(e){this.originalData=e;for(let t in e)this[t]=e[t];this.errors=new i}data(){let e={};for(let t in this.originalData)e[t]=this[t];return e}reset(){for(let e in this.originalData)this[e]="";this.errors.clear()}post(e,t){return this.submit("post",e,t)}put(e){return this.submit("put",e,config)}patch(e){return this.submit("patch",e,config)}delete(e){return this.submit("delete",e,config)}submit(e,t,s){return new Promise((a,r)=>{axios[e](t,this.data(),s).then(e=>{this.onSuccess(e.data),a(e.data)}).catch(e=>{this.onFail(e.response.data),r(e.response.data)})})}onSuccess(e){return null!=typeof this.originalData.preserve_on_submit&&1==this.originalData.preserve_on_submit||this.reset(),e}onFail(e){this.errors.record(e)}}var l={name:"FlashMessage",props:{messageClass:{type:String,default:""},heading:{type:String,default:""},message:{type:String,default:""}}},n=s(18),p=Object(n.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.heading?s("div",{class:e.messageClass},[s("h4",[e._v(e._s(e.heading))]),e._v(" "),e.message?s("p",[e._v(e._s(e.message))]):e._e()]):e._e()}),[],!1,null,null,null).exports;s(418);const c={name:"confirm"},d={name:"cancel"};var u={name:"BasicConfirmModal",props:{header:{type:String,default:""},body:{type:String,default:""},footer:{type:String,default:""},confirmActionText:{type:String,default:"OK"},cancelActionText:{type:String,default:"Cancel"}},methods:{onCancel:function(e){this.$emit(d.name,e)},onConfirm:function(e){this.$emit(c.name,e)}},mounted(){this.$refs.overlay.focus()}},_=Object(n.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"modal"}},[s("div",{ref:"overlay",staticClass:"modal-mask",attrs:{tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onCancel(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(t)}]}},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[e.$slots.header||e.header?s("div",{staticClass:"modal-header"},[e._t("header",[s("h5",[e._v(e._s(e.header))])],{text:e.header})],2):e._e(),e._v(" "),s("div",{staticClass:"modal-body"},[e._t("body",[s("p",[e._v(e._s(e.body))])],{text:e.body})],2),e._v(" "),s("div",{staticClass:"modal-footer d-flex flex-wrap justify-content-end"},[e._t("footer",[s("span",[e._v(e._s(e.footer))]),e._v(" "),s("button",{staticClass:"btn btn-secondary",on:{click:e.onCancel}},[e._v(e._s(e.cancelActionText))]),e._v(" "),s("button",{staticClass:"btn btn-primary",on:{click:e.onConfirm}},[e._v(e._s(e.confirmActionText))])],{cancel:e.onCancel,confirm:e.onConfirm,text:e.footer})],2)])])])])}),[],!1,null,null,null).exports,m=s(42),f=s(43);var h={name:"SettingsAPIForm",props:{values:{type:Object,default:function(){return{taxicode_public:"",taxicode_private:"",biq_api_host:"https://api.taxicode.com/"}}}},mixins:[f.b],data(){return{fields:(e="",{taxicode_public:{value:"",label:"Taxicode Public API Key",required:!0,error:null,errorMsg:"Value required for Taxicode Public API Key",id:e+"taxicode_public",placeholder:"Enter your Public Taxicode API Key",help:"The Taxicode affiliate API public key assigned to your account."},taxicode_private:{value:"",label:"Taxicode Private API Key",required:!0,error:null,errorMsg:"Value required for Taxicode Private API Key",id:e+"taxicode_private",placeholder:"Enter your Private Taxicode API Key",help:"The Taxicode affiliate API Private key assigned to your account, do not share your key with anyone else."},biq_api_host:{value:"",label:"Taxicode BIQ API Host",required:!0,error:null,errorMsg:"Value required for Taxicode BIQ API Host",id:e+"biq_api_host",placeholder:"The Taxicode API host address",help:'The hostname of the Taxicode API to use e.g. "https://api.taxicode.com/"'}})};var e},mounted(){this.setFieldValues()}},v=Object(n.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.taxicode_public.id}},[e._v(e._s(e.fields.taxicode_public.label))])]),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.taxicode_public.value,expression:"fields.taxicode_public.value"}],staticClass:"regular-text",class:e.errorStateClass("taxicode_public"),attrs:{id:e.fields.taxicode_public.id,placeholder:e.fields.taxicode_public.placeholder,required:e.fields.taxicode_public.required,type:"text","aria-describedby":"taxicode_publicHelp"},domProps:{value:e.fields.taxicode_public.value},on:{input:function(t){t.target.composing||e.$set(e.fields.taxicode_public,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"taxicode_publicHelp"}},[e._v(e._s(e.fields.taxicode_public.help))])])]),e._v(" "),s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.taxicode_private.id}},[e._v(e._s(e.fields.taxicode_private.label))])]),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.taxicode_private.value,expression:"fields.taxicode_private.value"}],staticClass:"regular-text",class:e.errorStateClass("taxicode_private"),attrs:{id:e.fields.taxicode_private.id,placeholder:e.fields.taxicode_private.placeholder,required:e.fields.taxicode_private.required,type:"text","aria-describedby":"taxicode_privateHelp"},domProps:{value:e.fields.taxicode_private.value},on:{input:function(t){t.target.composing||e.$set(e.fields.taxicode_private,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"taxicode_privateHelp"}},[e._v(e._s(e.fields.taxicode_private.help))])])]),e._v(" "),s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.biq_api_host.id}},[e._v(e._s(e.fields.biq_api_host.label))])]),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.biq_api_host.value,expression:"fields.biq_api_host.value"}],staticClass:"regular-text",class:e.errorStateClass("biq_api_host"),attrs:{id:e.fields.biq_api_host.id,placeholder:e.fields.biq_api_host.placeholder,required:e.fields.biq_api_host.required,type:"text","aria-describedby":"biq_api_hostHelp"},domProps:{value:e.fields.biq_api_host.value},on:{input:function(t){t.target.composing||e.$set(e.fields.biq_api_host,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"biq_api_hostHelp"}},[e._v(e._s(e.fields.biq_api_host.help))])])])])])}),[],!1,null,null,null).exports;var g={name:"SettingsPaymentForm",props:{values:{type:Object,default:function(){return{paypal_public:"",stripe_public:"",stripe_cardform_style:""}}}},mixins:[f.b],data(){return{fields:(e="",{paypal_public:{value:"",label:"Paypal Client ID",required:!0,error:null,errorMsg:"Value required for Paypal Client ID",id:e+"paypal_public",placeholder:"Enter the Paypal Client ID",help:"The public Paypal Client ID assigned to you."},stripe_public:{value:"",label:"Stripe Public API Key",required:!0,error:null,errorMsg:"Value required for Stripe Public API Key",id:e+"stripe_public",placeholder:"Enter the Stripe Public API Key",help:"The Stripe Public API Key assigned to you."},stripe_cardform_style:{value:"",label:"Stripe Cardform Custom Style",required:!1,error:null,errorMsg:"",id:e+"stripe_cardform_style",placeholder:"",help:""}})};var e},mounted(){this.setFieldValues()}},b=Object(n.a)(g,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.paypal_public.id}},[e._v(e._s(e.fields.paypal_public.label))])]),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.paypal_public.value,expression:"fields.paypal_public.value"}],staticClass:"regular-text",class:e.errorStateClass("paypal_public"),attrs:{id:e.fields.paypal_public.id,placeholder:e.fields.paypal_public.placeholder,required:e.fields.paypal_public.required,type:"text","aria-describedby":"paypal_publicHelp"},domProps:{value:e.fields.paypal_public.value},on:{input:function(t){t.target.composing||e.$set(e.fields.paypal_public,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"paypal_publicHelp"}},[e._v(e._s(e.fields.paypal_public.help))])])]),e._v(" "),s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.stripe_public.id}},[e._v(e._s(e.fields.stripe_public.label))])]),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fields.stripe_public.value,expression:"fields.stripe_public.value"}],staticClass:"regular-text",class:e.errorStateClass("stripe_public"),attrs:{id:e.fields.stripe_public.id,placeholder:e.fields.stripe_public.placeholder,required:e.fields.stripe_public.required,type:"text","aria-describedby":"stripe_publicHelp"},domProps:{value:e.fields.stripe_public.value},on:{input:function(t){t.target.composing||e.$set(e.fields.stripe_public,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"stripe_publicHelp"}},[e._v(e._s(e.fields.stripe_public.help))])])]),e._v(" "),s("tr",[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.fields.stripe_cardform_style.id}},[e._v(e._s(e.fields.stripe_cardform_style.label))])]),e._v(" "),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fields.stripe_cardform_style.value,expression:"fields.stripe_cardform_style.value"}],staticClass:"regular-text code",class:e.errorStateClass("stripe_cardform_style"),attrs:{id:e.fields.stripe_cardform_style.id,placeholder:e.fields.stripe_cardform_style.placeholder,required:e.fields.stripe_cardform_style.required,"aria-describedby":"stripe_cardform_styleHelp",rows:"10",cols:"50"},domProps:{value:e.fields.stripe_cardform_style.value},on:{input:function(t){t.target.composing||e.$set(e.fields.stripe_cardform_style,"value",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),e._m(0)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("small",{staticClass:"form-text text-muted",attrs:{id:"stripe_cardform_styleHelp"}},[this._v("\n                    See "),t("a",{attrs:{href:"https://stripe.com/docs/js/appendix/style",title:"Stripe JS Card Element Style Object",target:"_blank"}},[this._v("Stripe JS Card Element Style Object")]),this._v(" for details of valid options.\n                ")])}],!1,null,null,null).exports;const y={name:"appSettingsUpdated"},x={name:"updateSettingsError"};var S={name:"SettingsPage",mixins:[a.a],components:{"flash-message":p,"popup-modal":_,"the-biq-journey-route-map":()=>Promise.all([s.e(0),s.e(8)]).then(s.bind(null,428)),"biq-api-settings-form-section":v,"biq-payment-settings-form-section":b},props:{adminNonce:{type:String,default:""}},data:()=>({page_title:"Settings",flash_message:!1,flash_message_timeout:5e3,show_map_test_modal:!1,map_test_error:!1,mapbox_test:{pickup:Object(m.f)("London","",m.b),desination:Object(m.f)("London Heathrow","TW6 1AP",m.a)},form_sections:["apiSettingsForm","paymentSettingsForm"],validation_error_class:"error",validation_errors:{search_target_permalink:!1},form:new o({search_target_permalink:"/booking-instant-quotes/",mapbox_public:"",mapbox_style:"mapbox://styles/mapbox/streets-v11",test_mode:1,quote_type:"all",recommend_upgrade:0,complete_page_text:"Thank you for booking with us.",custom_css:"",preserve_on_submit:!0}),reloading:!1}),created(){this.propagateSettingsToFormData()},computed:{apiSettingsValues:function(){return this.reloading?null:{taxicode_public:this.appSettings.biq_pk,taxicode_private:this.appSettings.biq_sk,biq_api_host:this.appSettings.biq_api_host}},paymentSettingsValues:function(){return this.reloading?{}:{paypal_public:this.appSettings.paypal_pk,stripe_public:this.appSettings.stripe_pk,stripe_cardform_style:this.appSettings.stripe_cardform_style}}},methods:{onReloadSettings:function(){this.reloading=!0,this.propagateSettingsToFormData(),this.reloading=!1},propagateSettingsToFormData:function(){this.form.search_target_permalink=this.appSettings.search_target_permalink,this.form.mapbox_public=this.appSettings.mapbox_pk,this.form.mapbox_style=this.appSettings.mapbox_style,this.form.test_mode=this.appSettings.booking_test_mode?1:0,this.form.quote_type=this.appSettings.quote_type,this.form.recommend_upgrade=this.appSettings.recommend_upgrade?1:0,this.form.complete_page_text=this.appSettings.complete_page_text,this.form.custom_css=this.appSettings.custom_css},onMapTestClick:function(e){this.map_test_error=!1,this.show_map_test_modal=!0},onMapTestError:function(e){console.log("map error",e),this.map_test_error=!0},onSaveSettings:function(e){if(!this.validate())return this.debugging&&(console.group("BIQ App Settings Validation Error"),console.log(e),console.log(this.validation_errors),console.groupEnd()),this.flashMessage("Failed to update settings!","Please check the form for errors","error",this.flash_message_timeout),!1;const t=this,s=this.appRESTBase+"settings/";this.debugging&&console.group(`Updating BIQ App Settings to '${s}'`);let a={};this.form_sections.forEach(e=>{a={...a,...this.$refs[e].inputValues()}});const i=new o({...a,...this.form.data()});this.debugging&&(console.log("BIQ Form Sections Data",{...a}),console.log("Form Data",{...this.form.data()}),console.log("Post Form Data",{...i.data()}),console.groupEnd()),i.post(s,Object(r.f)(this.adminNonce)).then(e=>{t.flashMessage("Settings Updated","","updated",t.flash_message_timeout);const s={...e};t.$emit(y.name,s)}).catch(e=>{t.flashMessage("Failed to update settings!","","error",t.flash_message_timeout);const a={data:{form:{...i.data()},URL:s,error:e}};t.$emit(x.name,a),t.debugging&&(console.info("Update Settings Error"),console.log("Update Event",a),console.groupEnd())})},validate:function(){let e=0,t={search_target_permalink:!1};return this.form_sections.forEach(s=>{this.$refs[s].validate()||(t={...t,...this.$refs[s].validationErrors()},e++)}),""==this.form.search_target_permalink&&(t.search_target_permalink="Permalink to a page to display the search results & booking checkout is required."),""==this.form.mapbox_public&&(t.mapbox_public="Mapbox API is required to display the quote journey route."),""==this.form.mapbox_style&&(t.mapbox_style="Mapbox Style is required to display the quote journey route."),this.validation_errors=t,0==e},flashMessage:function(e,t,s,a){return this.flash_message={heading:e,message:t,class:s},setTimeout(()=>{this.flash_message=!1},a)}}},C=Object(n.a)(S,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-settings"},[s("h3",[e._v(e._s(e.page_title))]),e._v(" "),e.flash_message?s("flash-message",{attrs:{heading:e.flash_message.heading,message:e.flash_message.message,"message-class":e.flash_message.class}}):e._e(),e._v(" "),s("h3",[e._v("Taxicode Affiliate Settings")]),e._v(" "),s("biq-api-settings-form-section",{ref:"apiSettingsForm",attrs:{values:e.apiSettingsValues,"error-class":e.validation_error_class,debugging:e.debugging}}),e._v(" "),s("h3",[e._v("Payment Settings")]),e._v(" "),s("biq-payment-settings-form-section",{ref:"paymentSettingsForm",attrs:{values:e.paymentSettingsValues,"error-class":e.validation_error_class,debugging:e.debugging}}),e._v(" "),s("h3",[e._v("Plugin Settings")]),e._v(" "),s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[e._m(0),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.search_target_permalink,expression:"form.search_target_permalink"}],staticClass:"regular-text",class:e.validation_errors.search_target_permalink,attrs:{id:"search_target_permalink",placeholder:"/permalink-page/",required:!0,type:"text","aria-describedby":"search_target_permalinkHelp"},domProps:{value:e.form.search_target_permalink},on:{input:function(t){t.target.composing||e.$set(e.form,"search_target_permalink",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"search_target_permalinkHelp"}},[e._v("The permalink target the main client app shortcode will appear on")])])]),e._v(" "),s("tr",[e._m(1),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mapbox_public,expression:"form.mapbox_public"}],staticClass:"regular-text",class:e.validation_errors.mapbox_public,attrs:{id:"mapbox_public",placeholder:"The Mapbox Public API key",required:!0,type:"text","aria-describedby":"mapbox_publicHelp"},domProps:{value:e.form.mapbox_public},on:{input:function(t){t.target.composing||e.$set(e.form,"mapbox_public",t.target.value)}}}),e._v(" "),s("button",{staticClass:"button button-secondary",on:{click:e.onMapTestClick}},[e._v("Test")]),e._v(" "),e.show_map_test_modal?s("popup-modal",{attrs:{header:"Mapbox API integration test",footer:"Cancel"},on:{cancel:function(t){e.show_map_test_modal=!1}},scopedSlots:e._u([{key:"body",fn:function(){return[s("the-biq-journey-route-map",{ref:"map",attrs:{"mapbox-public-key":e.form.mapbox_public,"mapbox-style":e.form.mapbox_style,pickup:e.mapbox_test.pickup,destination:e.mapbox_test.destination,debugging:e.debugging},on:{directionsError:e.onMapTestError}}),e._v(" "),e.map_test_error?s("div",[s("h3",[e._v("Error")])]):e._e()]},proxy:!0},{key:"footer",fn:function(t){var a=t.text,r=t.cancel;return[s("button",{staticClass:"button button-secondary",on:{click:r}},[e._v(e._s(a))])]}}],null,!1,1798741231)}):e._e(),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"mapbox_publicHelp"}},[e._v("The Mapbox Public API key to display journey routes")])],1)]),e._v(" "),s("tr",[e._m(2),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mapbox_style,expression:"form.mapbox_style"}],staticClass:"regular-text",class:e.validation_errors.mapbox_style,attrs:{id:"mapbox_",placeholder:"mapbox://style",required:!0,type:"text","aria-describedby":"mapbox_styleHelp"},domProps:{value:e.form.mapbox_style},on:{input:function(t){t.target.composing||e.$set(e.form,"mapbox_style",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"mapbox_styleHelp"}},[e._v("The Mapbox style to display journey routes with.")])])]),e._v(" "),s("tr",[e._m(3),e._v(" "),s("td",[e._m(4),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.test_mode,expression:"form.test_mode"}],attrs:{name:"test_mode",type:"radio",value:"1"},domProps:{checked:e._q(e.form.test_mode,"1")},on:{change:function(t){return e.$set(e.form,"test_mode","1")}}}),e._v(" Making Bookings In Test Mode\n                ")]),e._v(" "),s("br"),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.test_mode,expression:"form.test_mode"}],attrs:{name:"test_mode",type:"radio",value:"0"},domProps:{checked:e._q(e.form.test_mode,"0")},on:{change:function(t){return e.$set(e.form,"test_mode","0")}}}),e._v(" Make Live Bookings\n                ")])])]),e._v(" "),s("tr",[e._m(5),e._v(" "),s("td",[e._m(6),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.quote_type,expression:"form.quote_type"}],attrs:{name:"quote_type",type:"radio",value:"all"},domProps:{checked:e._q(e.form.quote_type,"all")},on:{change:function(t){return e.$set(e.form,"quote_type","all")}}}),e._v(" All\n                ")]),e._v(" "),s("br"),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.quote_type,expression:"form.quote_type"}],attrs:{name:"quote_type",type:"radio",value:"best"},domProps:{checked:e._q(e.form.quote_type,"best")},on:{change:function(t){return e.$set(e.form,"quote_type","best")}}}),e._v(" Only Best\n                ")]),e._v(" "),s("br"),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.quote_type,expression:"form.quote_type"}],attrs:{name:"quote_type",type:"radio",value:"type_class"},domProps:{checked:e._q(e.form.quote_type,"type_class")},on:{change:function(t){return e.$set(e.form,"quote_type","type_class")}}}),e._v(" Cheapest by type and class\n                ")])])]),e._v(" "),s("tr",[e._m(7),e._v(" "),s("td",[e._m(8),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.recommend_upgrade,expression:"form.recommend_upgrade"}],attrs:{name:"recommend_upgrade",type:"radio",value:"1"},domProps:{checked:e._q(e.form.recommend_upgrade,"1")},on:{change:function(t){return e.$set(e.form,"recommend_upgrade","1")}}}),e._v(" Offer Available Recommended Quote Upgrade\n                ")]),e._v(" "),s("br"),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.recommend_upgrade,expression:"form.recommend_upgrade"}],attrs:{name:"recommend_upgrade",type:"radio",value:"0"},domProps:{checked:e._q(e.form.recommend_upgrade,"0")},on:{change:function(t){return e.$set(e.form,"recommend_upgrade","0")}}}),e._v(" Do Not Offer Quote Upgrade\n                ")])])]),e._v(" "),s("tr",[e._m(9),e._v(" "),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.complete_page_text,expression:"form.complete_page_text"}],staticClass:"regular-text",attrs:{id:"complete_page_text",name:"complete_page_text",rows:"10",cols:"50","aria-describedby":"complete_page_textHelp"},domProps:{value:e.form.complete_page_text},on:{input:function(t){t.target.composing||e.$set(e.form,"complete_page_text",t.target.value)}}}),e._v(" "),s("br"),e._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"complete_page_textHelp"}},[e._v("This does not support HTML content.")])])])])]),e._v(" "),s("h3",[e._v("Custom CSS")]),e._v(" "),s("table",{staticClass:"form-table",attrs:{role:"presentation"}},[s("tbody",[s("tr",[e._m(10),e._v(" "),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.custom_css,expression:"form.custom_css"}],staticClass:"regular-text code",attrs:{id:"custom_css",name:"custom_css",rows:"10",cols:"50"},domProps:{value:e.form.custom_css},on:{input:function(t){t.target.composing||e.$set(e.form,"custom_css",t.target.value)}}})])])])]),e._v(" "),e.flash_message?s("flash-message",{attrs:{heading:e.flash_message.heading,message:e.flash_message.message,"message-class":e.flash_message.class}}):e._e(),e._v(" "),s("button",{staticClass:"button button-primary",on:{click:e.onSaveSettings}},[e._v("Save Settings")]),e._v("\n    Â \n    "),s("button",{staticClass:"button button-secondary",on:{click:e.onReloadSettings}},[e._v("Reload Settings")])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",{attrs:{for:"search_target_permalink"}},[this._v("Search Page Permalink")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",{attrs:{for:"mapbox_public"}},[this._v("Mapbox Public API key")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",{attrs:{for:"mapbox_style"}},[this._v("Mapbox Style")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",[this._v("Booking Test Mode")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("legend",{staticClass:"screen-reader-text"},[t("span",[this._v("Quotes")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",[this._v("Quote Display")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("legend",{staticClass:"screen-reader-text"},[t("span",[this._v("Quotes")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",[this._v("Recommend Quote Upgrade")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("legend",{staticClass:"screen-reader-text"},[t("span",[this._v("Quotes")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",{attrs:{for:"complete_page_text"}},[this._v("Complete Page Text")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",{attrs:{scope:"row"}},[t("label",{attrs:{for:"custom_css"}},[this._v("Custom CSS")])])}],!1,null,null,null);t.default=C.exports},43:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return i}));const a={validClass:{type:String,default:""},errorClass:{type:String,default:"is-invalid"},errorState:{type:String,default:null},values:{type:Object,default:function(){return{}}},debugging:{type:Boolean,default:!1}},r={submit:{name:"submit"},validated:{name:"validated"},validationError:{name:"validationError"}},i={props:a,methods:{validate:function(){return this.validateValues()},specialValidationErrors:function(){return{}},specialInputValues:function(){return{}},errorStateClass:function(e){return null==this.fields[e].error?"":this.fields[e].error?this.errorClass:this.validClass},setFieldValues:function(){const e=this;this.debugging&&(console.group(`Setting ${this.$options._componentTag} values`),console.log("Fields Before",{...this.fields}),console.log("Values",this.values)),Object.keys(this.values).forEach(t=>{if(!e.fields.hasOwnProperty(t))return void(e.debugging&&console.info(`${e.$options._componentTag} does not contain field '${t}'`));const s=e.fields[t].hasOwnProperty("value")?"value":"selected";e.fields[t][s]=e.values[t]}),this.debugging&&(console.log("Fields After",{...this.fields}),console.groupEnd())},validateValues:function(){const e=this;let t=0;return this.debugging&&console.group(`Validating ${this.$options._componentTag} values`),Object.keys(this.fields).forEach(s=>{if(e.fields[s].error=null,!e.fields[s].required)return;const a=e.fields[s].hasOwnProperty("value")?"value":"selected";""==e.fields[s][a]?(e.fields[s].error=e.fields[s].errorMsg,e.debugging&&console.info(`Invalid field value for '${s}' -- ${e.fields[s].error}`),t++):e.fields[s].error=""}),this.debugging&&console.groupEnd(),0==t},validationErrors:function(){const e=this,t={};return Object.keys(this.fields).forEach(s=>{t[s]=e.fields[s].error}),{...this.specialValidationErrors(),...t}},inputValues:function(){const e=this,t={};return Object.keys(this.fields).forEach(s=>{const a=e.fields[s].hasOwnProperty("value")?"value":"selected";t[s]=e.fields[s][a]}),{...this.specialInputValues(),...t}}},data:()=>({fields:{}})};t.b=i}},0,[0,8]]);